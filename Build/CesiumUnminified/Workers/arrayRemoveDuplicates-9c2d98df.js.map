{"version":3,"file":"arrayRemoveDuplicates-9c2d98df.js","sources":["../../../../Source/Core/arrayRemoveDuplicates.js"],"sourcesContent":["import Check from \"./Check.js\";\r\nimport defaultValue from \"./defaultValue.js\";\r\nimport defined from \"./defined.js\";\r\nimport CesiumMath from \"./Math.js\";\r\n\r\nvar removeDuplicatesEpsilon = CesiumMath.EPSILON10;\r\n\r\n/**\r\n * Removes adjacent duplicate values in an array of values.\r\n *\r\n * @param {Array.<*>} [values] The array of values.\r\n * @param {Function} equalsEpsilon Function to compare values with an epsilon. Boolean equalsEpsilon(left, right, epsilon).\r\n * @param {Boolean} [wrapAround=false] Compare the last value in the array against the first value.\r\n * @returns {Array.<*>|undefined} A new array of values with no adjacent duplicate values or the input array if no duplicates were found.\r\n *\r\n * @example\r\n * // Returns [(1.0, 1.0, 1.0), (2.0, 2.0, 2.0), (3.0, 3.0, 3.0), (1.0, 1.0, 1.0)]\r\n * var values = [\r\n *     new Cesium.Cartesian3(1.0, 1.0, 1.0),\r\n *     new Cesium.Cartesian3(1.0, 1.0, 1.0),\r\n *     new Cesium.Cartesian3(2.0, 2.0, 2.0),\r\n *     new Cesium.Cartesian3(3.0, 3.0, 3.0),\r\n *     new Cesium.Cartesian3(1.0, 1.0, 1.0)];\r\n * var nonDuplicatevalues = Cesium.PolylinePipeline.removeDuplicates(values, Cartesian3.equalsEpsilon);\r\n *\r\n * @example\r\n * // Returns [(1.0, 1.0, 1.0), (2.0, 2.0, 2.0), (3.0, 3.0, 3.0)]\r\n * var values = [\r\n *     new Cesium.Cartesian3(1.0, 1.0, 1.0),\r\n *     new Cesium.Cartesian3(1.0, 1.0, 1.0),\r\n *     new Cesium.Cartesian3(2.0, 2.0, 2.0),\r\n *     new Cesium.Cartesian3(3.0, 3.0, 3.0),\r\n *     new Cesium.Cartesian3(1.0, 1.0, 1.0)];\r\n * var nonDuplicatevalues = Cesium.PolylinePipeline.removeDuplicates(values, Cartesian3.equalsEpsilon, true);\r\n *\r\n * @private\r\n */\r\nfunction arrayRemoveDuplicates(values, equalsEpsilon, wrapAround) {\r\n  //>>includeStart('debug', pragmas.debug);\r\n  Check.defined(\"equalsEpsilon\", equalsEpsilon);\r\n  //>>includeEnd('debug');\r\n\r\n  if (!defined(values)) {\r\n    return undefined;\r\n  }\r\n\r\n  wrapAround = defaultValue(wrapAround, false);\r\n\r\n  var length = values.length;\r\n  if (length < 2) {\r\n    return values;\r\n  }\r\n\r\n  var i;\r\n  var v0;\r\n  var v1;\r\n\r\n  for (i = 1; i < length; ++i) {\r\n    v0 = values[i - 1];\r\n    v1 = values[i];\r\n    if (equalsEpsilon(v0, v1, removeDuplicatesEpsilon)) {\r\n      break;\r\n    }\r\n  }\r\n\r\n  if (i === length) {\r\n    if (\r\n      wrapAround &&\r\n      equalsEpsilon(\r\n        values[0],\r\n        values[values.length - 1],\r\n        removeDuplicatesEpsilon\r\n      )\r\n    ) {\r\n      return values.slice(1);\r\n    }\r\n    return values;\r\n  }\r\n\r\n  var cleanedvalues = values.slice(0, i);\r\n  for (; i < length; ++i) {\r\n    // v0 is set by either the previous loop, or the previous clean point.\r\n    v1 = values[i];\r\n    if (!equalsEpsilon(v0, v1, removeDuplicatesEpsilon)) {\r\n      cleanedvalues.push(v1);\r\n      v0 = v1;\r\n    }\r\n  }\r\n\r\n  if (\r\n    wrapAround &&\r\n    cleanedvalues.length > 1 &&\r\n    equalsEpsilon(\r\n      cleanedvalues[0],\r\n      cleanedvalues[cleanedvalues.length - 1],\r\n      removeDuplicatesEpsilon\r\n    )\r\n  ) {\r\n    cleanedvalues.shift();\r\n  }\r\n\r\n  return cleanedvalues;\r\n}\r\nexport default arrayRemoveDuplicates;\r\n"],"names":["CesiumMath","Check","defined","defaultValue"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;EAKA,IAAI,uBAAuB,GAAGA,gBAAU,CAAC,SAAS,CAAC;AACnD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,SAAS,qBAAqB,CAAC,MAAM,EAAE,aAAa,EAAE,UAAU,EAAE;EAClE;EACA,EAAEC,WAAK,CAAC,OAAO,CAAC,eAAe,EAAE,aAAa,CAAC,CAAC;EAChD;AACA;EACA,EAAE,IAAI,CAACC,YAAO,CAAC,MAAM,CAAC,EAAE;EACxB,IAAI,OAAO,SAAS,CAAC;EACrB,GAAG;AACH;EACA,EAAE,UAAU,GAAGC,iBAAY,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;AAC/C;EACA,EAAE,IAAI,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;EAC7B,EAAE,IAAI,MAAM,GAAG,CAAC,EAAE;EAClB,IAAI,OAAO,MAAM,CAAC;EAClB,GAAG;AACH;EACA,EAAE,IAAI,CAAC,CAAC;EACR,EAAE,IAAI,EAAE,CAAC;EACT,EAAE,IAAI,EAAE,CAAC;AACT;EACA,EAAE,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,EAAE,CAAC,EAAE;EAC/B,IAAI,EAAE,GAAG,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACvB,IAAI,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;EACnB,IAAI,IAAI,aAAa,CAAC,EAAE,EAAE,EAAE,EAAE,uBAAuB,CAAC,EAAE;EACxD,MAAM,MAAM;EACZ,KAAK;EACL,GAAG;AACH;EACA,EAAE,IAAI,CAAC,KAAK,MAAM,EAAE;EACpB,IAAI;EACJ,MAAM,UAAU;EAChB,MAAM,aAAa;EACnB,QAAQ,MAAM,CAAC,CAAC,CAAC;EACjB,QAAQ,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;EACjC,QAAQ,uBAAuB;EAC/B,OAAO;EACP,MAAM;EACN,MAAM,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;EAC7B,KAAK;EACL,IAAI,OAAO,MAAM,CAAC;EAClB,GAAG;AACH;EACA,EAAE,IAAI,aAAa,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACzC,EAAE,OAAO,CAAC,GAAG,MAAM,EAAE,EAAE,CAAC,EAAE;EAC1B;EACA,IAAI,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;EACnB,IAAI,IAAI,CAAC,aAAa,CAAC,EAAE,EAAE,EAAE,EAAE,uBAAuB,CAAC,EAAE;EACzD,MAAM,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;EAC7B,MAAM,EAAE,GAAG,EAAE,CAAC;EACd,KAAK;EACL,GAAG;AACH;EACA,EAAE;EACF,IAAI,UAAU;EACd,IAAI,aAAa,CAAC,MAAM,GAAG,CAAC;EAC5B,IAAI,aAAa;EACjB,MAAM,aAAa,CAAC,CAAC,CAAC;EACtB,MAAM,aAAa,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC;EAC7C,MAAM,uBAAuB;EAC7B,KAAK;EACL,IAAI;EACJ,IAAI,aAAa,CAAC,KAAK,EAAE,CAAC;EAC1B,GAAG;AACH;EACA,EAAE,OAAO,aAAa,CAAC;EACvB;;;;;;;;"}