!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e,t){t=s(t,{}),t.doubleSided=s(t.doubleSided,!1),t.technique=s(t.technique,"PHONG"),a(e,"KHR_materials_common");var r,n=e.materials,o=e.nodes,l=e.techniques,c=i(e),h=e.extensions;u(h)||(h={},e.extensions=h),r={},h.KHR_materials_common=r;var f={};r.lights=f;for(var d in n)if(n.hasOwnProperty(d)){var p=n[d],m=l[p.technique],g=m.parameters;u(g.ambient)&&!u(f.defaultAmbient)&&(f.defaultAmbient={ambient:{color:[1,1,1]},name:"defaultAmbient",type:"ambient"});for(var w in g)if(g.hasOwnProperty(w)&&0===w.indexOf("light")&&w.indexOf("Transform")>=0){var v=w.substring(0,w.indexOf("Transform")),y=g[w],_=y.node,E=o[_],b=E.extensions;u(b)||(b={},E.extensions=b),r={},b.KHR_materials_common=r,r.light=v;var T=g[v+"Color"],x={name:v,type:"directional",directional:{color:s(T.value,[1,1,1])}};f[v]=x}delete p.technique;var A=p.extensions;u(A)||(A={},p.extensions=A),r={},A.KHR_materials_common=r;for(var S in t)t.hasOwnProperty(S)&&"enable"!==S&&(r[S]=t[S]);var O=c[d];u(O)&&(r.jointCount=O),r.values=p.values,delete p.values}return delete e.techniques,delete e.programs,delete e.shaders,e}function i(e){var t=e.accessors,r=e.meshes,n=e.nodes,i=e.skins,o={},a={};for(var s in n)if(n.hasOwnProperty(s)){var l=n[s];u(l.skin)&&(u(a[l.skin])||(a[l.skin]=[]),a[l.skin].push(l))}for(var c in i)if(i.hasOwnProperty(c)){var h=i[c],f=1;u(h.inverseBindMatrices)&&(f=t[h.inverseBindMatrices].count);for(var d=a[c],p=d.length,m=0;m<p;m++)for(var g=d[m],w=g.meshes,v=w.length,y=0;y<v;y++)for(var _=w[y],E=r[_],b=E.primitives,T=b.length,x=0;x<T;x++){var A=b[x];o[A.material]=f}}return o}var o=r(79),a=r(231),s=o.defaultValue,u=o.defined;e.exports=n},function(e,t){"use strict";function r(e){return void 0!==e&&null!==e}e.exports=r},function(e,t,r){"use strict";function n(e){this.name="DeveloperError",this.message=e;var t;try{throw new Error}catch(e){t=e.stack}this.stack=t}var i=r(1);i(Object.create)&&(n.prototype=Object.create(Error.prototype),n.prototype.constructor=n),n.prototype.toString=function(){var e=this.name+": "+this.message;return i(this.stack)&&(e+="\n"+this.stack.toString()),e},n.throwInstantiationError=function(){throw new n("This function defines an interface and should not be called directly.")},e.exports=n},function(e,t){"use strict";function r(e,t){return void 0!==e?e:t}r.EMPTY_OBJECT=Object.freeze({}),e.exports=r},function(e,t,r){"use strict";function n(e,t,r){this.x=i(e,0),this.y=i(t,0),this.z=i(r,0)}var i=r(3),o=r(1),a=r(2),s=r(5);n.fromSpherical=function(e,t){if(!o(e))throw new a("spherical is required");o(t)||(t=new n);var r=e.clock,s=e.cone,u=i(e.magnitude,1),l=u*Math.sin(s);return t.x=l*Math.cos(r),t.y=l*Math.sin(r),t.z=u*Math.cos(s),t},n.fromElements=function(e,t,r,i){return o(i)?(i.x=e,i.y=t,i.z=r,i):new n(e,t,r)},n.clone=function(e,t){if(o(e))return o(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t):new n(e.x,e.y,e.z)},n.fromCartesian4=n.clone,n.packedLength=3,n.pack=function(e,t,r){if(!o(e))throw new a("value is required");if(!o(t))throw new a("array is required");return r=i(r,0),t[r++]=e.x,t[r++]=e.y,t[r]=e.z,t},n.unpack=function(e,t,r){if(!o(e))throw new a("array is required");return t=i(t,0),o(r)||(r=new n),r.x=e[t++],r.y=e[t++],r.z=e[t],r},n.packArray=function(e,t){if(!o(e))throw new a("array is required");var r=e.length;o(t)?t.length=3*r:t=new Array(3*r);for(var i=0;i<r;++i)n.pack(e[i],t,3*i);return t},n.unpackArray=function(e,t){if(!o(e))throw new a("array is required");if(e.length<3)throw new a("array length cannot be less than 3.");if(e.length%3!==0)throw new a("array length must be a multiple of 3.");var r=e.length;o(t)?t.length=r/3:t=new Array(r/3);for(var i=0;i<r;i+=3){var s=i/3;t[s]=n.unpack(e,i,t[s])}return t},n.fromArray=n.unpack,n.maximumComponent=function(e){if(!o(e))throw new a("cartesian is required");return Math.max(e.x,e.y,e.z)},n.minimumComponent=function(e){if(!o(e))throw new a("cartesian is required");return Math.min(e.x,e.y,e.z)},n.minimumByComponent=function(e,t,r){if(!o(e))throw new a("first is required.");if(!o(t))throw new a("second is required.");if(!o(r))throw new a("result is required.");return r.x=Math.min(e.x,t.x),r.y=Math.min(e.y,t.y),r.z=Math.min(e.z,t.z),r},n.maximumByComponent=function(e,t,r){if(!o(e))throw new a("first is required.");if(!o(t))throw new a("second is required.");if(!o(r))throw new a("result is required.");return r.x=Math.max(e.x,t.x),r.y=Math.max(e.y,t.y),r.z=Math.max(e.z,t.z),r},n.magnitudeSquared=function(e){if(!o(e))throw new a("cartesian is required");return e.x*e.x+e.y*e.y+e.z*e.z},n.magnitude=function(e){return Math.sqrt(n.magnitudeSquared(e))};var u=new n;n.distance=function(e,t){if(!o(e)||!o(t))throw new a("left and right are required.");return n.subtract(e,t,u),n.magnitude(u)},n.distanceSquared=function(e,t){if(!o(e)||!o(t))throw new a("left and right are required.");return n.subtract(e,t,u),n.magnitudeSquared(u)},n.normalize=function(e,t){if(!o(e))throw new a("cartesian is required");if(!o(t))throw new a("result is required");var r=n.magnitude(e);if(t.x=e.x/r,t.y=e.y/r,t.z=e.z/r,isNaN(t.x)||isNaN(t.y)||isNaN(t.z))throw new a("normalized result is not a number");return t},n.dot=function(e,t){if(!o(e))throw new a("left is required");if(!o(t))throw new a("right is required");return e.x*t.x+e.y*t.y+e.z*t.z},n.multiplyComponents=function(e,t,r){if(!o(e))throw new a("left is required");if(!o(t))throw new a("right is required");if(!o(r))throw new a("result is required");return r.x=e.x*t.x,r.y=e.y*t.y,r.z=e.z*t.z,r},n.divideComponents=function(e,t,r){if(!o(e))throw new a("left is required");if(!o(t))throw new a("right is required");if(!o(r))throw new a("result is required");return r.x=e.x/t.x,r.y=e.y/t.y,r.z=e.z/t.z,r},n.add=function(e,t,r){if(!o(e))throw new a("left is required");if(!o(t))throw new a("right is required");if(!o(r))throw new a("result is required");return r.x=e.x+t.x,r.y=e.y+t.y,r.z=e.z+t.z,r},n.subtract=function(e,t,r){if(!o(e))throw new a("left is required");if(!o(t))throw new a("right is required");if(!o(r))throw new a("result is required");return r.x=e.x-t.x,r.y=e.y-t.y,r.z=e.z-t.z,r},n.multiplyByScalar=function(e,t,r){if(!o(e))throw new a("cartesian is required");if("number"!=typeof t)throw new a("scalar is required and must be a number.");if(!o(r))throw new a("result is required");return r.x=e.x*t,r.y=e.y*t,r.z=e.z*t,r},n.divideByScalar=function(e,t,r){if(!o(e))throw new a("cartesian is required");if("number"!=typeof t)throw new a("scalar is required and must be a number.");if(!o(r))throw new a("result is required");return r.x=e.x/t,r.y=e.y/t,r.z=e.z/t,r},n.negate=function(e,t){if(!o(e))throw new a("cartesian is required");if(!o(t))throw new a("result is required");return t.x=-e.x,t.y=-e.y,t.z=-e.z,t},n.abs=function(e,t){if(!o(e))throw new a("cartesian is required");if(!o(t))throw new a("result is required");return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t};var l=new n;n.lerp=function(e,t,r,i){if(!o(e))throw new a("start is required.");if(!o(t))throw new a("end is required.");if("number"!=typeof r)throw new a("t is required and must be a number.");if(!o(i))throw new a("result is required.");return n.multiplyByScalar(t,r,l),i=n.multiplyByScalar(e,1-r,i),n.add(l,i,i)};var c=new n,h=new n;n.angleBetween=function(e,t){if(!o(e))throw new a("left is required");if(!o(t))throw new a("right is required");n.normalize(e,c),n.normalize(t,h);var r=n.dot(c,h),i=n.magnitude(n.cross(c,h,c));return Math.atan2(i,r)};var f=new n;n.mostOrthogonalAxis=function(e,t){if(!o(e))throw new a("cartesian is required.");if(!o(t))throw new a("result is required.");var r=n.normalize(e,f);return n.abs(r,r),t=r.x<=r.y?r.x<=r.z?n.clone(n.UNIT_X,t):n.clone(n.UNIT_Z,t):r.y<=r.z?n.clone(n.UNIT_Y,t):n.clone(n.UNIT_Z,t)},n.equals=function(e,t){return e===t||o(e)&&o(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z},n.equalsArray=function(e,t,r){return e.x===t[r]&&e.y===t[r+1]&&e.z===t[r+2]},n.equalsEpsilon=function(e,t,r,n){return e===t||o(e)&&o(t)&&s.equalsEpsilon(e.x,t.x,r,n)&&s.equalsEpsilon(e.y,t.y,r,n)&&s.equalsEpsilon(e.z,t.z,r,n)},n.cross=function(e,t,r){if(!o(e))throw new a("left is required");if(!o(t))throw new a("right is required");if(!o(r))throw new a("result is required");var n=e.x,i=e.y,s=e.z,u=t.x,l=t.y,c=t.z,h=i*c-s*l,f=s*u-n*c,d=n*l-i*u;return r.x=h,r.y=f,r.z=d,r},n.fromDegrees=function(e,t,r,i,u){if(!o(e))throw new a("longitude is required");if(!o(t))throw new a("latitude is required");return e=s.toRadians(e),t=s.toRadians(t),n.fromRadians(e,t,r,i,u)};var d=new n,p=new n,m=new n(40680631590769,40680631590769,40408299984661.445);n.fromRadians=function(e,t,r,s,u){if(!o(e))throw new a("longitude is required");if(!o(t))throw new a("latitude is required");r=i(r,0);var l=o(s)?s.radiiSquared:m,c=Math.cos(t);d.x=c*Math.cos(e),d.y=c*Math.sin(e),d.z=Math.sin(t),d=n.normalize(d,d),n.multiplyComponents(l,d,p);var h=Math.sqrt(n.dot(d,p));return p=n.divideByScalar(p,h,p),d=n.multiplyByScalar(d,r,d),o(u)||(u=new n),n.add(p,d,u)},n.fromDegreesArray=function(e,t,r){if(!o(e))throw new a("coordinates is required.");if(e.length<2)throw new a("coordinates length cannot be less than 2.");if(e.length%2!==0)throw new a("coordinates length must be a multiple of 2.");var i=e.length;o(r)?r.length=i/2:r=new Array(i/2);for(var s=0;s<i;s+=2){var u=e[s],l=e[s+1],c=s/2;r[c]=n.fromDegrees(u,l,0,t,r[c])}return r},n.fromRadiansArray=function(e,t,r){if(!o(e))throw new a("coordinates is required.");if(e.length<2)throw new a("coordinates length cannot be less than 2.");if(e.length%2!==0)throw new a("coordinates length must be a multiple of 2.");var i=e.length;o(r)?r.length=i/2:r=new Array(i/2);for(var s=0;s<i;s+=2){var u=e[s],l=e[s+1],c=s/2;r[c]=n.fromRadians(u,l,0,t,r[c])}return r},n.fromDegreesArrayHeights=function(e,t,r){if(!o(e))throw new a("coordinates is required.");if(e.length<3)throw new a("coordinates length cannot be less than 3.");if(e.length%3!==0)throw new a("coordinates length must be a multiple of 3.");var i=e.length;o(r)?r.length=i/3:r=new Array(i/3);for(var s=0;s<i;s+=3){var u=e[s],l=e[s+1],c=e[s+2],h=s/3;r[h]=n.fromDegrees(u,l,c,t,r[h])}return r},n.fromRadiansArrayHeights=function(e,t,r){if(!o(e))throw new a("coordinates is required.");if(e.length<3)throw new a("coordinates length cannot be less than 3.");if(e.length%3!==0)throw new a("coordinates length must be a multiple of 3.");var i=e.length;o(r)?r.length=i/3:r=new Array(i/3);for(var s=0;s<i;s+=3){var u=e[s],l=e[s+1],c=e[s+2],h=s/3;r[h]=n.fromRadians(u,l,c,t,r[h])}return r},n.ZERO=Object.freeze(new n(0,0,0)),n.UNIT_X=Object.freeze(new n(1,0,0)),n.UNIT_Y=Object.freeze(new n(0,1,0)),n.UNIT_Z=Object.freeze(new n(0,0,1)),n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.prototype.equalsEpsilon=function(e,t,r){return n.equalsEpsilon(this,e,t,r)},n.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},e.exports=n},function(e,t,r){"use strict";var n=r(226),i=r(3),o=r(1),a=r(2),s={};s.EPSILON1=.1,s.EPSILON2=.01,s.EPSILON3=.001,s.EPSILON4=1e-4,s.EPSILON5=1e-5,s.EPSILON6=1e-6,s.EPSILON7=1e-7,s.EPSILON8=1e-8,s.EPSILON9=1e-9,s.EPSILON10=1e-10,s.EPSILON11=1e-11,s.EPSILON12=1e-12,s.EPSILON13=1e-13,s.EPSILON14=1e-14,s.EPSILON15=1e-15,s.EPSILON16=1e-16,s.EPSILON17=1e-17,s.EPSILON18=1e-18,s.EPSILON19=1e-19,s.EPSILON20=1e-20,s.GRAVITATIONALPARAMETER=3986004418e5,s.SOLAR_RADIUS=6955e5,s.LUNAR_RADIUS=1737400,s.SIXTY_FOUR_KILOBYTES=65536,s.sign=function(e){return e>0?1:e<0?-1:0},s.signNotZero=function(e){return e<0?-1:1},s.toSNorm=function(e,t){return t=i(t,255),Math.round((.5*s.clamp(e,-1,1)+.5)*t)},s.fromSNorm=function(e,t){return t=i(t,255),s.clamp(e,0,t)/t*2-1},s.sinh=function(e){var t=Math.pow(Math.E,e),r=Math.pow(Math.E,-1*e);return.5*(t-r)},s.cosh=function(e){var t=Math.pow(Math.E,e),r=Math.pow(Math.E,-1*e);return.5*(t+r)},s.lerp=function(e,t,r){return(1-r)*e+r*t},s.PI=Math.PI,s.ONE_OVER_PI=1/Math.PI,s.PI_OVER_TWO=.5*Math.PI,s.PI_OVER_THREE=Math.PI/3,s.PI_OVER_FOUR=Math.PI/4,s.PI_OVER_SIX=Math.PI/6,s.THREE_PI_OVER_TWO=3*Math.PI*.5,s.TWO_PI=2*Math.PI,s.ONE_OVER_TWO_PI=1/(2*Math.PI),s.RADIANS_PER_DEGREE=Math.PI/180,s.DEGREES_PER_RADIAN=180/Math.PI,s.RADIANS_PER_ARCSECOND=s.RADIANS_PER_DEGREE/3600,s.toRadians=function(e){if(!o(e))throw new a("degrees is required.");return e*s.RADIANS_PER_DEGREE},s.toDegrees=function(e){if(!o(e))throw new a("radians is required.");return e*s.DEGREES_PER_RADIAN},s.convertLongitudeRange=function(e){if(!o(e))throw new a("angle is required.");var t=s.TWO_PI,r=e-Math.floor(e/t)*t;return r<-Math.PI?r+t:r>=Math.PI?r-t:r},s.clampToLatitudeRange=function(e){if(!o(e))throw new a("angle is required.");return s.clamp(e,-1*s.PI_OVER_TWO,s.PI_OVER_TWO)},s.negativePiToPi=function(e){if(!o(e))throw new a("x is required.");return s.zeroToTwoPi(e+s.PI)-s.PI},s.zeroToTwoPi=function(e){if(!o(e))throw new a("x is required.");var t=s.mod(e,s.TWO_PI);return Math.abs(t)<s.EPSILON14&&Math.abs(e)>s.EPSILON14?s.TWO_PI:t},s.mod=function(e,t){if(!o(e))throw new a("m is required.");if(!o(t))throw new a("n is required.");return(e%t+t)%t},s.equalsEpsilon=function(e,t,r,n){if(!o(e))throw new a("left is required.");if(!o(t))throw new a("right is required.");if(!o(r))throw new a("relativeEpsilon is required.");n=i(n,r);var s=Math.abs(e-t);return s<=n||s<=r*Math.max(Math.abs(e),Math.abs(t))};var u=[1];s.factorial=function(e){if("number"!=typeof e||e<0)throw new a("A number greater than or equal to 0 is required.");var t=u.length;if(e>=t)for(var r=u[t-1],n=t;n<=e;n++)u.push(r*n);return u[e]},s.incrementWrap=function(e,t,r){if(r=i(r,0),!o(e))throw new a("n is required.");if(t<=r)throw new a("maximumValue must be greater than minimumValue.");return++e,e>t&&(e=r),e},s.isPowerOfTwo=function(e){if("number"!=typeof e||e<0)throw new a("A number greater than or equal to 0 is required.");return 0!==e&&0===(e&e-1)},s.nextPowerOfTwo=function(e){if("number"!=typeof e||e<0)throw new a("A number greater than or equal to 0 is required.");return--e,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e,e},s.clamp=function(e,t,r){if(!o(e))throw new a("value is required");if(!o(t))throw new a("min is required.");if(!o(r))throw new a("max is required.");return e<t?t:e>r?r:e};var l=new n;s.setRandomNumberSeed=function(e){if(!o(e))throw new a("seed is required.");l=new n(e)},s.nextRandomNumber=function(){return l.random()},s.acosClamped=function(e){if(!o(e))throw new a("value is required.");return Math.acos(s.clamp(e,-1,1))},s.asinClamped=function(e){if(!o(e))throw new a("value is required.");return Math.asin(s.clamp(e,-1,1))},s.chordLength=function(e,t){if(!o(e))throw new a("angle is required.");if(!o(t))throw new a("radius is required.");return 2*t*Math.sin(.5*e)},s.logBase=function(e,t){if(!o(e))throw new a("number is required.");if(!o(t))throw new a("base is required.");return Math.log(e)/Math.log(t)},s.fog=function(e,t){var r=e*t;return 1-Math.exp(-(r*r))},e.exports=s},function(e,t,r){"use strict";function n(e,t,r,n){if(t=s(t,0),r=s(r,0),n=s(n,0),t<0||r<0||n<0)throw new l("All radii components must be greater than or equal to zero.");e._radii=new o(t,r,n),e._radiiSquared=new o(t*t,r*r,n*n),e._radiiToTheFourth=new o(t*t*t*t,r*r*r*r,n*n*n*n),e._oneOverRadii=new o(0===t?0:1/t,0===r?0:1/r,0===n?0:1/n),e._oneOverRadiiSquared=new o(0===t?0:1/(t*t),0===r?0:1/(r*r),0===n?0:1/(n*n)),e._minimumRadius=Math.min(t,r,n),e._maximumRadius=Math.max(t,r,n),e._centerToleranceSquared=c.EPSILON1}function i(e,t,r){this._radii=void 0,this._radiiSquared=void 0,this._radiiToTheFourth=void 0,this._oneOverRadii=void 0,this._oneOverRadiiSquared=void 0,this._minimumRadius=void 0,this._maximumRadius=void 0,this._centerToleranceSquared=void 0,n(this,e,t,r)}var o=r(4),a=r(15),s=r(3),u=r(1),l=r(2),c=r(5),h=r(124);Object.defineProperties(i.prototype,{radii:{get:function(){return this._radii}},radiiSquared:{get:function(){return this._radiiSquared}},radiiToTheFourth:{get:function(){return this._radiiToTheFourth}},oneOverRadii:{get:function(){return this._oneOverRadii}},oneOverRadiiSquared:{get:function(){return this._oneOverRadiiSquared}},minimumRadius:{get:function(){return this._minimumRadius}},maximumRadius:{get:function(){return this._maximumRadius}}}),i.clone=function(e,t){if(u(e)){var r=e._radii;return u(t)?(o.clone(r,t._radii),o.clone(e._radiiSquared,t._radiiSquared),o.clone(e._radiiToTheFourth,t._radiiToTheFourth),o.clone(e._oneOverRadii,t._oneOverRadii),o.clone(e._oneOverRadiiSquared,t._oneOverRadiiSquared),t._minimumRadius=e._minimumRadius,t._maximumRadius=e._maximumRadius,t._centerToleranceSquared=e._centerToleranceSquared,t):new i(r.x,r.y,r.z)}},i.fromCartesian3=function(e,t){return u(t)||(t=new i),u(e)?(n(t,e.x,e.y,e.z),t):t},i.WGS84=Object.freeze(new i(6378137,6378137,6356752.314245179)),i.UNIT_SPHERE=Object.freeze(new i(1,1,1)),i.MOON=Object.freeze(new i(c.LUNAR_RADIUS,c.LUNAR_RADIUS,c.LUNAR_RADIUS)),i.prototype.clone=function(e){return i.clone(this,e)},i.packedLength=o.packedLength,i.pack=function(e,t,r){if(!u(e))throw new l("value is required");if(!u(t))throw new l("array is required");return r=s(r,0),o.pack(e._radii,t,r),t},i.unpack=function(e,t,r){if(!u(e))throw new l("array is required");t=s(t,0);var n=o.unpack(e,t);return i.fromCartesian3(n,r)},i.prototype.geocentricSurfaceNormal=o.normalize,i.prototype.geodeticSurfaceNormalCartographic=function(e,t){if(!u(e))throw new l("cartographic is required.");var r=e.longitude,n=e.latitude,i=Math.cos(n),a=i*Math.cos(r),s=i*Math.sin(r),c=Math.sin(n);return u(t)||(t=new o),t.x=a,t.y=s,t.z=c,o.normalize(t,t)},i.prototype.geodeticSurfaceNormal=function(e,t){return u(t)||(t=new o),t=o.multiplyComponents(e,this._oneOverRadiiSquared,t),o.normalize(t,t)};var f=new o,d=new o;i.prototype.cartographicToCartesian=function(e,t){var r=f,n=d;this.geodeticSurfaceNormalCartographic(e,r),o.multiplyComponents(this._radiiSquared,r,n);var i=Math.sqrt(o.dot(r,n));return o.divideByScalar(n,i,n),o.multiplyByScalar(r,e.height,r),u(t)||(t=new o),o.add(n,r,t)},i.prototype.cartographicArrayToCartesianArray=function(e,t){if(!u(e))throw new l("cartographics is required.");var r=e.length;u(t)?t.length=r:t=new Array(r);for(var n=0;n<r;n++)t[n]=this.cartographicToCartesian(e[n],t[n]);return t};var p=new o,m=new o,g=new o;i.prototype.cartesianToCartographic=function(e,t){var r=this.scaleToGeodeticSurface(e,m);if(u(r)){var n=this.geodeticSurfaceNormal(r,p),i=o.subtract(e,r,g),s=Math.atan2(n.y,n.x),l=Math.asin(n.z),h=c.sign(o.dot(i,e))*o.magnitude(i);return u(t)?(t.longitude=s,t.latitude=l,t.height=h,t):new a(s,l,h)}},i.prototype.cartesianArrayToCartographicArray=function(e,t){if(!u(e))throw new l("cartesians is required.");var r=e.length;u(t)?t.length=r:t=new Array(r);for(var n=0;n<r;++n)t[n]=this.cartesianToCartographic(e[n],t[n]);return t},i.prototype.scaleToGeodeticSurface=function(e,t){return h(e,this._oneOverRadii,this._oneOverRadiiSquared,this._centerToleranceSquared,t)},i.prototype.scaleToGeocentricSurface=function(e,t){if(!u(e))throw new l("cartesian is required.");u(t)||(t=new o);var r=e.x,n=e.y,i=e.z,a=this._oneOverRadiiSquared,s=1/Math.sqrt(r*r*a.x+n*n*a.y+i*i*a.z);return o.multiplyByScalar(e,s,t)},i.prototype.transformPositionToScaledSpace=function(e,t){return u(t)||(t=new o),o.multiplyComponents(e,this._oneOverRadii,t)},i.prototype.transformPositionFromScaledSpace=function(e,t){return u(t)||(t=new o),o.multiplyComponents(e,this._radii,t)},i.prototype.equals=function(e){return this===e||u(e)&&o.equals(this._radii,e._radii)},i.prototype.toString=function(){return this._radii.toString()},e.exports=i},function(e,t,r){"use strict";function n(e,t){this.center=i.clone(a(e,i.ZERO)),this.radius=a(t,0)}var i=r(4),o=r(15),a=r(3),s=r(1),u=r(2),l=r(6),c=r(27),h=r(34),f=r(60),d=r(17),p=r(19),m=r(16),g=new i,w=new i,v=new i,y=new i,_=new i,E=new i,b=new i,T=new i,x=new i,A=new i,S=new i,O=new i;n.fromPoints=function(e,t){if(s(t)||(t=new n),!s(e)||0===e.length)return t.center=i.clone(i.ZERO,t.center),t.radius=0,t;for(var r=i.clone(e[0],b),o=i.clone(r,g),a=i.clone(r,w),u=i.clone(r,v),l=i.clone(r,y),c=i.clone(r,_),h=i.clone(r,E),f=e.length,d=1;d<f;d++){i.clone(e[d],r);var p=r.x,m=r.y,I=r.z;p<o.x&&i.clone(r,o),p>l.x&&i.clone(r,l),m<a.y&&i.clone(r,a),m>c.y&&i.clone(r,c),I<u.z&&i.clone(r,u),I>h.z&&i.clone(r,h)}var R=i.magnitudeSquared(i.subtract(l,o,T)),P=i.magnitudeSquared(i.subtract(c,a,T)),C=i.magnitudeSquared(i.subtract(h,u,T)),M=o,N=l,q=R;P>q&&(q=P,M=a,N=c),C>q&&(q=C,M=u,N=h);var L=x;L.x=.5*(M.x+N.x),L.y=.5*(M.y+N.y),L.z=.5*(M.z+N.z);var F=i.magnitudeSquared(i.subtract(N,L,T)),D=Math.sqrt(F),z=A;z.x=o.x,z.y=a.y,z.z=u.z;var k=S;k.x=l.x,k.y=c.y,k.z=h.z;var U=i.multiplyByScalar(i.add(z,k,T),.5,O),B=0;for(d=0;d<f;d++){i.clone(e[d],r);var j=i.magnitude(i.subtract(r,U,T));j>B&&(B=j);var G=i.magnitudeSquared(i.subtract(r,L,T));if(G>F){var H=Math.sqrt(G);D=.5*(D+H),F=D*D;var V=H-D;L.x=(D*L.x+V*r.x)/H,L.y=(D*L.y+V*r.y)/H,L.z=(D*L.z+V*r.z)/H}}return D<B?(i.clone(L,t.center),t.radius=D):(i.clone(U,t.center),t.radius=B),t};var I=new c,R=new i,P=new i,C=new o,M=new o;n.fromRectangle2D=function(e,t,r){return n.fromRectangleWithHeights2D(e,t,0,0,r)},n.fromRectangleWithHeights2D=function(e,t,r,o,u){if(s(u)||(u=new n),!s(e))return u.center=i.clone(i.ZERO,u.center),u.radius=0,u;t=a(t,I),m.southwest(e,C),C.height=r,m.northeast(e,M),M.height=o;var l=t.project(C,R),c=t.project(M,P),h=c.x-l.x,f=c.y-l.y,d=c.z-l.z;u.radius=.5*Math.sqrt(h*h+f*f+d*d);var p=u.center;return p.x=l.x+.5*h,p.y=l.y+.5*f,p.z=l.z+.5*d,u};var N=[];n.fromRectangle3D=function(e,t,r,i){t=a(t,l.WGS84),r=a(r,0);var o;return s(e)&&(o=m.subsample(e,t,r,N)),n.fromPoints(o,i)},n.fromVertices=function(e,t,r,o){if(s(o)||(o=new n),!s(e)||0===e.length)return o.center=i.clone(i.ZERO,o.center),o.radius=0,o;if(t=a(t,i.ZERO),r=a(r,3),r<3)throw new u("stride must be 3 or greater.");var l=b;l.x=e[0]+t.x,l.y=e[1]+t.y,l.z=e[2]+t.z;for(var c=i.clone(l,g),h=i.clone(l,w),f=i.clone(l,v),d=i.clone(l,y),p=i.clone(l,_),m=i.clone(l,E),I=e.length,R=0;R<I;R+=r){var P=e[R]+t.x,C=e[R+1]+t.y,M=e[R+2]+t.z;l.x=P,l.y=C,l.z=M,P<c.x&&i.clone(l,c),P>d.x&&i.clone(l,d),C<h.y&&i.clone(l,h),C>p.y&&i.clone(l,p),M<f.z&&i.clone(l,f),M>m.z&&i.clone(l,m)}var N=i.magnitudeSquared(i.subtract(d,c,T)),q=i.magnitudeSquared(i.subtract(p,h,T)),L=i.magnitudeSquared(i.subtract(m,f,T)),F=c,D=d,z=N;q>z&&(z=q,F=h,D=p),L>z&&(z=L,F=f,D=m);var k=x;k.x=.5*(F.x+D.x),k.y=.5*(F.y+D.y),k.z=.5*(F.z+D.z);var U=i.magnitudeSquared(i.subtract(D,k,T)),B=Math.sqrt(U),j=A;j.x=c.x,j.y=h.y,j.z=f.z;var G=S;G.x=d.x,G.y=p.y,G.z=m.z;var H=i.multiplyByScalar(i.add(j,G,T),.5,O),V=0;for(R=0;R<I;R+=r){l.x=e[R]+t.x,l.y=e[R+1]+t.y,l.z=e[R+2]+t.z;var W=i.magnitude(i.subtract(l,H,T));W>V&&(V=W);var Y=i.magnitudeSquared(i.subtract(l,k,T));if(Y>U){var X=Math.sqrt(Y);B=.5*(B+X),U=B*B;var Q=X-B;k.x=(B*k.x+Q*l.x)/X,k.y=(B*k.y+Q*l.y)/X,k.z=(B*k.z+Q*l.z)/X}}return B<V?(i.clone(k,o.center),o.radius=B):(i.clone(H,o.center),o.radius=V),o},n.fromEncodedCartesianVertices=function(e,t,r){if(s(r)||(r=new n),!s(e)||!s(t)||e.length!==t.length||0===e.length)return r.center=i.clone(i.ZERO,r.center),r.radius=0,r;var o=b;o.x=e[0]+t[0],o.y=e[1]+t[1],o.z=e[2]+t[2];for(var a=i.clone(o,g),u=i.clone(o,w),l=i.clone(o,v),c=i.clone(o,y),h=i.clone(o,_),f=i.clone(o,E),d=e.length,p=0;p<d;p+=3){var m=e[p]+t[p],I=e[p+1]+t[p+1],R=e[p+2]+t[p+2];o.x=m,o.y=I,o.z=R,m<a.x&&i.clone(o,a),m>c.x&&i.clone(o,c),I<u.y&&i.clone(o,u),I>h.y&&i.clone(o,h),R<l.z&&i.clone(o,l),R>f.z&&i.clone(o,f)}var P=i.magnitudeSquared(i.subtract(c,a,T)),C=i.magnitudeSquared(i.subtract(h,u,T)),M=i.magnitudeSquared(i.subtract(f,l,T)),N=a,q=c,L=P;C>L&&(L=C,N=u,q=h),M>L&&(L=M,N=l,q=f);var F=x;F.x=.5*(N.x+q.x),F.y=.5*(N.y+q.y),F.z=.5*(N.z+q.z);var D=i.magnitudeSquared(i.subtract(q,F,T)),z=Math.sqrt(D),k=A;k.x=a.x,k.y=u.y,k.z=l.z;var U=S;U.x=c.x,U.y=h.y,U.z=f.z;var B=i.multiplyByScalar(i.add(k,U,T),.5,O),j=0;for(p=0;p<d;p+=3){o.x=e[p]+t[p],o.y=e[p+1]+t[p+1],o.z=e[p+2]+t[p+2];var G=i.magnitude(i.subtract(o,B,T));G>j&&(j=G);var H=i.magnitudeSquared(i.subtract(o,F,T));if(H>D){var V=Math.sqrt(H);z=.5*(z+V),D=z*z;var W=V-z;F.x=(z*F.x+W*o.x)/V,F.y=(z*F.y+W*o.y)/V,F.z=(z*F.z+W*o.z)/V}}return z<j?(i.clone(F,r.center),r.radius=z):(i.clone(B,r.center),r.radius=j),r},n.fromCornerPoints=function(e,t,r){if(!s(e)||!s(t))throw new u("corner and oppositeCorner are required.");s(r)||(r=new n);var o=r.center;return i.add(e,t,o),i.multiplyByScalar(o,.5,o),r.radius=i.distance(o,t),r},n.fromEllipsoid=function(e,t){if(!s(e))throw new u("ellipsoid is required.");return s(t)||(t=new n),i.clone(i.ZERO,t.center),t.radius=e.maximumRadius,t};var q=new i;n.fromBoundingSpheres=function(e,t){if(s(t)||(t=new n),!s(e)||0===e.length)return t.center=i.clone(i.ZERO,t.center),t.radius=0,t;var r=e.length;if(1===r)return n.clone(e[0],t);if(2===r)return n.union(e[0],e[1],t);for(var o=[],a=0;a<r;a++)o.push(e[a].center);t=n.fromPoints(o,t);var u=t.center,l=t.radius;for(a=0;a<r;a++){var c=e[a];l=Math.max(l,i.distance(u,c.center,q)+c.radius)}return t.radius=l,t};var L=new i,F=new i,D=new i;n.fromOrientedBoundingBox=function(e,t){s(t)||(t=new n);var r=e.halfAxes,o=d.getColumn(r,0,L),a=d.getColumn(r,1,F),u=d.getColumn(r,2,D),l=i.magnitude(o),c=i.magnitude(a),h=i.magnitude(u);return t.center=i.clone(e.center,t.center),t.radius=Math.max(l,c,h),t},n.clone=function(e,t){if(s(e))return s(t)?(t.center=i.clone(e.center,t.center),t.radius=e.radius,t):new n(e.center,e.radius)},n.packedLength=4,n.pack=function(e,t,r){if(!s(e))throw new u("value is required");if(!s(t))throw new u("array is required");r=a(r,0);var n=e.center;return t[r++]=n.x,t[r++]=n.y,t[r++]=n.z,t[r]=e.radius,t},n.unpack=function(e,t,r){if(!s(e))throw new u("array is required");t=a(t,0),s(r)||(r=new n);var i=r.center;return i.x=e[t++],i.y=e[t++],i.z=e[t++],r.radius=e[t],r};var z=new i,k=new i;n.union=function(e,t,r){if(!s(e))throw new u("left is required.");if(!s(t))throw new u("right is required.");s(r)||(r=new n);var o=e.center,a=e.radius,l=t.center,c=t.radius,h=i.subtract(l,o,z),f=i.magnitude(h);if(a>=f+c)return e.clone(r),r;if(c>=f+a)return t.clone(r),r;var d=.5*(a+f+c),p=i.multiplyByScalar(h,(-a+d)/f,k);return i.add(p,o,p),i.clone(p,r.center),r.radius=d,r};var U=new i;n.expand=function(e,t,r){if(!s(e))throw new u("sphere is required.");if(!s(t))throw new u("point is required.");r=n.clone(e,r);var o=i.magnitude(i.subtract(t,r.center,U));return o>r.radius&&(r.radius=o),r},n.intersectPlane=function(e,t){if(!s(e))throw new u("sphere is required.");if(!s(t))throw new u("plane is required.");var r=e.center,n=e.radius,o=t.normal,a=i.dot(o,r)+t.distance;return a<-n?h.OUTSIDE:a<n?h.INTERSECTING:h.INSIDE},n.transform=function(e,t,r){if(!s(e))throw new u("sphere is required.");if(!s(t))throw new u("transform is required.");return s(r)||(r=new n),r.center=p.multiplyByPoint(t,e.center,r.center),r.radius=p.getMaximumScale(t)*e.radius,r};var B=new i;n.distanceSquaredTo=function(e,t){if(!s(e))throw new u("sphere is required.");if(!s(t))throw new u("cartesian is required.");var r=i.subtract(e.center,t,B);return i.magnitudeSquared(r)-e.radius*e.radius},n.transformWithoutScale=function(e,t,r){if(!s(e))throw new u("sphere is required.");if(!s(t))throw new u("transform is required.");return s(r)||(r=new n),r.center=p.multiplyByPoint(t,e.center,r.center),r.radius=e.radius,r};var j=new i;n.computePlaneDistances=function(e,t,r,n){if(!s(e))throw new u("sphere is required.");if(!s(t))throw new u("position is required.");if(!s(r))throw new u("direction is required.");s(n)||(n=new f);var o=i.subtract(e.center,t,j),a=i.dot(r,o);return n.start=a-e.radius,n.stop=a+e.radius,n};for(var G=new i,H=new i,V=new i,W=new i,Y=new i,X=new o,Q=new Array(8),Z=0;Z<8;++Z)Q[Z]=new i;var K=new c;n.projectTo2D=function(e,t,r){if(!s(e))throw new u("sphere is required.");t=a(t,K);var o=t.ellipsoid,l=e.center,c=e.radius,h=o.geodeticSurfaceNormal(l,G),f=i.cross(i.UNIT_Z,h,H);i.normalize(f,f);var d=i.cross(h,f,V);i.normalize(d,d),i.multiplyByScalar(h,c,h),i.multiplyByScalar(d,c,d),i.multiplyByScalar(f,c,f);var p=i.negate(d,Y),m=i.negate(f,W),g=Q,w=g[0];i.add(h,d,w),i.add(w,f,w),w=g[1],i.add(h,d,w),i.add(w,m,w),w=g[2],i.add(h,p,w),i.add(w,m,w),w=g[3],i.add(h,p,w),i.add(w,f,w),i.negate(h,h),w=g[4],i.add(h,d,w),i.add(w,f,w),w=g[5],i.add(h,d,w),i.add(w,m,w),w=g[6],i.add(h,p,w),i.add(w,m,w),w=g[7],i.add(h,p,w),i.add(w,f,w);for(var v=g.length,y=0;y<v;++y){var _=g[y];i.add(l,_,_);var E=o.cartesianToCartographic(_,X);t.project(E,_)}r=n.fromPoints(g,r),l=r.center;var b=l.x,T=l.y,x=l.z;return l.x=x,l.y=b,l.z=T,r},n.isOccluded=function(e,t){if(!s(e))throw new u("sphere is required.");if(!s(t))throw new u("occluder is required.");return!t.isBoundingSphereVisible(e)},n.equals=function(e,t){return e===t||s(e)&&s(t)&&i.equals(e.center,t.center)&&e.radius===t.radius},n.prototype.intersectPlane=function(e){return n.intersectPlane(this,e)},n.prototype.distanceSquaredTo=function(e){return n.distanceSquaredTo(this,e)},n.prototype.computePlaneDistances=function(e,t,r){return n.computePlaneDistances(this,e,t,r)},n.prototype.isOccluded=function(e){return n.isOccluded(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.prototype.clone=function(e){return n.clone(this,e)},e.exports=n},,function(e,t,r){"use strict";function n(e,t){this.x=i(e,0),this.y=i(t,0)}var i=r(3),o=r(1),a=r(2),s=r(5);n.fromElements=function(e,t,r){return o(r)?(r.x=e,r.y=t,r):new n(e,t)},n.clone=function(e,t){if(o(e))return o(t)?(t.x=e.x,t.y=e.y,t):new n(e.x,e.y)},n.fromCartesian3=n.clone,n.fromCartesian4=n.clone,n.packedLength=2,n.pack=function(e,t,r){if(!o(e))throw new a("value is required");if(!o(t))throw new a("array is required");return r=i(r,0),t[r++]=e.x,t[r]=e.y,t},n.unpack=function(e,t,r){if(!o(e))throw new a("array is required");return t=i(t,0),o(r)||(r=new n),r.x=e[t++],r.y=e[t],r},n.packArray=function(e,t){if(!o(e))throw new a("array is required");var r=e.length;o(t)?t.length=2*r:t=new Array(2*r);for(var i=0;i<r;++i)n.pack(e[i],t,2*i);return t},n.unpackArray=function(e,t){if(!o(e))throw new a("array is required");var r=e.length;o(t)?t.length=r/2:t=new Array(r/2);for(var i=0;i<r;i+=2){var s=i/2;t[s]=n.unpack(e,i,t[s])}return t},n.fromArray=n.unpack,n.maximumComponent=function(e){if(!o(e))throw new a("cartesian is required");return Math.max(e.x,e.y)},n.minimumComponent=function(e){if(!o(e))throw new a("cartesian is required");return Math.min(e.x,e.y)},n.minimumByComponent=function(e,t,r){if(!o(e))throw new a("first is required.");if(!o(t))throw new a("second is required.");if(!o(r))throw new a("result is required.");return r.x=Math.min(e.x,t.x),r.y=Math.min(e.y,t.y),r},n.maximumByComponent=function(e,t,r){if(!o(e))throw new a("first is required.");if(!o(t))throw new a("second is required.");if(!o(r))throw new a("result is required.");return r.x=Math.max(e.x,t.x),r.y=Math.max(e.y,t.y),r},n.magnitudeSquared=function(e){if(!o(e))throw new a("cartesian is required");return e.x*e.x+e.y*e.y},n.magnitude=function(e){return Math.sqrt(n.magnitudeSquared(e))};var u=new n;n.distance=function(e,t){if(!o(e)||!o(t))throw new a("left and right are required.");return n.subtract(e,t,u),n.magnitude(u)},n.distanceSquared=function(e,t){if(!o(e)||!o(t))throw new a("left and right are required.");return n.subtract(e,t,u),n.magnitudeSquared(u)},n.normalize=function(e,t){if(!o(e))throw new a("cartesian is required");if(!o(t))throw new a("result is required");var r=n.magnitude(e);if(t.x=e.x/r,t.y=e.y/r,isNaN(t.x)||isNaN(t.y))throw new a("normalized result is not a number");return t},n.dot=function(e,t){if(!o(e))throw new a("left is required");if(!o(t))throw new a("right is required");return e.x*t.x+e.y*t.y},n.multiplyComponents=function(e,t,r){if(!o(e))throw new a("left is required");if(!o(t))throw new a("right is required");if(!o(r))throw new a("result is required");return r.x=e.x*t.x,r.y=e.y*t.y,r},n.divideComponents=function(e,t,r){if(!o(e))throw new a("left is required");
if(!o(t))throw new a("right is required");if(!o(r))throw new a("result is required");return r.x=e.x/t.x,r.y=e.y/t.y,r},n.add=function(e,t,r){if(!o(e))throw new a("left is required");if(!o(t))throw new a("right is required");if(!o(r))throw new a("result is required");return r.x=e.x+t.x,r.y=e.y+t.y,r},n.subtract=function(e,t,r){if(!o(e))throw new a("left is required");if(!o(t))throw new a("right is required");if(!o(r))throw new a("result is required");return r.x=e.x-t.x,r.y=e.y-t.y,r},n.multiplyByScalar=function(e,t,r){if(!o(e))throw new a("cartesian is required");if("number"!=typeof t)throw new a("scalar is required and must be a number.");if(!o(r))throw new a("result is required");return r.x=e.x*t,r.y=e.y*t,r},n.divideByScalar=function(e,t,r){if(!o(e))throw new a("cartesian is required");if("number"!=typeof t)throw new a("scalar is required and must be a number.");if(!o(r))throw new a("result is required");return r.x=e.x/t,r.y=e.y/t,r},n.negate=function(e,t){if(!o(e))throw new a("cartesian is required");if(!o(t))throw new a("result is required");return t.x=-e.x,t.y=-e.y,t},n.abs=function(e,t){if(!o(e))throw new a("cartesian is required");if(!o(t))throw new a("result is required");return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t};var l=new n;n.lerp=function(e,t,r,i){if(!o(e))throw new a("start is required.");if(!o(t))throw new a("end is required.");if("number"!=typeof r)throw new a("t is required and must be a number.");if(!o(i))throw new a("result is required.");return n.multiplyByScalar(t,r,l),i=n.multiplyByScalar(e,1-r,i),n.add(l,i,i)};var c=new n,h=new n;n.angleBetween=function(e,t){if(!o(e))throw new a("left is required");if(!o(t))throw new a("right is required");return n.normalize(e,c),n.normalize(t,h),s.acosClamped(n.dot(c,h))};var f=new n;n.mostOrthogonalAxis=function(e,t){if(!o(e))throw new a("cartesian is required.");if(!o(t))throw new a("result is required.");var r=n.normalize(e,f);return n.abs(r,r),t=r.x<=r.y?n.clone(n.UNIT_X,t):n.clone(n.UNIT_Y,t)},n.equals=function(e,t){return e===t||o(e)&&o(t)&&e.x===t.x&&e.y===t.y},n.equalsArray=function(e,t,r){return e.x===t[r]&&e.y===t[r+1]},n.equalsEpsilon=function(e,t,r,n){return e===t||o(e)&&o(t)&&s.equalsEpsilon(e.x,t.x,r,n)&&s.equalsEpsilon(e.y,t.y,r,n)},n.ZERO=Object.freeze(new n(0,0)),n.UNIT_X=Object.freeze(new n(1,0)),n.UNIT_Y=Object.freeze(new n(0,1)),n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.prototype.equalsEpsilon=function(e,t,r){return n.equalsEpsilon(this,e,t,r)},n.prototype.toString=function(){return"("+this.x+", "+this.y+")"},e.exports=n},function(e,t,r){"use strict";function n(e){if(e=i(e,i.EMPTY_OBJECT),!o(e.attributes))throw new a("options.attributes is required.");this.attributes=e.attributes,this.indices=e.indices,this.primitiveType=i(e.primitiveType,u.TRIANGLES),this.boundingSphere=e.boundingSphere,this.geometryType=i(e.geometryType,s.NONE),this.boundingSphereCV=e.boundingSphereCV}var i=r(3),o=r(1),a=r(2),s=r(59),u=r(12);n.computeNumberOfVertices=function(e){if(!o(e))throw new a("geometry is required.");var t=-1;for(var r in e.attributes)if(e.attributes.hasOwnProperty(r)&&o(e.attributes[r])&&o(e.attributes[r].values)){var n=e.attributes[r],i=n.values.length/n.componentsPerAttribute;if(t!==i&&t!==-1)throw new a("All attribute lists must have the same number of attributes.");t=i}return t},e.exports=n},function(e,t,r){"use strict";function n(e){if(e=i(e,i.EMPTY_OBJECT),!o(e.componentDatatype))throw new a("options.componentDatatype is required.");if(!o(e.componentsPerAttribute))throw new a("options.componentsPerAttribute is required.");if(e.componentsPerAttribute<1||e.componentsPerAttribute>4)throw new a("options.componentsPerAttribute must be between 1 and 4.");if(!o(e.values))throw new a("options.values is required.");this.componentDatatype=e.componentDatatype,this.componentsPerAttribute=e.componentsPerAttribute,this.normalize=i(e.normalize,!1),this.values=e.values}var i=r(3),o=r(1),a=r(2);e.exports=n},function(e,t,r){"use strict";var n=r(47),i={POINTS:n.POINTS,LINES:n.LINES,LINE_LOOP:n.LINE_LOOP,LINE_STRIP:n.LINE_STRIP,TRIANGLES:n.TRIANGLES,TRIANGLE_STRIP:n.TRIANGLE_STRIP,TRIANGLE_FAN:n.TRIANGLE_FAN,validate:function(e){return e===i.POINTS||e===i.LINES||e===i.LINE_LOOP||e===i.LINE_STRIP||e===i.TRIANGLES||e===i.TRIANGLE_STRIP||e===i.TRIANGLE_FAN}};e.exports=Object.freeze(i)},function(e,t,r){"use strict";function n(e){e=i(e,i.EMPTY_OBJECT),this.position=e.position,this.normal=e.normal,this.st=e.st,this.binormal=e.binormal,this.tangent=e.tangent,this.color=e.color}var i=r(3);e.exports=n},function(e,t,r){"use strict";var n=r(1),i=r(2),o=r(5),a=r(47),s={UNSIGNED_BYTE:a.UNSIGNED_BYTE,UNSIGNED_SHORT:a.UNSIGNED_SHORT,UNSIGNED_INT:a.UNSIGNED_INT};s.getSizeInBytes=function(e){switch(e){case s.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case s.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case s.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT}throw new i("indexDatatype is required and must be a valid IndexDatatype constant.")},s.validate=function(e){return n(e)&&(e===s.UNSIGNED_BYTE||e===s.UNSIGNED_SHORT||e===s.UNSIGNED_INT)},s.createTypedArray=function(e,t){if(!n(e))throw new i("numberOfVertices is required.");return e>=o.SIXTY_FOUR_KILOBYTES?new Uint32Array(t):new Uint16Array(t)},s.createTypedArrayFromArrayBuffer=function(e,t,r,a){if(!n(e))throw new i("numberOfVertices is required.");if(!n(t))throw new i("sourceArray is required.");if(!n(r))throw new i("byteOffset is required.");return e>=o.SIXTY_FOUR_KILOBYTES?new Uint32Array(t,r,a):new Uint16Array(t,r,a)},e.exports=Object.freeze(s)},function(e,t,r){"use strict";function n(e,t,r){this.longitude=o(e,0),this.latitude=o(t,0),this.height=o(r,0)}var i=r(4),o=r(3),a=r(1),s=r(2),u=r(5),l=r(124);n.fromRadians=function(e,t,r,i){if(!a(e))throw new s("longitude is required.");if(!a(t))throw new s("latitude is required.");return r=o(r,0),a(i)?(i.longitude=e,i.latitude=t,i.height=r,i):new n(e,t,r)},n.fromDegrees=function(e,t,r,i){if(!a(e))throw new s("longitude is required.");if(!a(t))throw new s("latitude is required.");return e=u.toRadians(e),t=u.toRadians(t),n.fromRadians(e,t,r,i)};var c=new i,h=new i,f=new i,d=new i(1/6378137,1/6378137,1/6356752.314245179),p=new i(1/40680631590769,1/40680631590769,1/40408299984661.445),m=u.EPSILON1;n.fromCartesian=function(e,t,r){var o=a(t)?t.oneOverRadii:d,s=a(t)?t.oneOverRadiiSquared:p,g=a(t)?t._centerToleranceSquared:m,w=l(e,o,s,g,h);if(a(w)){var v=i.multiplyComponents(w,s,c);v=i.normalize(v,v);var y=i.subtract(e,w,f),_=Math.atan2(v.y,v.x),E=Math.asin(v.z),b=u.sign(i.dot(y,e))*i.magnitude(y);return a(r)?(r.longitude=_,r.latitude=E,r.height=b,r):new n(_,E,b)}},n.clone=function(e,t){if(a(e))return a(t)?(t.longitude=e.longitude,t.latitude=e.latitude,t.height=e.height,t):new n(e.longitude,e.latitude,e.height)},n.equals=function(e,t){return e===t||a(e)&&a(t)&&e.longitude===t.longitude&&e.latitude===t.latitude&&e.height===t.height},n.equalsEpsilon=function(e,t,r){if("number"!=typeof r)throw new s("epsilon is required and must be a number.");return e===t||a(e)&&a(t)&&Math.abs(e.longitude-t.longitude)<=r&&Math.abs(e.latitude-t.latitude)<=r&&Math.abs(e.height-t.height)<=r},n.ZERO=Object.freeze(new n(0,0,0)),n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.prototype.equalsEpsilon=function(e,t){return n.equalsEpsilon(this,e,t)},n.prototype.toString=function(){return"("+this.longitude+", "+this.latitude+", "+this.height+")"},e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n){this.west=o(e,0),this.south=o(t,0),this.east=o(r,0),this.north=o(n,0)}var i=r(15),o=r(3),a=r(1),s=r(2),u=r(6),l=r(5);Object.defineProperties(n.prototype,{width:{get:function(){return n.computeWidth(this)}},height:{get:function(){return n.computeHeight(this)}}}),n.packedLength=4,n.pack=function(e,t,r){if(!a(e))throw new s("value is required");if(!a(t))throw new s("array is required");return r=o(r,0),t[r++]=e.west,t[r++]=e.south,t[r++]=e.east,t[r]=e.north,t},n.unpack=function(e,t,r){if(!a(e))throw new s("array is required");return t=o(t,0),a(r)||(r=new n),r.west=e[t++],r.south=e[t++],r.east=e[t++],r.north=e[t],r},n.computeWidth=function(e){if(!a(e))throw new s("rectangle is required.");var t=e.east,r=e.west;return t<r&&(t+=l.TWO_PI),t-r},n.computeHeight=function(e){if(!a(e))throw new s("rectangle is required.");return e.north-e.south},n.fromDegrees=function(e,t,r,i,s){return e=l.toRadians(o(e,0)),t=l.toRadians(o(t,0)),r=l.toRadians(o(r,0)),i=l.toRadians(o(i,0)),a(s)?(s.west=e,s.south=t,s.east=r,s.north=i,s):new n(e,t,r,i)},n.fromCartographicArray=function(e,t){if(!a(e))throw new s("cartographics is required.");for(var r=Number.MAX_VALUE,i=-Number.MAX_VALUE,o=Number.MAX_VALUE,u=-Number.MAX_VALUE,c=Number.MAX_VALUE,h=-Number.MAX_VALUE,f=0,d=e.length;f<d;f++){var p=e[f];r=Math.min(r,p.longitude),i=Math.max(i,p.longitude),c=Math.min(c,p.latitude),h=Math.max(h,p.latitude);var m=p.longitude>=0?p.longitude:p.longitude+l.TWO_PI;o=Math.min(o,m),u=Math.max(u,m)}return i-r>u-o&&(r=o,i=u,i>l.PI&&(i-=l.TWO_PI),r>l.PI&&(r-=l.TWO_PI)),a(t)?(t.west=r,t.south=c,t.east=i,t.north=h,t):new n(r,c,i,h)},n.fromCartesianArray=function(e,t,r){if(!a(e))throw new s("cartesians is required.");for(var i=Number.MAX_VALUE,o=-Number.MAX_VALUE,u=Number.MAX_VALUE,c=-Number.MAX_VALUE,h=Number.MAX_VALUE,f=-Number.MAX_VALUE,d=0,p=e.length;d<p;d++){var m=t.cartesianToCartographic(e[d]);i=Math.min(i,m.longitude),o=Math.max(o,m.longitude),h=Math.min(h,m.latitude),f=Math.max(f,m.latitude);var g=m.longitude>=0?m.longitude:m.longitude+l.TWO_PI;u=Math.min(u,g),c=Math.max(c,g)}return o-i>c-u&&(i=u,o=c,o>l.PI&&(o-=l.TWO_PI),i>l.PI&&(i-=l.TWO_PI)),a(r)?(r.west=i,r.south=h,r.east=o,r.north=f,r):new n(i,h,o,f)},n.clone=function(e,t){if(a(e))return a(t)?(t.west=e.west,t.south=e.south,t.east=e.east,t.north=e.north,t):new n(e.west,e.south,e.east,e.north)},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.equals=function(e,t){return e===t||a(e)&&a(t)&&e.west===t.west&&e.south===t.south&&e.east===t.east&&e.north===t.north},n.prototype.equalsEpsilon=function(e,t){if("number"!=typeof t)throw new s("epsilon is required and must be a number.");return a(e)&&Math.abs(this.west-e.west)<=t&&Math.abs(this.south-e.south)<=t&&Math.abs(this.east-e.east)<=t&&Math.abs(this.north-e.north)<=t},n.validate=function(e){if(!a(e))throw new s("rectangle is required");var t=e.north;if("number"!=typeof t)throw new s("north is required to be a number.");if(t<-l.PI_OVER_TWO||t>l.PI_OVER_TWO)throw new s("north must be in the interval [-Pi/2, Pi/2].");var r=e.south;if("number"!=typeof r)throw new s("south is required to be a number.");if(r<-l.PI_OVER_TWO||r>l.PI_OVER_TWO)throw new s("south must be in the interval [-Pi/2, Pi/2].");var n=e.west;if("number"!=typeof n)throw new s("west is required to be a number.");if(n<-Math.PI||n>Math.PI)throw new s("west must be in the interval [-Pi, Pi].");var i=e.east;if("number"!=typeof i)throw new s("east is required to be a number.");if(i<-Math.PI||i>Math.PI)throw new s("east must be in the interval [-Pi, Pi].")},n.southwest=function(e,t){if(!a(e))throw new s("rectangle is required");return a(t)?(t.longitude=e.west,t.latitude=e.south,t.height=0,t):new i(e.west,e.south)},n.northwest=function(e,t){if(!a(e))throw new s("rectangle is required");return a(t)?(t.longitude=e.west,t.latitude=e.north,t.height=0,t):new i(e.west,e.north)},n.northeast=function(e,t){if(!a(e))throw new s("rectangle is required");return a(t)?(t.longitude=e.east,t.latitude=e.north,t.height=0,t):new i(e.east,e.north)},n.southeast=function(e,t){if(!a(e))throw new s("rectangle is required");return a(t)?(t.longitude=e.east,t.latitude=e.south,t.height=0,t):new i(e.east,e.south)},n.center=function(e,t){if(!a(e))throw new s("rectangle is required");var r=e.east,n=e.west;r<n&&(r+=l.TWO_PI);var o=l.negativePiToPi(.5*(n+r)),u=.5*(e.south+e.north);return a(t)?(t.longitude=o,t.latitude=u,t.height=0,t):new i(o,u)},n.intersection=function(e,t,r){if(!a(e))throw new s("rectangle is required");if(!a(t))throw new s("otherRectangle is required.");var i=e.east,o=e.west,u=t.east,c=t.west;i<o&&u>0?i+=l.TWO_PI:u<c&&i>0&&(u+=l.TWO_PI),i<o&&c<0?c+=l.TWO_PI:u<c&&o<0&&(o+=l.TWO_PI);var h=l.negativePiToPi(Math.max(o,c)),f=l.negativePiToPi(Math.min(i,u));if(!((e.west<e.east||t.west<t.east)&&f<=h)){var d=Math.max(e.south,t.south),p=Math.min(e.north,t.north);if(!(d>=p))return a(r)?(r.west=h,r.south=d,r.east=f,r.north=p,r):new n(h,d,f,p)}},n.simpleIntersection=function(e,t,r){if(!a(e))throw new s("rectangle is required");if(!a(t))throw new s("otherRectangle is required.");var i=Math.max(e.west,t.west),o=Math.max(e.south,t.south),u=Math.min(e.east,t.east),l=Math.min(e.north,t.north);if(!(o>=l||i>=u))return a(r)?(r.west=i,r.south=o,r.east=u,r.north=l,r):new n(i,o,u,l)},n.union=function(e,t,r){if(!a(e))throw new s("rectangle is required");if(!a(t))throw new s("otherRectangle is required.");a(r)||(r=new n);var i=e.east,o=e.west,u=t.east,c=t.west;i<o&&u>0?i+=l.TWO_PI:u<c&&i>0&&(u+=l.TWO_PI),i<o&&c<0?c+=l.TWO_PI:u<c&&o<0&&(o+=l.TWO_PI);var h=l.convertLongitudeRange(Math.min(o,c)),f=l.convertLongitudeRange(Math.max(i,u));return r.west=h,r.south=Math.min(e.south,t.south),r.east=f,r.north=Math.max(e.north,t.north),r},n.expand=function(e,t,r){if(!a(e))throw new s("rectangle is required.");if(!a(t))throw new s("cartographic is required.");return a(r)||(r=new n),r.west=Math.min(e.west,t.longitude),r.south=Math.min(e.south,t.latitude),r.east=Math.max(e.east,t.longitude),r.north=Math.max(e.north,t.latitude),r},n.contains=function(e,t){if(!a(e))throw new s("rectangle is required");if(!a(t))throw new s("cartographic is required.");var r=t.longitude,n=t.latitude,i=e.west,o=e.east;return o<i&&(o+=l.TWO_PI,r<0&&(r+=l.TWO_PI)),(r>i||l.equalsEpsilon(r,i,l.EPSILON14))&&(r<o||l.equalsEpsilon(r,o,l.EPSILON14))&&n>=e.south&&n<=e.north};var c=new i;n.subsample=function(e,t,r,i){if(!a(e))throw new s("rectangle is required");t=o(t,u.WGS84),r=o(r,0),a(i)||(i=[]);var h=0,f=e.north,d=e.south,p=e.east,m=e.west,g=c;g.height=r,g.longitude=m,g.latitude=f,i[h]=t.cartographicToCartesian(g,i[h]),h++,g.longitude=p,i[h]=t.cartographicToCartesian(g,i[h]),h++,g.latitude=d,i[h]=t.cartographicToCartesian(g,i[h]),h++,g.longitude=m,i[h]=t.cartographicToCartesian(g,i[h]),h++,f<0?g.latitude=f:d>0?g.latitude=d:g.latitude=0;for(var w=1;w<8;++w)g.longitude=-Math.PI+w*l.PI_OVER_TWO,n.contains(e,g)&&(i[h]=t.cartographicToCartesian(g,i[h]),h++);return 0===g.latitude&&(g.longitude=m,i[h]=t.cartographicToCartesian(g,i[h]),h++,g.longitude=p,i[h]=t.cartographicToCartesian(g,i[h]),h++),i.length=h,i},n.MAX_VALUE=Object.freeze(new n(-Math.PI,-l.PI_OVER_TWO,Math.PI,l.PI_OVER_TWO)),e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n,i,o,a,s,l){this[0]=u(e,0),this[1]=u(n,0),this[2]=u(a,0),this[3]=u(t,0),this[4]=u(i,0),this[5]=u(s,0),this[6]=u(r,0),this[7]=u(o,0),this[8]=u(l,0)}function i(e){for(var t=0,r=0;r<9;++r){var n=e[r];t+=n*n}return Math.sqrt(t)}function o(e){for(var t=0,r=0;r<3;++r){var i=e[n.getElementIndex(m[r],p[r])];t+=2*i*i}return Math.sqrt(t)}function a(e,t){for(var r=h.EPSILON15,i=0,o=1,a=0;a<3;++a){var s=Math.abs(e[n.getElementIndex(m[a],p[a])]);s>i&&(o=a,i=s)}var u=1,l=0,c=p[o],f=m[o];if(Math.abs(e[n.getElementIndex(f,c)])>r){var d,g=e[n.getElementIndex(f,f)],w=e[n.getElementIndex(c,c)],v=e[n.getElementIndex(f,c)],y=(g-w)/2/v;d=y<0?-1/(-y+Math.sqrt(1+y*y)):1/(y+Math.sqrt(1+y*y)),u=1/Math.sqrt(1+d*d),l=d*u}return t=n.clone(n.IDENTITY,t),t[n.getElementIndex(c,c)]=t[n.getElementIndex(f,f)]=u,t[n.getElementIndex(f,c)]=l,t[n.getElementIndex(c,f)]=-l,t}var s=r(4),u=r(3),l=r(1),c=r(2),h=r(5);n.packedLength=9,n.pack=function(e,t,r){if(!l(e))throw new c("value is required");if(!l(t))throw new c("array is required");return r=u(r,0),t[r++]=e[0],t[r++]=e[1],t[r++]=e[2],t[r++]=e[3],t[r++]=e[4],t[r++]=e[5],t[r++]=e[6],t[r++]=e[7],t[r++]=e[8],t},n.unpack=function(e,t,r){if(!l(e))throw new c("array is required");return t=u(t,0),l(r)||(r=new n),r[0]=e[t++],r[1]=e[t++],r[2]=e[t++],r[3]=e[t++],r[4]=e[t++],r[5]=e[t++],r[6]=e[t++],r[7]=e[t++],r[8]=e[t++],r},n.clone=function(e,t){if(l(e))return l(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):new n(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},n.fromArray=function(e,t,r){if(!l(e))throw new c("array is required");return t=u(t,0),l(r)||(r=new n),r[0]=e[t],r[1]=e[t+1],r[2]=e[t+2],r[3]=e[t+3],r[4]=e[t+4],r[5]=e[t+5],r[6]=e[t+6],r[7]=e[t+7],r[8]=e[t+8],r},n.fromColumnMajorArray=function(e,t){if(!l(e))throw new c("values parameter is required");return n.clone(e,t)},n.fromRowMajorArray=function(e,t){if(!l(e))throw new c("values is required.");return l(t)?(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],t):new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},n.fromQuaternion=function(e,t){if(!l(e))throw new c("quaternion is required");var r=e.x*e.x,i=e.x*e.y,o=e.x*e.z,a=e.x*e.w,s=e.y*e.y,u=e.y*e.z,h=e.y*e.w,f=e.z*e.z,d=e.z*e.w,p=e.w*e.w,m=r-s-f+p,g=2*(i-d),w=2*(o+h),v=2*(i+d),y=-r+s-f+p,_=2*(u-a),E=2*(o-h),b=2*(u+a),T=-r-s+f+p;return l(t)?(t[0]=m,t[1]=v,t[2]=E,t[3]=g,t[4]=y,t[5]=b,t[6]=w,t[7]=_,t[8]=T,t):new n(m,g,w,v,y,_,E,b,T)},n.fromHeadingPitchRoll=function(e,t){if(!l(e))throw new c("headingPitchRoll is required");var r=Math.cos(-e.pitch),i=Math.cos(-e.heading),o=Math.cos(e.roll),a=Math.sin(-e.pitch),s=Math.sin(-e.heading),u=Math.sin(e.roll),h=r*i,f=-o*s+u*a*i,d=u*s+o*a*i,p=r*s,m=o*i+u*a*s,g=-a*o+o*a*s,w=-a,v=u*r,y=o*r;return l(t)?(t[0]=h,t[1]=p,t[2]=w,t[3]=f,t[4]=m,t[5]=v,t[6]=d,t[7]=g,t[8]=y,t):new n(h,f,d,p,m,g,w,v,y)},n.fromScale=function(e,t){if(!l(e))throw new c("scale is required.");return l(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=e.y,t[5]=0,t[6]=0,t[7]=0,t[8]=e.z,t):new n(e.x,0,0,0,e.y,0,0,0,e.z)},n.fromUniformScale=function(e,t){if("number"!=typeof e)throw new c("scale is required.");return l(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=e,t):new n(e,0,0,0,e,0,0,0,e)},n.fromCrossProduct=function(e,t){if(!l(e))throw new c("vector is required.");return l(t)?(t[0]=0,t[1]=e.z,t[2]=-e.y,t[3]=-e.z,t[4]=0,t[5]=e.x,t[6]=e.y,t[7]=-e.x,t[8]=0,t):new n(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},n.fromRotationX=function(e,t){if(!l(e))throw new c("angle is required.");var r=Math.cos(e),i=Math.sin(e);return l(t)?(t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=r,t[5]=i,t[6]=0,t[7]=-i,t[8]=r,t):new n(1,0,0,0,r,-i,0,i,r)},n.fromRotationY=function(e,t){if(!l(e))throw new c("angle is required.");var r=Math.cos(e),i=Math.sin(e);return l(t)?(t[0]=r,t[1]=0,t[2]=-i,t[3]=0,t[4]=1,t[5]=0,t[6]=i,t[7]=0,t[8]=r,t):new n(r,0,i,0,1,0,-i,0,r)},n.fromRotationZ=function(e,t){if(!l(e))throw new c("angle is required.");var r=Math.cos(e),i=Math.sin(e);return l(t)?(t[0]=r,t[1]=i,t[2]=0,t[3]=-i,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new n(r,-i,0,i,r,0,0,0,1)},n.toArray=function(e,t){if(!l(e))throw new c("matrix is required");return l(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},n.getElementIndex=function(e,t){if("number"!=typeof t||t<0||t>2)throw new c("row must be 0, 1, or 2.");if("number"!=typeof e||e<0||e>2)throw new c("column must be 0, 1, or 2.");return 3*e+t},n.getColumn=function(e,t,r){if(!l(e))throw new c("matrix is required.");if("number"!=typeof t||t<0||t>2)throw new c("index must be 0, 1, or 2.");if(!l(r))throw new c("result is required");var n=3*t,i=e[n],o=e[n+1],a=e[n+2];return r.x=i,r.y=o,r.z=a,r},n.setColumn=function(e,t,r,i){if(!l(e))throw new c("matrix is required");if(!l(r))throw new c("cartesian is required");if("number"!=typeof t||t<0||t>2)throw new c("index must be 0, 1, or 2.");if(!l(i))throw new c("result is required");i=n.clone(e,i);var o=3*t;return i[o]=r.x,i[o+1]=r.y,i[o+2]=r.z,i},n.getRow=function(e,t,r){if(!l(e))throw new c("matrix is required.");if("number"!=typeof t||t<0||t>2)throw new c("index must be 0, 1, or 2.");if(!l(r))throw new c("result is required");var n=e[t],i=e[t+3],o=e[t+6];return r.x=n,r.y=i,r.z=o,r},n.setRow=function(e,t,r,i){if(!l(e))throw new c("matrix is required");if(!l(r))throw new c("cartesian is required");if("number"!=typeof t||t<0||t>2)throw new c("index must be 0, 1, or 2.");if(!l(i))throw new c("result is required");return i=n.clone(e,i),i[t]=r.x,i[t+3]=r.y,i[t+6]=r.z,i};var f=new s;n.getScale=function(e,t){if(!l(e))throw new c("matrix is required.");if(!l(t))throw new c("result is required");return t.x=s.magnitude(s.fromElements(e[0],e[1],e[2],f)),t.y=s.magnitude(s.fromElements(e[3],e[4],e[5],f)),t.z=s.magnitude(s.fromElements(e[6],e[7],e[8],f)),t};var d=new s;n.getMaximumScale=function(e){return n.getScale(e,d),s.maximumComponent(d)},n.multiply=function(e,t,r){if(!l(e))throw new c("left is required");if(!l(t))throw new c("right is required");if(!l(r))throw new c("result is required");var n=e[0]*t[0]+e[3]*t[1]+e[6]*t[2],i=e[1]*t[0]+e[4]*t[1]+e[7]*t[2],o=e[2]*t[0]+e[5]*t[1]+e[8]*t[2],a=e[0]*t[3]+e[3]*t[4]+e[6]*t[5],s=e[1]*t[3]+e[4]*t[4]+e[7]*t[5],u=e[2]*t[3]+e[5]*t[4]+e[8]*t[5],h=e[0]*t[6]+e[3]*t[7]+e[6]*t[8],f=e[1]*t[6]+e[4]*t[7]+e[7]*t[8],d=e[2]*t[6]+e[5]*t[7]+e[8]*t[8];return r[0]=n,r[1]=i,r[2]=o,r[3]=a,r[4]=s,r[5]=u,r[6]=h,r[7]=f,r[8]=d,r},n.add=function(e,t,r){if(!l(e))throw new c("left is required");if(!l(t))throw new c("right is required");if(!l(r))throw new c("result is required");return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r[4]=e[4]+t[4],r[5]=e[5]+t[5],r[6]=e[6]+t[6],r[7]=e[7]+t[7],r[8]=e[8]+t[8],r},n.subtract=function(e,t,r){if(!l(e))throw new c("left is required");if(!l(t))throw new c("right is required");if(!l(r))throw new c("result is required");return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r[4]=e[4]-t[4],r[5]=e[5]-t[5],r[6]=e[6]-t[6],r[7]=e[7]-t[7],r[8]=e[8]-t[8],r},n.multiplyByVector=function(e,t,r){if(!l(e))throw new c("matrix is required");if(!l(t))throw new c("cartesian is required");if(!l(r))throw new c("result is required");var n=t.x,i=t.y,o=t.z,a=e[0]*n+e[3]*i+e[6]*o,s=e[1]*n+e[4]*i+e[7]*o,u=e[2]*n+e[5]*i+e[8]*o;return r.x=a,r.y=s,r.z=u,r},n.multiplyByScalar=function(e,t,r){if(!l(e))throw new c("matrix is required");if("number"!=typeof t)throw new c("scalar must be a number");if(!l(r))throw new c("result is required");return r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r[4]=e[4]*t,r[5]=e[5]*t,r[6]=e[6]*t,r[7]=e[7]*t,r[8]=e[8]*t,r},n.multiplyByScale=function(e,t,r){if(!l(e))throw new c("matrix is required");if(!l(t))throw new c("scale is required");if(!l(r))throw new c("result is required");return r[0]=e[0]*t.x,r[1]=e[1]*t.x,r[2]=e[2]*t.x,r[3]=e[3]*t.y,r[4]=e[4]*t.y,r[5]=e[5]*t.y,r[6]=e[6]*t.z,r[7]=e[7]*t.z,r[8]=e[8]*t.z,r},n.negate=function(e,t){if(!l(e))throw new c("matrix is required");if(!l(t))throw new c("result is required");return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t},n.transpose=function(e,t){if(!l(e))throw new c("matrix is required");if(!l(t))throw new c("result is required");var r=e[0],n=e[3],i=e[6],o=e[1],a=e[4],s=e[7],u=e[2],h=e[5],f=e[8];return t[0]=r,t[1]=n,t[2]=i,t[3]=o,t[4]=a,t[5]=s,t[6]=u,t[7]=h,t[8]=f,t};var p=[1,0,0],m=[2,2,1],g=new n,w=new n;n.computeEigenDecomposition=function(e,t){if(!l(e))throw new c("matrix is required.");var r=h.EPSILON20,s=10,u=0,f=0;l(t)||(t={});for(var d=t.unitary=n.clone(n.IDENTITY,t.unitary),p=t.diagonal=n.clone(e,t.diagonal),m=r*i(p);f<s&&o(p)>m;)a(p,g),n.transpose(g,w),n.multiply(p,g,p),n.multiply(w,p,p),n.multiply(d,g,d),++u>2&&(++f,u=0);return t},n.abs=function(e,t){if(!l(e))throw new c("matrix is required");if(!l(t))throw new c("result is required");return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t},n.determinant=function(e){if(!l(e))throw new c("matrix is required");var t=e[0],r=e[3],n=e[6],i=e[1],o=e[4],a=e[7],s=e[2],u=e[5],h=e[8];return t*(o*h-u*a)+i*(u*n-r*h)+s*(r*a-o*n)},n.inverse=function(e,t){if(!l(e))throw new c("matrix is required");if(!l(t))throw new c("result is required");var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],f=e[6],d=e[7],p=e[8],m=n.determinant(e);if(Math.abs(m)<=h.EPSILON15)throw new c("matrix is not invertible");t[0]=s*p-d*u,t[1]=d*o-i*p,t[2]=i*u-s*o,t[3]=f*u-a*p,t[4]=r*p-f*o,t[5]=a*o-r*u,t[6]=a*d-f*s,t[7]=f*i-r*d,t[8]=r*s-a*i;var g=1/m;return n.multiplyByScalar(t,g,t)},n.equals=function(e,t){return e===t||l(e)&&l(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},n.equalsEpsilon=function(e,t,r){if("number"!=typeof r)throw new c("epsilon must be a number");return e===t||l(e)&&l(t)&&Math.abs(e[0]-t[0])<=r&&Math.abs(e[1]-t[1])<=r&&Math.abs(e[2]-t[2])<=r&&Math.abs(e[3]-t[3])<=r&&Math.abs(e[4]-t[4])<=r&&Math.abs(e[5]-t[5])<=r&&Math.abs(e[6]-t[6])<=r&&Math.abs(e[7]-t[7])<=r&&Math.abs(e[8]-t[8])<=r},n.IDENTITY=Object.freeze(new n(1,0,0,0,1,0,0,0,1)),n.ZERO=Object.freeze(new n(0,0,0,0,0,0,0,0,0)),n.COLUMN0ROW0=0,n.COLUMN0ROW1=1,n.COLUMN0ROW2=2,n.COLUMN1ROW0=3,n.COLUMN1ROW1=4,n.COLUMN1ROW2=5,n.COLUMN2ROW0=6,n.COLUMN2ROW1=7,n.COLUMN2ROW2=8,Object.defineProperties(n.prototype,{length:{get:function(){return n.packedLength}}}),n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.equalsArray=function(e,t,r){return e[0]===t[r]&&e[1]===t[r+1]&&e[2]===t[r+2]&&e[3]===t[r+3]&&e[4]===t[r+4]&&e[5]===t[r+5]&&e[6]===t[r+6]&&e[7]===t[r+7]&&e[8]===t[r+8]},n.prototype.equalsEpsilon=function(e,t){return n.equalsEpsilon(this,e,t)},n.prototype.toString=function(){return"("+this[0]+", "+this[3]+", "+this[6]+")\n("+this[1]+", "+this[4]+", "+this[7]+")\n("+this[2]+", "+this[5]+", "+this[8]+")"},e.exports=n},function(e,t,r){(function(t,r,n){/* @preserve
	 * The MIT License (MIT)
	 * 
	 * Copyright (c) 2013-2015 Petka Antonov
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 * 
	 * The above copyright notice and this permission notice shall be included in
	 * all copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	 * THE SOFTWARE.
	 * 
	 */
!function(t){e.exports=t()}(function(){return function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){var u="function"==typeof _dereq_&&_dereq_;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[a]={exports:{}};t[a][0].call(c.exports,function(e){var r=t[a][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){"use strict";t.exports=function(e){function t(e){var t=new r(e),n=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),n}var r=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(e,r,n){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new c(16),this._normalQueue=new c(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=l}function o(e,t,r){this._lateQueue.push(e,t,r),this._queueTick()}function a(e,t,r){this._normalQueue.push(e,t,r),this._queueTick()}function s(e){this._normalQueue._pushOne(e),this._queueTick()}var u;try{throw new Error}catch(e){u=e}var l=e("./schedule"),c=e("./queue"),h=e("./util");i.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){h.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(e,r){r?(t.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),t.exit(2)):this.throwLater(e)},i.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},h.hasDevTools?(i.prototype.invokeLater=function(e,t,r){this._trampolineEnabled?o.call(this,e,t,r):this._schedule(function(){setTimeout(function(){e.call(t,r)},100)})},i.prototype.invoke=function(e,t,r){this._trampolineEnabled?a.call(this,e,t,r):this._schedule(function(){e.call(t,r)})},i.prototype.settlePromises=function(e){this._trampolineEnabled?s.call(this,e):this._schedule(function(){e._settlePromises()})}):(i.prototype.invokeLater=o,i.prototype.invoke=a,i.prototype.settlePromises=s),i.prototype.invokeFirst=function(e,t,r){this._normalQueue.unshift(e,t,r),this._queueTick()},i.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var r=e.shift(),n=e.shift();t.call(r,n)}else t._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},r.exports=i,r.exports.firstLineError=u},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){var i=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0===(50397184&this._bitField)&&this._resolveCallback(t.target)},u=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){i||(i=!0,e.prototype._propagateFrom=n.propagateFromFunction(),e.prototype._boundValue=n.boundValueFunction());var l=r(o),c=new e(t);c._propagateFrom(this,1);var h=this._target();if(c._setBoundTo(l),l instanceof e){var f={promiseRejectionQueued:!1,promise:c,target:h,bindingPromise:l};h._then(t,a,void 0,c,f),l._then(s,u,void 0,c,f),c._setOnCancel(l)}else c._resolveCallback(h);return c},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=this._bitField&-2097153},e.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},e.bind=function(t,r){return e.resolve(r).bind(t)}}},{}],4:[function(e,t,r){"use strict";function n(){try{Promise===o&&(Promise=i)}catch(e){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=e("./promise")();o.noConflict=n,t.exports=o},{"./promise":22}],5:[function(e,t,r){"use strict";var n=Object.create;if(n){var i=n(null),o=n(null);i[" size"]=o[" size"]=0}t.exports=function(t){function r(e,r){var n;if(null!=e&&(n=e[r]),"function"!=typeof n){var i="Object "+s.classString(e)+" has no method '"+s.toString(r)+"'";throw new t.TypeError(i)}return n}function n(e){var t=this.pop(),n=r(e,t);return n.apply(e,this)}function i(e){return e[this]}function o(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var a,s=e("./util"),u=s.canEvaluate;s.isIdentifier,t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(n,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t,r="number"==typeof e;if(r)t=o;else if(u){var n=a(e);t=null!==n?n:i}else t=i;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,r){"use strict";t.exports=function(t,r,n,i){var o=e("./util"),a=o.tryCatch,s=o.errorObj,u=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var r=e._cancellationParent;if(null==r||!r._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=r}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var r=0;r<e.length;++r)this._doInvokeOnCancel(e[r],t);else if(void 0!==e)if("function"==typeof e){if(!t){var n=a(e).call(this._boundValue());n===s&&(this._attachExtraTrace(n.e),u.throwLater(n.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,r){"use strict";t.exports=function(t){function r(e,r,s){return function(u){var l=s._boundValue();e:for(var c=0;c<e.length;++c){var h=e[c];if(h===Error||null!=h&&h.prototype instanceof Error){if(u instanceof h)return o(r).call(l,u)}else if("function"==typeof h){var f=o(h).call(l,u);if(f===a)return f;if(f)return o(r).call(l,u)}else if(n.isObject(u)){for(var d=i(h),p=0;p<d.length;++p){var m=d[p];if(h[m]!=u[m])continue e}return o(r).call(l,u)}}return t}}var n=e("./util"),i=e("./es5").keys,o=n.tryCatch,a=n.errorObj;return r}},{"./es5":13,"./util":36}],8:[function(e,t,r){"use strict";t.exports=function(e){function t(){this._trace=new t.CapturedTrace(n())}function r(){if(i)return new t}function n(){var e=o.length-1;if(e>=0)return o[e]}var i=!1,o=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=o.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=r,t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var r=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,u=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=r,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=u,i=!1},i=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=n,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},{}],9:[function(e,r,n){"use strict";r.exports=function(r,n){function i(e,t){return{promise:t}}function o(){return!1}function a(e,t,r){var n=this;try{e(t,r,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+k.toString(e));n._attachCancellationCallback(e)})}catch(e){return e}}function s(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?k.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function u(){return this._onCancelField}function l(e){this._onCancelField=e}function c(){this._cancellationParent=void 0,this._onCancelField=void 0}function h(e,t){if(0!==(1&t)){this._cancellationParent=e;var r=e._branchesRemainingToCancel;void 0===r&&(r=0),e._branchesRemainingToCancel=r+1}0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function f(e,t){0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function d(){var e=this._boundTo;return void 0!==e&&e instanceof r?e.isFulfilled()?e.value():void 0:e}function p(){this._trace=new M(this._peekContext())}function m(e,t){if(U(e)){var r=this._trace;if(void 0!==r&&t&&(r=r._parent),void 0!==r)r.attachExtraTrace(e);else if(!e.__stackCleaned__){var n=x(e);k.notEnumerableProp(e,"stack",n.message+"\n"+n.stack.join("\n")),k.notEnumerableProp(e,"__stackCleaned__",!0)}}}function g(e,t,r,n,i){if(void 0===e&&null!==t&&Z){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&n._bitField))return;r&&(r+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),u=b(s),l=u.length-1;l>=0;--l){var c=u[l];if(!j.test(c)){var h=c.match(G);h&&(o="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(u.length>0)for(var f=u[0],l=0;l<s.length;++l)if(s[l]===f){l>0&&(a="\n"+s[l-1]);break}}var d="a promise was created in a "+r+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;n._warn(d,!0,t)}}function w(e,t){var r=e+" is deprecated and will be removed in a future version.";return t&&(r+=" Use "+t+" instead."),v(r)}function v(e,t,n){if(ae.warnings){var i,o=new z(e);if(t)n._attachExtraTrace(o);else if(ae.longStackTraces&&(i=r._peekContext()))i.attachExtraTrace(o);else{var a=x(o);o.stack=a.message+"\n"+a.stack.join("\n")}te("warning",o)||A(o,"",!0)}}function y(e,t){for(var r=0;r<t.length-1;++r)t[r].push("From previous event:"),t[r]=t[r].join("\n");return r<t.length&&(t[r]=t[r].join("\n")),e+"\n"+t.join("\n")}function _(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function E(e){for(var t=e[0],r=1;r<e.length;++r){for(var n=e[r],i=t.length-1,o=t[i],a=-1,s=n.length-1;s>=0;--s)if(n[s]===o){a=s;break}for(var s=a;s>=0;--s){var u=n[s];if(t[i]!==u)break;t.pop(),i--}t=n}}function b(e){for(var t=[],r=0;r<e.length;++r){var n=e[r],i="    (No stack trace)"===n||H.test(n),o=i&&ne(n);i&&!o&&(W&&" "!==n.charAt(0)&&(n="    "+n),t.push(n))}return t}function T(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),r=0;r<t.length;++r){var n=t[r];if("    (No stack trace)"===n||H.test(n))break}return r>0&&(t=t.slice(r)),t}function x(e){var t=e.stack,r=e.toString();return t="string"==typeof t&&t.length>0?T(e):["    (No stack trace)"],{message:r,stack:b(t)}}function A(e,t,r){if("undefined"!=typeof console){var n;if(k.isObject(e)){var i=e.stack;n=t+V(i,e)}else n=t+String(e);"function"==typeof L?L(n,r):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(n)}}function S(e,t,r,n){var i=!1;try{"function"==typeof t&&(i=!0,"rejectionHandled"===e?t(n):t(r,n))}catch(e){D.throwLater(e)}"unhandledRejection"===e?te(e,r,n)||i||A(r,"Unhandled rejection "):te(e,n)}function O(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():k.toString(e);var r=/\[object [a-zA-Z0-9$_]+\]/;if(r.test(t))try{var n=JSON.stringify(e);t=n}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+I(t)+">, no stack trace)"}function I(e){var t=41;return e.length<t?e:e.substr(0,t-3)+"..."}function R(){return"function"==typeof oe}function P(e){var t=e.match(ie);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function C(e,t){if(R()){for(var r,n,i=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,s=-1,u=0;u<i.length;++u){var l=P(i[u]);if(l){r=l.fileName,a=l.line;break}}for(var u=0;u<o.length;++u){var l=P(o[u]);if(l){n=l.fileName,s=l.line;break}}a<0||s<0||!r||!n||r!==n||a>=s||(ne=function(e){if(B.test(e))return!0;var t=P(e);return!!(t&&t.fileName===r&&a<=t.line&&t.line<=s)})}}function M(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);oe(this,M),t>32&&this.uncycle()}var N,q,L,F=r._getDomain,D=r._async,z=e("./errors").Warning,k=e("./util"),U=k.canAttachTrace,B=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,j=/\((?:timers\.js):\d+:\d+\)/,G=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,H=null,V=null,W=!1,Y=!(0==k.env("BLUEBIRD_DEBUG")),X=!(0==k.env("BLUEBIRD_WARNINGS")||!Y&&!k.env("BLUEBIRD_WARNINGS")),Q=!(0==k.env("BLUEBIRD_LONG_STACK_TRACES")||!Y&&!k.env("BLUEBIRD_LONG_STACK_TRACES")),Z=0!=k.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(X||!!k.env("BLUEBIRD_W_FORGOTTEN_RETURN"));r.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=e._bitField&-1048577|524288},r.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),D.invokeLater(this._notifyUnhandledRejection,this,void 0))},r.prototype._notifyUnhandledRejectionIsHandled=function(){S("rejectionHandled",N,void 0,this)},r.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},r.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},r.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),S("unhandledRejection",q,e,this)}},r.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},r.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},r.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},r.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},r.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},r.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},r.prototype._warn=function(e,t,r){return v(e,t,r||this)},r.onPossiblyUnhandledRejection=function(e){var t=F();q="function"==typeof e?null===t?e:k.domainBind(t,e):void 0},r.onUnhandledRejectionHandled=function(e){var t=F();N="function"==typeof e?null===t?e:k.domainBind(t,e):void 0};var K=function(){};r.longStackTraces=function(){if(D.haveItemsQueued()&&!ae.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!ae.longStackTraces&&R()){var e=r.prototype._captureStackTrace,t=r.prototype._attachExtraTrace;ae.longStackTraces=!0,K=function(){if(D.haveItemsQueued()&&!ae.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");r.prototype._captureStackTrace=e,r.prototype._attachExtraTrace=t,n.deactivateLongStackTraces(),D.enableTrampoline(),ae.longStackTraces=!1},r.prototype._captureStackTrace=p,r.prototype._attachExtraTrace=m,n.activateLongStackTraces(),D.disableTrampolineIfNecessary()}},r.hasLongStackTraces=function(){return ae.longStackTraces&&R()};var J=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return k.global.dispatchEvent(e),function(e,t){var r=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!k.global.dispatchEvent(r)}}if("function"==typeof Event){var e=new Event("CustomEvent");return k.global.dispatchEvent(e),function(e,t){var r=new Event(e.toLowerCase(),{cancelable:!0});return r.detail=t,!k.global.dispatchEvent(r)}}var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),k.global.dispatchEvent(e),function(e,t){var r=document.createEvent("CustomEvent");return r.initCustomEvent(e.toLowerCase(),!1,!0,t),!k.global.dispatchEvent(r)}}catch(e){}return function(){return!1}}(),$=function(){return k.isNode?function(){return t.emit.apply(t,arguments)}:k.global?function(e){var t="on"+e.toLowerCase(),r=k.global[t];return!!r&&(r.apply(k.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),ee={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(e,t,r){return{promise:t,child:r}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,r){return{reason:t,promise:r}},rejectionHandled:i},te=function(e){var t=!1;try{t=$.apply(null,arguments)}catch(e){D.throwLater(e),t=!0}var r=!1;try{r=J(e,ee[e].apply(null,arguments))}catch(e){D.throwLater(e),r=!0}return r||t};r.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?r.longStackTraces():!e.longStackTraces&&r.hasLongStackTraces()&&K()),"warnings"in e){var t=e.warnings;ae.warnings=!!t,Z=ae.warnings,k.isObject(t)&&"wForgottenReturn"in t&&(Z=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!ae.cancellation){if(D.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");r.prototype._clearCancellationData=c,r.prototype._propagateFrom=h,r.prototype._onCancel=u,r.prototype._setOnCancel=l,r.prototype._attachCancellationCallback=s,r.prototype._execute=a,re=h,ae.cancellation=!0}"monitoring"in e&&(e.monitoring&&!ae.monitoring?(ae.monitoring=!0,r.prototype._fireEvent=te):!e.monitoring&&ae.monitoring&&(ae.monitoring=!1,r.prototype._fireEvent=o))},r.prototype._fireEvent=o,r.prototype._execute=function(e,t,r){try{e(t,r)}catch(e){return e}},r.prototype._onCancel=function(){},r.prototype._setOnCancel=function(e){},r.prototype._attachCancellationCallback=function(e){},r.prototype._captureStackTrace=function(){},r.prototype._attachExtraTrace=function(){},r.prototype._clearCancellationData=function(){},r.prototype._propagateFrom=function(e,t){};var re=f,ne=function(){return!1},ie=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;k.inherits(M,Error),n.CapturedTrace=M,M.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],r={},n=0,i=this;void 0!==i;++n)t.push(i),i=i._parent;e=this._length=n;for(var n=e-1;n>=0;--n){var o=t[n].stack;void 0===r[o]&&(r[o]=n)}for(var n=0;n<e;++n){var a=t[n].stack,s=r[a];if(void 0!==s&&s!==n){s>0&&(t[s-1]._parent=void 0,t[s-1]._length=1),t[n]._parent=void 0,t[n]._length=1;var u=n>0?t[n-1]:this;s<e-1?(u._parent=t[s+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var l=u._length+1,c=n-2;c>=0;--c)t[c]._length=l,l++;return}}}},M.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=x(e),r=t.message,n=[t.stack],i=this;void 0!==i;)n.push(b(i.stack.split("\n"))),i=i._parent;E(n),_(n),k.notEnumerableProp(e,"stack",y(r,n)),k.notEnumerableProp(e,"__stackCleaned__",!0)}};var oe=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():O(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,H=e,V=t;var r=Error.captureStackTrace;return ne=function(e){return B.test(e)},function(e,t){Error.stackTraceLimit+=6,r(e,t),Error.stackTraceLimit-=6}}var n=new Error;if("string"==typeof n.stack&&n.stack.split("\n")[0].indexOf("stackDetection@")>=0)return H=/@/,V=t,W=!0,function(e){e.stack=(new Error).stack};var i;try{throw new Error}catch(e){i="stack"in e}return"stack"in n||!i||"number"!=typeof Error.stackTraceLimit?(V=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?O(t):t.toString()},null):(H=e,V=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(L=function(e){console.warn(e)},k.isNode&&t.stderr.isTTY?L=function(e,t){var r=t?"[33m":"[31m";console.warn(r+e+"[0m\n")}:k.isNode||"string"!=typeof(new Error).stack||(L=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var ae={warnings:X,longStackTraces:!1,cancellation:!1,monitoring:!1};return Q&&r.longStackTraces(),{longStackTraces:function(){return ae.longStackTraces},warnings:function(){return ae.warnings},cancellation:function(){return ae.cancellation},monitoring:function(){return ae.monitoring},propagateFromFunction:function(){return re},boundValueFunction:function(){return d},checkForgottenReturns:g,setBounds:C,warn:v,deprecated:w,CapturedTrace:M,fireDomEvent:J,fireGlobalEvent:$}}},{"./errors":12,"./util":36}],10:[function(e,t,r){"use strict";t.exports=function(e){function t(){return this.value}function r(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(r){return r instanceof e&&r.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:r},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(r,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,r,void 0,{reason:e},void 0);var t=arguments[1],n=function(){throw t};return this.caught(e,n)},e.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof e&&r.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:r},void 0);var n=arguments[1];n instanceof e&&n.suppressUnhandledRejections();var i=function(){return n};return this.caught(r,i)}}},{}],11:[function(e,t,r){"use strict";t.exports=function(e,t){function r(){return o(this)}function n(e,r){return i(e,r,t,t)}var i=e.reduce,o=e.all;e.prototype.each=function(e){return i(this,e,t,0)._then(r,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return i(this,e,t,t)},e.each=function(e,n){return i(e,n,t,0)._then(r,void 0,void 0,e,void 0)},e.mapSeries=n}},{}],12:[function(e,t,r){"use strict";function n(e,t){function r(n){return this instanceof r?(h(this,"message","string"==typeof n?n:t),h(this,"name",e),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new r(n)}return c(r,Error),r}function i(e){return this instanceof i?(h(this,"name","OperationalError"),h(this,"message",e),this.cause=e,this.isOperational=!0,void(e instanceof Error?(h(this,"message",e.message),h(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(e)}var o,a,s=e("./es5"),u=s.freeze,l=e("./util"),c=l.inherits,h=l.notEnumerableProp,f=n("Warning","warning"),d=n("CancellationError","cancellation error"),p=n("TimeoutError","timeout error"),m=n("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(e){o=n("TypeError","type error"),a=n("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),w=0;w<g.length;++w)"function"==typeof Array.prototype[g[w]]&&(m.prototype[g[w]]=Array.prototype[g[w]]);s.defineProperty(m.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),m.prototype.isOperational=!0;var v=0;m.prototype.toString=function(){var e=Array(4*v+1).join(" "),t="\n"+e+"AggregateError of:\n";v++,e=Array(4*v+1).join(" ");for(var r=0;r<this.length;++r){for(var n=this[r]===this?"[Circular AggregateError]":this[r]+"",i=n.split("\n"),o=0;o<i.length;++o)i[o]=e+i[o];n=i.join("\n"),t+=n+"\n"}return v--,t},c(i,Error);var y=Error.__BluebirdErrorTypes__;y||(y=u({CancellationError:d,TimeoutError:p,OperationalError:i,RejectionError:i,AggregateError:m}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(e,t,r){var n=function(){"use strict";return void 0===this}();if(n)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!(r&&!r.writable&&!r.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var r in e)i.call(e,r)&&t.push(r);return t},u=function(e,t){return{value:e[t]}},l=function(e,t,r){return e[t]=r.value,e},c=function(e){return e},h=function(e){try{return Object(e).constructor.prototype}catch(e){return a}},f=function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}};t.exports={isArray:f,keys:s,names:s,defineProperty:l,getDescriptor:u,freeze:c,getPrototypeOf:h,isES5:n,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,r){"use strict";t.exports=function(e,t){var r=e.map;e.prototype.filter=function(e,n){return r(this,e,n,t)},e.filter=function(e,n,i){return r(e,n,i,t)}}},{}],15:[function(e,t,r){"use strict";t.exports=function(t,r){function n(e,t,r){this.promise=e,this.type=t,this.handler=r,this.called=!1,this.cancelPromise=null}function i(e){this.finallyHandler=e}function o(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function a(){return u.call(this,this.promise._target()._settledValue())}function s(e){if(!o(this,e))return h.e=e,h}function u(e){var n=this.promise,u=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?u.call(n._boundValue()):u.call(n._boundValue(),e);if(void 0!==l){n._setReturnedNonUndefined();var f=r(l,n);if(f instanceof t){if(null!=this.cancelPromise){if(f._isCancelled()){var d=new c("late cancellation observer");return n._attachExtraTrace(d),h.e=d,h}f.isPending()&&f._attachCancellationCallback(new i(this))}return f._then(a,s,void 0,this,void 0)}}}return n.isRejected()?(o(this),h.e=e,h):(o(this),e)}var l=e("./util"),c=t.CancellationError,h=l.errorObj;return n.prototype.isFinallyHandler=function(){return 0===this.type},i.prototype._resultCancelled=function(){o(this.finallyHandler)},t.prototype._passThrough=function(e,t,r,i){return"function"!=typeof e?this.then():this._then(r,i,void 0,new n(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,u,u)},t.prototype.tap=function(e){return this._passThrough(e,1,u)},n}},{"./util":36}],16:[function(e,t,r){"use strict";t.exports=function(t,r,n,i,o,a){function s(e,r,n){for(var o=0;o<r.length;++o){n._pushContext();var a=d(r[o])(e);if(n._popContext(),a===f){n._pushContext();var s=t.reject(f.e);return n._popContext(),s}var u=i(a,n);if(u instanceof t)return u}return null}function u(e,r,i,o){if(a.cancellation()){var s=new t(n),u=this._finallyPromise=new t(n);this._promise=s.lastly(function(){return u}),s._captureStackTrace(),s._setOnCancel(this)}else{var l=this._promise=new t(n);l._captureStackTrace()}this._stack=o,this._generatorFunction=e,this._receiver=r,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(p):p,this._yieldedPromise=null,this._cancellationPhase=!1}var l=e("./errors"),c=l.TypeError,h=e("./util"),f=h.errorObj,d=h.tryCatch,p=[];h.inherits(u,o),u.prototype._isResolved=function(){return null===this._promise},u.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},u.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,r="undefined"!=typeof this._generator.return;if(r)this._promise._pushContext(),e=d(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),e=d(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},u.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=d(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},u.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=d(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},u.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},u.prototype.promise=function(){return this._promise},u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},u.prototype._continue=function(e){var r=this._promise;if(e===f)return this._cleanup(),this._cancellationPhase?r.cancel():r._rejectCallback(e.e,!1);var n=e.value;if(e.done===!0)return this._cleanup(),this._cancellationPhase?r.cancel():r._resolveCallback(n);var o=i(n,this._promise);if(!(o instanceof t)&&(o=s(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",n)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var a=o._bitField;0===(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&a)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&a)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},t.coroutine=function(e,t){if("function"!=typeof e)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=Object(t).yieldHandler,n=u,i=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new n(void 0,void 0,r,i),a=o.promise();return o._generator=t,o._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new c("expecting a function but got "+h.classString(e));p.push(e)},t.spawn=function(e){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return r("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=new u(e,this),i=n.promise();return n._run(t.spawn),
i}}},{"./errors":12,"./util":36}],17:[function(e,t,r){"use strict";t.exports=function(t,r,n,i,o,a){var s=e("./util");s.canEvaluate,s.tryCatch,s.errorObj,t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"==typeof arguments[t]){e=arguments[t];var n}var i=[].slice.call(arguments);e&&i.pop();var n=new r(i).promise();return void 0!==e?n.spread(e):n}}},{"./util":36}],18:[function(e,t,r){"use strict";t.exports=function(t,r,n,i,o,a){function s(e,t,r,n){this.constructor$(e),this._promise._captureStackTrace();var i=l();this._callback=null===i?t:c.domainBind(i,t),this._preservedValues=n===o?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=[],d.invoke(this._asyncInit,this,void 0)}function u(e,r,i,o){if("function"!=typeof r)return n("expecting a function but got "+c.classString(r));var a=0;if(void 0!==i){if("object"!=typeof i||null===i)return t.reject(new TypeError("options argument must be an object but it is "+c.classString(i)));if("number"!=typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+c.classString(i.concurrency)));a=i.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new s(e,r,a,o).promise()}var l=t._getDomain,c=e("./util"),h=c.tryCatch,f=c.errorObj,d=t._async;c.inherits(s,r),s.prototype._asyncInit=function(){this._init$(void 0,-2)},s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,r){var n=this._values,o=this.length(),s=this._preservedValues,u=this._limit;if(r<0){if(r=r*-1-1,n[r]=e,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return n[r]=e,this._queue.push(r),!1;null!==s&&(s[r]=e);var l=this._promise,c=this._callback,d=l._boundValue();l._pushContext();var p=h(c).call(d,e,r,o),m=l._popContext();if(a.checkForgottenReturns(p,m,null!==s?"Promise.filter":"Promise.map",l),p===f)return this._reject(p.e),!0;var g=i(p,this._promise);if(g instanceof t){g=g._target();var w=g._bitField;if(0===(50397184&w))return u>=1&&this._inFlight++,n[r]=g,g._proxy(this,(r+1)*-1),!1;if(0===(33554432&w))return 0!==(16777216&w)?(this._reject(g._reason()),!0):(this._cancel(),!0);p=g._value()}n[r]=p}var v=++this._totalResolved;return v>=o&&(null!==s?this._filter(n,s):this._resolve(n),!0)},s.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,r=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var n=e.pop();this._promiseFulfilled(r[n],n)}},s.prototype._filter=function(e,t){for(var r=t.length,n=new Array(r),i=0,o=0;o<r;++o)e[o]&&(n[i++]=t[o]);n.length=i,this._resolve(n)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return u(this,e,t,null)},t.map=function(e,t,r,n){return u(e,t,r,n)}}},{"./util":36}],19:[function(e,t,r){"use strict";t.exports=function(t,r,n,i,o){var a=e("./util"),s=a.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var n=new t(r);n._captureStackTrace(),n._pushContext();var i=s(e).apply(this,arguments),a=n._popContext();return o.checkForgottenReturns(i,a,"Promise.method",n),n._resolveFromSyncValue(i),n}},t.attempt=t.try=function(e){if("function"!=typeof e)return i("expecting a function but got "+a.classString(e));var n=new t(r);n._captureStackTrace(),n._pushContext();var u;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var l=arguments[1],c=arguments[2];u=a.isArray(l)?s(e).apply(c,l):s(e).call(c,l)}else u=s(e)();var h=n._popContext();return o.checkForgottenReturns(u,h,"Promise.try",n),n._resolveFromSyncValue(u),n},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,r){"use strict";function n(e){return e instanceof Error&&c.getPrototypeOf(e)===Error.prototype}function i(e){var t;if(n(e)){t=new l(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var r=c.keys(e),i=0;i<r.length;++i){var o=r[i];h.test(o)||(t[o]=e[o])}return t}return a.markAsOriginatingFromRejection(e),e}function o(e,t){return function(r,n){if(null!==e){if(r){var o=i(s(r));e._attachExtraTrace(o),e._reject(o)}else if(t){var a=[].slice.call(arguments,1);e._fulfill(a)}else e._fulfill(n);e=null}}}var a=e("./util"),s=a.maybeWrapAsError,u=e("./errors"),l=u.OperationalError,c=e("./es5"),h=/^(?:name|message|stack|cause)$/;t.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,r){"use strict";t.exports=function(t){function r(e,t){var r=this;if(!o.isArray(e))return n.call(r,e,t);var i=s(t).apply(r._boundValue(),[null].concat(e));i===u&&a.throwLater(i.e)}function n(e,t){var r=this,n=r._boundValue(),i=void 0===e?s(t).call(n,null):s(t).call(n,null,e);i===u&&a.throwLater(i.e)}function i(e,t){var r=this;if(!e){var n=new Error(e+"");n.cause=e,e=n}var i=s(t).call(r._boundValue(),e);i===u&&a.throwLater(i.e)}var o=e("./util"),a=t._async,s=o.tryCatch,u=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var o=n;void 0!==t&&Object(t).spread&&(o=r),this._then(o,i,void 0,this,e)}return this}}},{"./util":36}],22:[function(e,r,n){"use strict";r.exports=function(){function n(){}function i(e,t){if("function"!=typeof t)throw new y("expecting a function but got "+p.classString(t));if(e.constructor!==o)throw new y("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function o(e){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,e!==E&&(i(this,e),this._resolveFromExecutor(e)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function a(e){this.promise._resolveCallback(e)}function s(e){this.promise._rejectCallback(e,!1)}function u(e){var t=new o(E);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var l,c=function(){return new y("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},h=function(){return new o.PromiseInspection(this._target())},f=function(e){return o.reject(new y(e))},d={},p=e("./util");l=p.isNode?function(){var e=t.domain;return void 0===e&&(e=null),e}:function(){return null},p.notEnumerableProp(o,"_getDomain",l);var m=e("./es5"),g=e("./async"),w=new g;m.defineProperty(o,"_async",{value:w});var v=e("./errors"),y=o.TypeError=v.TypeError;o.RangeError=v.RangeError;var _=o.CancellationError=v.CancellationError;o.TimeoutError=v.TimeoutError,o.OperationalError=v.OperationalError,o.RejectionError=v.OperationalError,o.AggregateError=v.AggregateError;var E=function(){},b={},T={},x=e("./thenables")(o,E),A=e("./promise_array")(o,E,x,f,n),S=e("./context")(o),O=S.create,I=e("./debuggability")(o,S),R=(I.CapturedTrace,e("./finally")(o,x)),P=e("./catch_filter")(T),C=e("./nodeback"),M=p.errorObj,N=p.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype.catch=function(e){var t=arguments.length;if(t>1){var r,n=new Array(t-1),i=0;for(r=0;r<t-1;++r){var o=arguments[r];if(!p.isObject(o))return f("expecting an object but got A catch statement predicate "+p.classString(o));n[i++]=o}return n.length=i,e=arguments[r],this.then(void 0,P(n,e,this))}return this.then(void 0,e)},o.prototype.reflect=function(){return this._then(h,h,void 0,this,void 0)},o.prototype.then=function(e,t){if(I.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var r=".then() only accepts functions but was passed: "+p.classString(e);arguments.length>1&&(r+=", "+p.classString(t)),this._warn(r)}return this._then(e,t,void 0,void 0,void 0)},o.prototype.done=function(e,t){var r=this._then(e,t,void 0,void 0,void 0);r._setIsFinal()},o.prototype.spread=function(e){return"function"!=typeof e?f("expecting a function but got "+p.classString(e)):this.all()._then(e,void 0,void 0,b,void 0)},o.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new A(this).promise()},o.prototype.error=function(e){return this.caught(p.originatesFromRejection,e)},o.getNewLibraryCopy=r.exports,o.is=function(e){return e instanceof o},o.fromNode=o.fromCallback=function(e){var t=new o(E);t._captureStackTrace();var r=arguments.length>1&&!!Object(arguments[1]).multiArgs,n=N(e)(C(t,r));return n===M&&t._rejectCallback(n.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},o.all=function(e){return new A(e).promise()},o.cast=function(e){var t=x(e);return t instanceof o||(t=new o(E),t._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(e){var t=new o(E);return t._captureStackTrace(),t._rejectCallback(e,!0),t},o.setScheduler=function(e){if("function"!=typeof e)throw new y("expecting a function but got "+p.classString(e));return w.setScheduler(e)},o.prototype._then=function(e,t,r,n,i){var a=void 0!==i,s=a?i:new o(E),u=this._target(),c=u._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===n&&0!==(2097152&this._bitField)&&(n=0!==(50397184&c)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var h=l();if(0!==(50397184&c)){var f,d,m=u._settlePromiseCtx;0!==(33554432&c)?(d=u._rejectionHandler0,f=e):0!==(16777216&c)?(d=u._fulfillmentHandler0,f=t,u._unsetRejectionIsUnhandled()):(m=u._settlePromiseLateCancellationObserver,d=new _("late cancellation observer"),u._attachExtraTrace(d),f=t),w.invoke(m,u,{handler:null===h?f:"function"==typeof f&&p.domainBind(h,f),promise:s,receiver:n,value:d})}else u._addCallbacks(e,t,s,n,h);return s},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},o.prototype._setLength=function(e){this._bitField=this._bitField&-65536|65535&e},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){w.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},o.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==d)return void 0===t&&this._isBound()?this._boundValue():t},o.prototype._promiseAt=function(e){return this[4*e-4+2]},o.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},o.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),r=e._rejectionHandler0,n=e._promise0,i=e._receiverAt(0);void 0===i&&(i=d),this._addCallbacks(t,r,n,i,null)},o.prototype._migrateCallbackAt=function(e,t){var r=e._fulfillmentHandlerAt(t),n=e._rejectionHandlerAt(t),i=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=d),this._addCallbacks(r,n,i,o,null)},o.prototype._addCallbacks=function(e,t,r,n,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=r,this._receiver0=n,"function"==typeof e&&(this._fulfillmentHandler0=null===i?e:p.domainBind(i,e)),"function"==typeof t&&(this._rejectionHandler0=null===i?t:p.domainBind(i,t));else{var a=4*o-4;this[a+2]=r,this[a+3]=n,"function"==typeof e&&(this[a+0]=null===i?e:p.domainBind(i,e)),"function"==typeof t&&(this[a+1]=null===i?t:p.domainBind(i,t))}return this._setLength(o+1),o},o.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},o.prototype._resolveCallback=function(e,t){if(0===(117506048&this._bitField)){if(e===this)return this._rejectCallback(c(),!1);var r=x(e,this);if(!(r instanceof o))return this._fulfill(e);t&&this._propagateFrom(r,2);var n=r._target();if(n===this)return void this._reject(c());var i=n._bitField;if(0===(50397184&i)){var a=this._length();a>0&&n._migrateCallback0(this);for(var s=1;s<a;++s)n._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else if(0!==(33554432&i))this._fulfill(n._value());else if(0!==(16777216&i))this._reject(n._reason());else{var u=new _("late cancellation observer");n._attachExtraTrace(u),this._reject(u)}}},o.prototype._rejectCallback=function(e,t,r){var n=p.ensureErrorObject(e),i=n===e;if(!i&&!r&&I.warnings()){var o="a promise was rejected with a non-error: "+p.classString(e);this._warn(o,!0)}this._attachExtraTrace(n,!!t&&i),this._reject(e)},o.prototype._resolveFromExecutor=function(e){var t=this;this._captureStackTrace(),this._pushContext();var r=!0,n=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,r)});r=!1,this._popContext(),void 0!==n&&t._rejectCallback(n,!0)},o.prototype._settlePromiseFromHandler=function(e,t,r,n){var i=n._bitField;if(0===(65536&i)){n._pushContext();var o;t===b?r&&"number"==typeof r.length?o=N(e).apply(this._boundValue(),r):(o=M,o.e=new y("cannot .spread() a non-array: "+p.classString(r))):o=N(e).call(t,r);var a=n._popContext();i=n._bitField,0===(65536&i)&&(o===T?n._reject(r):o===M?n._rejectCallback(o.e,!1):(I.checkForgottenReturns(o,a,"",n,this),n._resolveCallback(o)))}},o.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(e){this._rejectionHandler0=e},o.prototype._settlePromise=function(e,t,r,i){var a=e instanceof o,s=this._bitField,u=0!==(134217728&s);0!==(65536&s)?(a&&e._invokeInternalOnCancel(),r instanceof R&&r.isFinallyHandler()?(r.cancelPromise=e,N(t).call(r,i)===M&&e._reject(M.e)):t===h?e._fulfill(h.call(r)):r instanceof n?r._promiseCancelled(e):a||e instanceof A?e._cancel():r.cancel()):"function"==typeof t?a?(u&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,r,i,e)):t.call(r,i,e):r instanceof n?r._isResolved()||(0!==(33554432&s)?r._promiseFulfilled(i,e):r._promiseRejected(i,e)):a&&(u&&e._setAsyncGuaranteed(),0!==(33554432&s)?e._fulfill(i):e._reject(i))},o.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,r=e.promise,n=e.receiver,i=e.value;"function"==typeof t?r instanceof o?this._settlePromiseFromHandler(t,n,i,r):t.call(n,i,r):r instanceof o&&r._reject(i)},o.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},o.prototype._settlePromise0=function(e,t,r){var n=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(n,e,i,t)},o.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},o.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var r=c();return this._attachExtraTrace(r),this._reject(r)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!==(134217728&t)?this._settlePromises():w.settlePromises(this))}},o.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16))return this._setRejected(),this._fulfillmentHandler0=e,this._isFinal()?w.fatalError(e,p.isNode):void((65535&t)>0?w.settlePromises(this):this._ensurePossibleRejectionHandled())},o.prototype._fulfillPromises=function(e,t){for(var r=1;r<e;r++){var n=this._fulfillmentHandlerAt(r),i=this._promiseAt(r),o=this._receiverAt(r);this._clearCallbackDataAtIndex(r),this._settlePromise(i,n,o,t)}},o.prototype._rejectPromises=function(e,t){for(var r=1;r<e;r++){var n=this._rejectionHandlerAt(r),i=this._promiseAt(r),o=this._receiverAt(r);this._clearCallbackDataAtIndex(r),this._settlePromise(i,n,o,t)}},o.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!==(16842752&e)){var r=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,r,e),this._rejectPromises(t,r)}else{var n=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,n,e),this._fulfillPromises(t,n)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var e=this._bitField;return 0!==(33554432&e)?this._rejectionHandler0:0!==(16777216&e)?this._fulfillmentHandler0:void 0},o.defer=o.pending=function(){I.deprecated("Promise.defer","new Promise");var e=new o(E);return{promise:e,resolve:a,reject:s}},p.notEnumerableProp(o,"_makeSelfResolutionError",c),e("./method")(o,E,x,f,I),e("./bind")(o,E,x,I),e("./cancel")(o,A,f,I),e("./direct_resolve")(o),e("./synchronous_inspection")(o),e("./join")(o,A,x,E,w,l),o.Promise=o,o.version="3.4.6",e("./map.js")(o,A,f,x,E,I),e("./call_get.js")(o),e("./using.js")(o,f,x,O,E,I),e("./timers.js")(o,E,I),e("./generators.js")(o,f,E,x,n,I),e("./nodeify.js")(o),e("./promisify.js")(o,E),e("./props.js")(o,A,x,f),e("./race.js")(o,E,x,f),e("./reduce.js")(o,A,f,x,E,I),e("./settle.js")(o,A,I),e("./some.js")(o,A,f),e("./filter.js")(o,E),e("./each.js")(o,E),e("./any.js")(o),p.toFastProperties(o),p.toFastProperties(o.prototype),u({a:1}),u({b:2}),u({c:3}),u(1),u(function(){}),u(void 0),u(!1),u(new o(E)),I.setBounds(g.firstLineError,p.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,r){"use strict";t.exports=function(t,r,n,i,o){function a(e){switch(e){case-2:return[];case-3:return{}}}function s(e){var n=this._promise=new t(r);e instanceof t&&n._propagateFrom(e,3),n._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=e("./util");return u.isArray,u.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(r,o){var s=n(this._values,this._promise);if(s instanceof t){s=s._target();var l=s._bitField;if(this._values=s,0===(50397184&l))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,o);if(0===(33554432&l))return 0!==(16777216&l)?this._reject(s._reason()):this._cancel();s=s._value()}if(s=u.asArray(s),null===s){var c=i("expecting an array or an iterable object but got "+u.classString(s)).reason();return void this._promise._rejectCallback(c,!1)}return 0===s.length?void(o===-5?this._resolveEmptyArray():this._resolve(a(o))):void this._iterate(s)},s.prototype._iterate=function(e){var r=this.getActualLength(e.length);this._length=r,this._values=this.shouldCopyValues()?new Array(r):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<r;++s){var u=n(e[s],i);u instanceof t?(u=u._target(),a=u._bitField):a=null,o?null!==a&&u.suppressUnhandledRejections():null!==a?0===(50397184&a)?(u._proxy(this,s),this._values[s]=u):o=0!==(33554432&a)?this._promiseFulfilled(u._value(),s):0!==(16777216&a)?this._promiseRejected(u._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(u,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var r=++this._totalResolved;return r>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var r=0;r<e.length;++r)e[r]instanceof t&&e[r].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":36}],24:[function(e,t,r){"use strict";t.exports=function(t,r){function n(e){return!b.test(e)}function i(e){try{return e.__isPromisified__===!0}catch(e){return!1}}function o(e,t,r){var n=d.getDataPropertyOrDefault(e,t+r,_);return!!n&&i(n)}function a(e,t,r){for(var n=0;n<e.length;n+=2){var i=e[n];if(r.test(i))for(var o=i.replace(r,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new v("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}function s(e,t,r,n){for(var s=d.inheritedDataKeys(e),u=[],l=0;l<s.length;++l){var c=s[l],h=e[c],f=n===T||T(c,h,e);"function"!=typeof h||i(h)||o(e,c,t)||!n(c,h,e,f)||u.push(c,h)}return a(u,t,r),u}function u(e,n,i,o,a,s){function u(){var i=n;n===f&&(i=this);var o=new t(r);o._captureStackTrace();var a="string"==typeof c&&this!==l?this[c]:e,u=p(o,s);try{a.apply(i,m(arguments,u))}catch(e){o._rejectCallback(g(e),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var l=function(){return this}(),c=e;return"string"==typeof c&&(e=o),d.notEnumerableProp(u,"__isPromisified__",!0),u}function l(e,t,r,n,i){for(var o=new RegExp(x(t)+"$"),a=s(e,t,o,r),u=0,l=a.length;u<l;u+=2){var c=a[u],h=a[u+1],p=c+t;if(n===A)e[p]=A(c,f,c,h,t,i);else{var m=n(h,function(){return A(c,f,c,h,t,i)});d.notEnumerableProp(m,"__isPromisified__",!0),e[p]=m}}return d.toFastProperties(e),e}function c(e,t,r){return A(e,t,void 0,e,null,r)}var h,f={},d=e("./util"),p=e("./nodeback"),m=d.withAppended,g=d.maybeWrapAsError,w=d.canEvaluate,v=e("./errors").TypeError,y="Async",_={__isPromisified__:!0},E=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],b=new RegExp("^(?:"+E.join("|")+")$"),T=function(e){return d.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},x=function(e){return e.replace(/([$])/,"\\$")},A=w?h:u;t.promisify=function(e,t){if("function"!=typeof e)throw new v("expecting a function but got "+d.classString(e));if(i(e))return e;t=Object(t);var r=void 0===t.context?f:t.context,o=!!t.multiArgs,a=c(e,r,o);return d.copyDescriptors(e,a,n),a},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new v("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");t=Object(t);var r=!!t.multiArgs,n=t.suffix;"string"!=typeof n&&(n=y);var i=t.filter;"function"!=typeof i&&(i=T);var o=t.promisifier;if("function"!=typeof o&&(o=A),!d.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=d.inheritedDataKeys(e),s=0;s<a.length;++s){var u=e[a[s]];"constructor"!==a[s]&&d.isClass(u)&&(l(u.prototype,n,i,o,r),l(u,n,i,o,r))}return l(e,n,i,o,r)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,r){"use strict";t.exports=function(t,r,n,i){function o(e){var t,r=!1;if(void 0!==s&&e instanceof s)t=h(e),r=!0;else{var n=c.keys(e),i=n.length;t=new Array(2*i);for(var o=0;o<i;++o){var a=n[o];t[o]=e[a],t[o+i]=a}}this.constructor$(t),this._isMap=r,this._init$(void 0,-3)}function a(e){var r,a=n(e);return l(a)?(r=a instanceof t?a._then(t.props,void 0,void 0,void 0,void 0):new o(a).promise(),a instanceof t&&r._propagateFrom(a,2),r):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,u=e("./util"),l=u.isObject,c=e("./es5");"function"==typeof Map&&(s=Map);var h=function(){function e(e,n){this[t]=e,this[t+r]=n,t++}var t=0,r=0;return function(n){r=n.size,t=0;var i=new Array(2*n.size);return n.forEach(e,i),i}}(),f=function(e){for(var t=new s,r=e.length/2|0,n=0;n<r;++n){var i=e[r+n],o=e[n];t.set(i,o)}return t};u.inherits(o,r),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var r=++this._totalResolved;if(r>=this._length){var n;if(this._isMap)n=f(this._values);else{n={};for(var i=this.length(),o=0,a=this.length();o<a;++o)n[this._values[o+i]]=this._values[o]}return this._resolve(n),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return a(this)},t.props=function(e){return a(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,r){"use strict";function n(e,t,r,n,i){for(var o=0;o<i;++o)r[o+n]=e[o+t],e[o+t]=void 0}function i(e){this._capacity=e,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var r=this._front+t&this._capacity-1;this[r]=e,this._length=t+1},i.prototype._unshiftOne=function(e){var t=this._capacity;this._checkCapacity(this.length()+1);var r=this._front,n=(r-1&t-1^t)-t;this[n]=e,this._front=n,this._length=this.length()+1},i.prototype.unshift=function(e,t,r){this._unshiftOne(r),this._unshiftOne(t),this._unshiftOne(e)},i.prototype.push=function(e,t,r){var n=this.length()+3;if(this._willBeOverCapacity(n))return this._pushOne(e),this._pushOne(t),void this._pushOne(r);var i=this._front+n-3;this._checkCapacity(n);var o=this._capacity-1;this[i+0&o]=e,this[i+1&o]=t,this[i+2&o]=r,this._length=n},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var r=this._front,i=this._length,o=r+i&t-1;n(this,0,this,t,o)},t.exports=i},{}],27:[function(e,t,r){"use strict";t.exports=function(t,r,n,i){function o(e,o){var u=n(e);if(u instanceof t)return s(u);if(e=a.asArray(e),null===e)return i("expecting an array or an iterable object but got "+a.classString(e));var l=new t(r);void 0!==o&&l._propagateFrom(o,3);for(var c=l._fulfill,h=l._reject,f=0,d=e.length;f<d;++f){var p=e[f];(void 0!==p||f in e)&&t.cast(p)._then(c,h,void 0,l,null)}return l}var a=e("./util"),s=function(e){return e.then(function(t){return o(t,e)})};t.race=function(e){return o(e,void 0)},t.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(e,t,r){"use strict";t.exports=function(t,r,n,i,o,a){function s(e,r,n,i){this.constructor$(e);var a=f();this._fn=null===a?r:d.domainBind(a,r),void 0!==n&&(n=t.resolve(n),n._attachCancellationCallback(this)),this._initialValue=n,this._currentCancellable=null,i===o?this._eachValues=Array(this._length):0===i?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function l(e,t,r,i){if("function"!=typeof t)return n("expecting a function but got "+d.classString(t));var o=new s(e,t,r,i);return o.promise()}function c(e){this.accum=e,this.array._gotAccum(e);var r=i(this.value,this.array._promise);return r instanceof t?(this.array._currentCancellable=r,r._then(h,void 0,void 0,this,void 0)):h.call(this,r)}function h(e){var r=this.array,n=r._promise,i=p(r._fn);n._pushContext();var o;o=void 0!==r._eachValues?i.call(n._boundValue(),e,this.index,this.length):i.call(n._boundValue(),this.accum,e,this.index,this.length),o instanceof t&&(r._currentCancellable=o);var s=n._popContext();return a.checkForgottenReturns(o,s,void 0!==r._eachValues?"Promise.each":"Promise.reduce",n),o}var f=t._getDomain,d=e("./util"),p=d.tryCatch;d.inherits(s,r),s.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},s.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},s.prototype._resultCancelled=function(e){return e===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel()))},s.prototype._iterate=function(e){this._values=e;var r,n,i=e.length;if(void 0!==this._initialValue?(r=this._initialValue,n=0):(r=t.resolve(e[0]),n=1),this._currentCancellable=r,!r.isRejected())for(;n<i;++n){var o={accum:null,value:e[n],index:n,length:i,array:this};r=r._then(c,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(r=r._then(this._eachComplete,void 0,void 0,this,void 0)),r._then(u,u,void 0,r,this)},t.prototype.reduce=function(e,t){return l(this,e,t,null)},t.reduce=function(e,t,r,n){return l(e,t,r,n)}}},{"./util":36}],29:[function(e,i,o){"use strict";var a,s=e("./util"),u=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},l=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var c=r.setImmediate,h=t.nextTick;a=s.isRecentNode?function(e){c.call(r,e)}:function(e){h.call(t,e)}}else if("function"==typeof l&&"function"==typeof l.resolve){var f=l.resolve();a=function(e){f.then(e)}}else a="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof n?function(e){n(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:u:function(){var e=document.createElement("div"),t={attributes:!0},r=!1,n=document.createElement("div"),i=new MutationObserver(function(){e.classList.toggle("foo"),r=!1});i.observe(n,t);var o=function(){r||(r=!0,n.classList.toggle("foo"))};return function(r){var n=new MutationObserver(function(){n.disconnect(),r()});n.observe(e,t),o()}}();i.exports=a},{"./util":36}],30:[function(e,t,r){"use strict";t.exports=function(t,r,n){function i(e){this.constructor$(e)}var o=t.PromiseInspection,a=e("./util");a.inherits(i,r),i.prototype._promiseResolved=function(e,t){this._values[e]=t;var r=++this._totalResolved;return r>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(e,t){var r=new o;return r._bitField=33554432,r._settledValueField=e,this._promiseResolved(t,r)},i.prototype._promiseRejected=function(e,t){var r=new o;return r._bitField=16777216,r._settledValueField=e,this._promiseResolved(t,r)},t.settle=function(e){return n.deprecated(".settle()",".reflect()"),new i(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,r){"use strict";t.exports=function(t,r,n){function i(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(e,t){if((0|t)!==t||t<0)return n("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var r=new i(e),o=r.promise();return r.setHowMany(t),r.init(),o}var a=e("./util"),s=e("./errors").RangeError,u=e("./errors").AggregateError,l=a.isArray,c={};a.inherits(i,r),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=l(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()));
}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(e){this._howMany=e},i.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(c),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new u,t=this.length();t<this._values.length;++t)this._values[t]!==c&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(e){this._values.push(e)},i.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new s(t)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return o(e,t)},t.prototype.some=function(e){return o(this,e)},t._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(e,t,r){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var r=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},n=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0===(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return r.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),n.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,r){"use strict";t.exports=function(t,r){function n(e,n){if(c(e)){if(e instanceof t)return e;var i=o(e);if(i===l){n&&n._pushContext();var u=t.reject(i.e);return n&&n._popContext(),u}if("function"==typeof i){if(a(e)){var u=new t(r);return e._then(u._fulfill,u._reject,void 0,u,null),u}return s(e,i,n)}}return e}function i(e){return e.then}function o(e){try{return i(e)}catch(e){return l.e=e,l}}function a(e){try{return h.call(e,"_promise0")}catch(e){return!1}}function s(e,n,i){function o(e){s&&(s._resolveCallback(e),s=null)}function a(e){s&&(s._rejectCallback(e,h,!0),s=null)}var s=new t(r),c=s;i&&i._pushContext(),s._captureStackTrace(),i&&i._popContext();var h=!0,f=u.tryCatch(n).call(e,o,a);return h=!1,s&&f===l&&(s._rejectCallback(f.e,!0,!0),s=null),c}var u=e("./util"),l=u.errorObj,c=u.isObject,h={}.hasOwnProperty;return n}},{"./util":36}],34:[function(e,t,r){"use strict";t.exports=function(t,r,n){function i(e){this.handle=e}function o(e){return clearTimeout(this.handle),e}function a(e){throw clearTimeout(this.handle),e}var s=e("./util"),u=t.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var l=function(e){return c(+this).thenReturn(e)},c=t.delay=function(e,o){var a,s;return void 0!==o?(a=t.resolve(o)._then(l,null,null,e,void 0),n.cancellation()&&o instanceof t&&a._setOnCancel(o)):(a=new t(r),s=setTimeout(function(){a._fulfill()},+e),n.cancellation()&&a._setOnCancel(new i(s)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};t.prototype.delay=function(e){return c(e,this)};var h=function(e,t,r){var n;n="string"!=typeof t?t instanceof Error?t:new u("operation timed out"):new u(t),s.markAsOriginatingFromRejection(n),e._attachExtraTrace(n),e._reject(n),null!=r&&r.cancel()};t.prototype.timeout=function(e,t){e=+e;var r,s,u=new i(setTimeout(function(){r.isPending()&&h(r,t,s)},e));return n.cancellation()?(s=this.then(),r=s._then(o,a,void 0,u,void 0),r._setOnCancel(u)):r=this._then(o,a,void 0,u,void 0),r}}},{"./util":36}],35:[function(e,t,r){"use strict";t.exports=function(t,r,n,i,o,a){function s(e){setTimeout(function(){throw e},0)}function u(e){var t=n(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function l(e,r){function i(){if(a>=l)return c._fulfill();var o=u(e[a++]);if(o instanceof t&&o._isDisposable()){try{o=n(o._getDisposer().tryDispose(r),e.promise)}catch(e){return s(e)}if(o instanceof t)return o._then(i,s,null,null,null)}i()}var a=0,l=e.length,c=new t(o);return i(),c}function c(e,t,r){this._data=e,this._promise=t,this._context=r}function h(e,t,r){this.constructor$(e,t,r)}function f(e){return c.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function d(e){this.length=e,this.promise=null,this[e-1]=null}var p=e("./util"),m=e("./errors").TypeError,g=e("./util").inherits,w=p.errorObj,v=p.tryCatch,y={};c.prototype.data=function(){return this._data},c.prototype.promise=function(){return this._promise},c.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():y},c.prototype.tryDispose=function(e){var t=this.resource(),r=this._context;void 0!==r&&r._pushContext();var n=t!==y?this.doDispose(t,e):null;return void 0!==r&&r._popContext(),this._promise._unsetDisposable(),this._data=null,n},c.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},g(h,c),h.prototype.doDispose=function(e,t){var r=this.data();return r.call(e,e,t)},d.prototype._resultCancelled=function(){for(var e=this.length,r=0;r<e;++r){var n=this[r];n instanceof t&&n.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return r("you must pass at least 2 arguments to Promise.using");var i=arguments[e-1];if("function"!=typeof i)return r("expecting a function but got "+p.classString(i));var o,s=!0;2===e&&Array.isArray(arguments[0])?(o=arguments[0],e=o.length,s=!1):(o=arguments,e--);for(var u=new d(e),h=0;h<e;++h){var m=o[h];if(c.isDisposer(m)){var g=m;m=m.promise(),m._setDisposable(g)}else{var y=n(m);y instanceof t&&(m=y._then(f,null,null,{resources:u,index:h},void 0))}u[h]=m}for(var _=new Array(u.length),h=0;h<_.length;++h)_[h]=t.resolve(u[h]).reflect();var E=t.all(_).then(function(e){for(var t=0;t<e.length;++t){var r=e[t];if(r.isRejected())return w.e=r.error(),w;if(!r.isFulfilled())return void E.cancel();e[t]=r.value()}b._pushContext(),i=v(i);var n=s?i.apply(void 0,e):i(e),o=b._popContext();return a.checkForgottenReturns(n,o,"Promise.using",b),n}),b=E.lastly(function(){var e=new t.PromiseInspection(E);return l(u,e)});return u.promise=b,b._setOnCancel(u),b},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new h(e,this,i());throw new m}}},{"./errors":12,"./util":36}],36:[function(e,n,i){"use strict";function o(){try{var e=I;return I=null,e.apply(this,arguments)}catch(e){return C.e=e,C}}function a(e){return I=e,o}function s(e){return null==e||e===!0||e===!1||"string"==typeof e||"number"==typeof e}function u(e){return"function"==typeof e||"object"==typeof e&&null!==e}function l(e){return s(e)?new Error(v(e)):e}function c(e,t){var r,n=e.length,i=new Array(n+1);for(r=0;r<n;++r)i[r]=e[r];return i[r]=t,i}function h(e,t,r){if(!R.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var n=Object.getOwnPropertyDescriptor(e,t);return null!=n?null==n.get&&null==n.set?n.value:r:void 0}function f(e,t,r){if(s(e))return e;var n={value:r,configurable:!0,enumerable:!1,writable:!0};return R.defineProperty(e,t,n),e}function d(e){throw e}function p(e){try{if("function"==typeof e){var t=R.names(e.prototype),r=R.isES5&&t.length>1,n=t.length>0&&!(1===t.length&&"constructor"===t[0]),i=L.test(e+"")&&R.names(e).length>0;if(r||n||i)return!0}return!1}catch(e){return!1}}function m(e){function t(){}t.prototype=e;for(var r=8;r--;)new t;return e}function g(e){return F.test(e)}function w(e,t,r){for(var n=new Array(e),i=0;i<e;++i)n[i]=t+i+r;return n}function v(e){try{return e+""}catch(e){return"[no string representation]"}}function y(e){return null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function _(e){try{f(e,"isOperational",!0)}catch(e){}}function E(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0)}function b(e){return y(e)&&R.propertyIsWritable(e,"stack")}function T(e){return{}.toString.call(e)}function x(e,t,r){for(var n=R.names(e),i=0;i<n.length;++i){var o=n[i];if(r(o))try{R.defineProperty(t,o,R.getDescriptor(e,o))}catch(e){}}}function A(e,r){return U?t.env[e]:r}function S(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}}function O(e,t){return e.bind(t)}var I,R=e("./es5"),P="undefined"==typeof navigator,C={e:{}},M="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof r?r:void 0!==this?this:null,N=function(e,t){function r(){this.constructor=e,this.constructor$=t;for(var r in t.prototype)n.call(t.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=t.prototype[r])}var n={}.hasOwnProperty;return r.prototype=t.prototype,e.prototype=new r,e.prototype},q=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1};if(R.isES5){var r=Object.getOwnPropertyNames;return function(e){for(var n=[],i=Object.create(null);null!=e&&!t(e);){var o;try{o=r(e)}catch(e){return n}for(var a=0;a<o.length;++a){var s=o[a];if(!i[s]){i[s]=!0;var u=Object.getOwnPropertyDescriptor(e,s);null!=u&&null==u.get&&null==u.set&&n.push(s)}}e=R.getPrototypeOf(e)}return n}}var n={}.hasOwnProperty;return function(r){if(t(r))return[];var i=[];e:for(var o in r)if(n.call(r,o))i.push(o);else{for(var a=0;a<e.length;++a)if(n.call(e[a],o))continue e;i.push(o)}return i}}(),L=/this\s*\.\s*\S+\s*=/,F=/^[a-z$_][a-z$_0-9]*$/i,D=function(){return"stack"in new Error?function(e){return b(e)?e:new Error(v(e))}:function(e){if(b(e))return e;try{throw new Error(v(e))}catch(e){return e}}}(),z=function(e){return R.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var k="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,r=[],n=e[Symbol.iterator]();!(t=n.next()).done;)r.push(t.value);return r};z=function(e){return R.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?k(e):null}}var U="undefined"!=typeof t&&"[object process]"===T(t).toLowerCase(),B={isClass:p,isIdentifier:g,inheritedDataKeys:q,getDataPropertyOrDefault:h,thrower:d,isArray:R.isArray,asArray:z,notEnumerableProp:f,isPrimitive:s,isObject:u,isError:y,canEvaluate:P,errorObj:C,tryCatch:a,inherits:N,withAppended:c,maybeWrapAsError:l,toFastProperties:m,filledRange:w,toString:v,canAttachTrace:b,ensureErrorObject:D,originatesFromRejection:E,markAsOriginatingFromRejection:_,classString:T,copyDescriptors:x,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:U,env:A,global:M,getNativePromise:S,domainBind:O};B.isRecentNode=B.isNode&&function(){var e=t.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),B.isNode&&B.toFastProperties(t);try{throw new Error}catch(e){B.lastLineError=e}n.exports=B},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(t,r(126),function(){return this}(),r(212).setImmediate)},function(e,t,r){"use strict";function n(e,t,r,n,i,o,s,u,l,c,h,f,d,p,m,g){this[0]=a(e,0),this[1]=a(i,0),this[2]=a(l,0),this[3]=a(d,0),this[4]=a(t,0),this[5]=a(o,0),this[6]=a(c,0),this[7]=a(p,0),this[8]=a(r,0),this[9]=a(s,0),this[10]=a(h,0),this[11]=a(m,0),this[12]=a(n,0),this[13]=a(u,0),this[14]=a(f,0),this[15]=a(g,0)}var i=r(4),o=r(24),a=r(3),s=r(1),u=r(2),l=r(5),c=r(17),h=r(41);n.packedLength=16,n.pack=function(e,t,r){if(!s(e))throw new u("value is required");if(!s(t))throw new u("array is required");return r=a(r,0),t[r++]=e[0],t[r++]=e[1],t[r++]=e[2],t[r++]=e[3],t[r++]=e[4],t[r++]=e[5],t[r++]=e[6],t[r++]=e[7],t[r++]=e[8],t[r++]=e[9],t[r++]=e[10],t[r++]=e[11],t[r++]=e[12],t[r++]=e[13],t[r++]=e[14],t[r]=e[15],t},n.unpack=function(e,t,r){if(!s(e))throw new u("array is required");return t=a(t,0),s(r)||(r=new n),r[0]=e[t++],r[1]=e[t++],r[2]=e[t++],r[3]=e[t++],r[4]=e[t++],r[5]=e[t++],r[6]=e[t++],r[7]=e[t++],r[8]=e[t++],r[9]=e[t++],r[10]=e[t++],r[11]=e[t++],r[12]=e[t++],r[13]=e[t++],r[14]=e[t++],r[15]=e[t],r},n.clone=function(e,t){if(s(e))return s(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):new n(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},n.fromArray=n.unpack,n.fromColumnMajorArray=function(e,t){if(!s(e))throw new u("values is required");return n.clone(e,t)},n.fromRowMajorArray=function(e,t){if(!s(e))throw new u("values is required.");return s(t)?(t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15],t):new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},n.fromRotationTranslation=function(e,t,r){if(!s(e))throw new u("rotation is required.");return t=a(t,i.ZERO),s(r)?(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=0,r[4]=e[3],r[5]=e[4],r[6]=e[5],r[7]=0,r[8]=e[6],r[9]=e[7],r[10]=e[8],r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,r):new n(e[0],e[3],e[6],t.x,e[1],e[4],e[7],t.y,e[2],e[5],e[8],t.z,0,0,0,1)},n.fromTranslationQuaternionRotationScale=function(e,t,r,i){if(!s(e))throw new u("translation is required.");if(!s(t))throw new u("rotation is required.");if(!s(r))throw new u("scale is required.");s(i)||(i=new n);var o=r.x,a=r.y,l=r.z,c=t.x*t.x,h=t.x*t.y,f=t.x*t.z,d=t.x*t.w,p=t.y*t.y,m=t.y*t.z,g=t.y*t.w,w=t.z*t.z,v=t.z*t.w,y=t.w*t.w,_=c-p-w+y,E=2*(h-v),b=2*(f+g),T=2*(h+v),x=-c+p-w+y,A=2*(m-d),S=2*(f-g),O=2*(m+d),I=-c-p+w+y;return i[0]=_*o,i[1]=T*o,i[2]=S*o,i[3]=0,i[4]=E*a,i[5]=x*a,i[6]=O*a,i[7]=0,i[8]=b*l,i[9]=A*l,i[10]=I*l,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,i},n.fromTranslationRotationScale=function(e,t){if(!s(e))throw new u("translationRotationScale is required.");return n.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,t)},n.fromTranslation=function(e,t){if(!s(e))throw new u("translation is required.");return n.fromRotationTranslation(c.IDENTITY,e,t)},n.fromScale=function(e,t){if(!s(e))throw new u("scale is required.");return s(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e.y,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e.z,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new n(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},n.fromUniformScale=function(e,t){if("number"!=typeof e)throw new u("scale is required.");return s(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new n(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1)};var f=new i,d=new i,p=new i;n.fromCamera=function(e,t){if(!s(e))throw new u("camera is required.");var r=e.position,o=e.direction,a=e.up;if(!s(r))throw new u("camera.position is required.");if(!s(o))throw new u("camera.direction is required.");if(!s(a))throw new u("camera.up is required.");i.normalize(o,f),i.normalize(i.cross(f,a,d),d),i.normalize(i.cross(d,f,p),p);var l=d.x,c=d.y,h=d.z,m=f.x,g=f.y,w=f.z,v=p.x,y=p.y,_=p.z,E=r.x,b=r.y,T=r.z,x=l*-E+c*-b+h*-T,A=v*-E+y*-b+_*-T,S=m*E+g*b+w*T;return s(t)?(t[0]=l,t[1]=v,t[2]=-m,t[3]=0,t[4]=c,t[5]=y,t[6]=-g,t[7]=0,t[8]=h,t[9]=_,t[10]=-w,t[11]=0,t[12]=x,t[13]=A,t[14]=S,t[15]=1,t):new n(l,c,h,x,v,y,_,A,-m,-g,-w,S,0,0,0,1)},n.computePerspectiveFieldOfView=function(e,t,r,n,i){if(e<=0||e>Math.PI)throw new u("fovY must be in (0, PI].");if(t<=0)throw new u("aspectRatio must be greater than zero.");if(r<=0)throw new u("near must be greater than zero.");if(n<=0)throw new u("far must be greater than zero.");if(!s(i))throw new u("result is required");var o=Math.tan(.5*e),a=1/o,l=a/t,c=(n+r)/(r-n),h=2*n*r/(r-n);return i[0]=l,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=a,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=c,i[11]=-1,i[12]=0,i[13]=0,i[14]=h,i[15]=0,i},n.computeOrthographicOffCenter=function(e,t,r,n,i,o,a){if(!s(e))throw new u("left is required.");if(!s(t))throw new u("right is required.");if(!s(r))throw new u("bottom is required.");if(!s(n))throw new u("top is required.");if(!s(i))throw new u("near is required.");if(!s(o))throw new u("far is required.");if(!s(a))throw new u("result is required");var l=1/(t-e),c=1/(n-r),h=1/(o-i),f=-(t+e)*l,d=-(n+r)*c,p=-(o+i)*h;return l*=2,c*=2,h*=-2,a[0]=l,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=c,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=h,a[11]=0,a[12]=f,a[13]=d,a[14]=p,a[15]=1,a},n.computePerspectiveOffCenter=function(e,t,r,n,i,o,a){if(!s(e))throw new u("left is required.");if(!s(t))throw new u("right is required.");if(!s(r))throw new u("bottom is required.");if(!s(n))throw new u("top is required.");if(!s(i))throw new u("near is required.");if(!s(o))throw new u("far is required.");if(!s(a))throw new u("result is required");var l=2*i/(t-e),c=2*i/(n-r),h=(t+e)/(t-e),f=(n+r)/(n-r),d=-(o+i)/(o-i),p=-1,m=-2*o*i/(o-i);return a[0]=l,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=c,a[6]=0,a[7]=0,a[8]=h,a[9]=f,a[10]=d,a[11]=p,a[12]=0,a[13]=0,a[14]=m,a[15]=0,a},n.computeInfinitePerspectiveOffCenter=function(e,t,r,n,i,o){if(!s(e))throw new u("left is required.");if(!s(t))throw new u("right is required.");if(!s(r))throw new u("bottom is required.");if(!s(n))throw new u("top is required.");if(!s(i))throw new u("near is required.");if(!s(o))throw new u("result is required");var a=2*i/(t-e),l=2*i/(n-r),c=(t+e)/(t-e),h=(n+r)/(n-r),f=-1,d=-1,p=-2*i;return o[0]=a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=l,o[6]=0,o[7]=0,o[8]=c,o[9]=h,o[10]=f,o[11]=d,o[12]=0,o[13]=0,o[14]=p,o[15]=0,o},n.computeViewportTransformation=function(e,t,r,n){if(!s(n))throw new u("result is required");e=a(e,a.EMPTY_OBJECT);var i=a(e.x,0),o=a(e.y,0),l=a(e.width,0),c=a(e.height,0);t=a(t,0),r=a(r,1);var h=.5*l,f=.5*c,d=.5*(r-t),p=h,m=f,g=d,w=i+h,v=o+f,y=t+d,_=1;return n[0]=p,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=m,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=g,n[11]=0,n[12]=w,n[13]=v,n[14]=y,n[15]=_,n},n.computeView=function(e,t,r,n,o){if(!s(e))throw new u("position is required");if(!s(t))throw new u("direction is required");if(!s(r))throw new u("up is required");if(!s(n))throw new u("right is required");if(!s(o))throw new u("result is required");return o[0]=n.x,o[1]=r.x,o[2]=-t.x,o[3]=0,o[4]=n.y,o[5]=r.y,o[6]=-t.y,o[7]=0,o[8]=n.z,o[9]=r.z,o[10]=-t.z,o[11]=0,o[12]=-i.dot(n,e),o[13]=-i.dot(r,e),o[14]=i.dot(t,e),o[15]=1,o},n.toArray=function(e,t){if(!s(e))throw new u("matrix is required");return s(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},n.getElementIndex=function(e,t){if("number"!=typeof t||t<0||t>3)throw new u("row must be 0, 1, 2, or 3.");if("number"!=typeof e||e<0||e>3)throw new u("column must be 0, 1, 2, or 3.");return 4*e+t},n.getColumn=function(e,t,r){if(!s(e))throw new u("matrix is required.");if("number"!=typeof t||t<0||t>3)throw new u("index must be 0, 1, 2, or 3.");if(!s(r))throw new u("result is required");var n=4*t,i=e[n],o=e[n+1],a=e[n+2],l=e[n+3];return r.x=i,r.y=o,r.z=a,r.w=l,r},n.setColumn=function(e,t,r,i){if(!s(e))throw new u("matrix is required");if(!s(r))throw new u("cartesian is required");if("number"!=typeof t||t<0||t>3)throw new u("index must be 0, 1, 2, or 3.");if(!s(i))throw new u("result is required");i=n.clone(e,i);var o=4*t;return i[o]=r.x,i[o+1]=r.y,i[o+2]=r.z,i[o+3]=r.w,i},n.setTranslation=function(e,t,r){if(!s(e))throw new u("matrix is required");if(!s(t))throw new u("translation is required");if(!s(r))throw new u("result is required");return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=e[15],r},n.getRow=function(e,t,r){if(!s(e))throw new u("matrix is required.");if("number"!=typeof t||t<0||t>3)throw new u("index must be 0, 1, 2, or 3.");if(!s(r))throw new u("result is required");var n=e[t],i=e[t+4],o=e[t+8],a=e[t+12];return r.x=n,r.y=i,r.z=o,r.w=a,r},n.setRow=function(e,t,r,i){if(!s(e))throw new u("matrix is required");if(!s(r))throw new u("cartesian is required");if("number"!=typeof t||t<0||t>3)throw new u("index must be 0, 1, 2, or 3.");if(!s(i))throw new u("result is required");return i=n.clone(e,i),i[t]=r.x,i[t+4]=r.y,i[t+8]=r.z,i[t+12]=r.w,i};var m=new i;n.getScale=function(e,t){if(!s(e))throw new u("matrix is required.");if(!s(t))throw new u("result is required");return t.x=i.magnitude(i.fromElements(e[0],e[1],e[2],m)),t.y=i.magnitude(i.fromElements(e[4],e[5],e[6],m)),t.z=i.magnitude(i.fromElements(e[8],e[9],e[10],m)),t};var g=new i;n.getMaximumScale=function(e){return n.getScale(e,g),i.maximumComponent(g)},n.multiply=function(e,t,r){if(!s(e))throw new u("left is required");if(!s(t))throw new u("right is required");if(!s(r))throw new u("result is required");var n=e[0],i=e[1],o=e[2],a=e[3],l=e[4],c=e[5],h=e[6],f=e[7],d=e[8],p=e[9],m=e[10],g=e[11],w=e[12],v=e[13],y=e[14],_=e[15],E=t[0],b=t[1],T=t[2],x=t[3],A=t[4],S=t[5],O=t[6],I=t[7],R=t[8],P=t[9],C=t[10],M=t[11],N=t[12],q=t[13],L=t[14],F=t[15],D=n*E+l*b+d*T+w*x,z=i*E+c*b+p*T+v*x,k=o*E+h*b+m*T+y*x,U=a*E+f*b+g*T+_*x,B=n*A+l*S+d*O+w*I,j=i*A+c*S+p*O+v*I,G=o*A+h*S+m*O+y*I,H=a*A+f*S+g*O+_*I,V=n*R+l*P+d*C+w*M,W=i*R+c*P+p*C+v*M,Y=o*R+h*P+m*C+y*M,X=a*R+f*P+g*C+_*M,Q=n*N+l*q+d*L+w*F,Z=i*N+c*q+p*L+v*F,K=o*N+h*q+m*L+y*F,J=a*N+f*q+g*L+_*F;return r[0]=D,r[1]=z,r[2]=k,r[3]=U,r[4]=B,r[5]=j,r[6]=G,r[7]=H,r[8]=V,r[9]=W,r[10]=Y,r[11]=X,r[12]=Q,r[13]=Z,r[14]=K,r[15]=J,r},n.add=function(e,t,r){if(!s(e))throw new u("left is required");if(!s(t))throw new u("right is required");if(!s(r))throw new u("result is required");return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r[4]=e[4]+t[4],r[5]=e[5]+t[5],r[6]=e[6]+t[6],r[7]=e[7]+t[7],r[8]=e[8]+t[8],r[9]=e[9]+t[9],r[10]=e[10]+t[10],r[11]=e[11]+t[11],r[12]=e[12]+t[12],r[13]=e[13]+t[13],r[14]=e[14]+t[14],r[15]=e[15]+t[15],r},n.subtract=function(e,t,r){if(!s(e))throw new u("left is required");if(!s(t))throw new u("right is required");if(!s(r))throw new u("result is required");return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r[4]=e[4]-t[4],r[5]=e[5]-t[5],r[6]=e[6]-t[6],r[7]=e[7]-t[7],r[8]=e[8]-t[8],r[9]=e[9]-t[9],r[10]=e[10]-t[10],r[11]=e[11]-t[11],r[12]=e[12]-t[12],r[13]=e[13]-t[13],r[14]=e[14]-t[14],r[15]=e[15]-t[15],r},n.multiplyTransformation=function(e,t,r){if(!s(e))throw new u("left is required");if(!s(t))throw new u("right is required");if(!s(r))throw new u("result is required");var n=e[0],i=e[1],o=e[2],a=e[4],l=e[5],c=e[6],h=e[8],f=e[9],d=e[10],p=e[12],m=e[13],g=e[14],w=t[0],v=t[1],y=t[2],_=t[4],E=t[5],b=t[6],T=t[8],x=t[9],A=t[10],S=t[12],O=t[13],I=t[14],R=n*w+a*v+h*y,P=i*w+l*v+f*y,C=o*w+c*v+d*y,M=n*_+a*E+h*b,N=i*_+l*E+f*b,q=o*_+c*E+d*b,L=n*T+a*x+h*A,F=i*T+l*x+f*A,D=o*T+c*x+d*A,z=n*S+a*O+h*I+p,k=i*S+l*O+f*I+m,U=o*S+c*O+d*I+g;return r[0]=R,r[1]=P,r[2]=C,r[3]=0,r[4]=M,r[5]=N,r[6]=q,r[7]=0,r[8]=L,r[9]=F,r[10]=D,r[11]=0,r[12]=z,r[13]=k,r[14]=U,r[15]=1,r},n.multiplyByMatrix3=function(e,t,r){if(!s(e))throw new u("matrix is required");if(!s(t))throw new u("rotation is required");if(!s(r))throw new u("result is required");var n=e[0],i=e[1],o=e[2],a=e[4],l=e[5],c=e[6],h=e[8],f=e[9],d=e[10],p=t[0],m=t[1],g=t[2],w=t[3],v=t[4],y=t[5],_=t[6],E=t[7],b=t[8],T=n*p+a*m+h*g,x=i*p+l*m+f*g,A=o*p+c*m+d*g,S=n*w+a*v+h*y,O=i*w+l*v+f*y,I=o*w+c*v+d*y,R=n*_+a*E+h*b,P=i*_+l*E+f*b,C=o*_+c*E+d*b;return r[0]=T,r[1]=x,r[2]=A,r[3]=0,r[4]=S,r[5]=O,r[6]=I,r[7]=0,r[8]=R,r[9]=P,r[10]=C,r[11]=0,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r},n.multiplyByTranslation=function(e,t,r){if(!s(e))throw new u("matrix is required");if(!s(t))throw new u("translation is required");if(!s(r))throw new u("result is required");var n=t.x,i=t.y,o=t.z,a=n*e[0]+i*e[4]+o*e[8]+e[12],l=n*e[1]+i*e[5]+o*e[9]+e[13],c=n*e[2]+i*e[6]+o*e[10]+e[14];return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=a,r[13]=l,r[14]=c,r[15]=e[15],r};var w=new i;n.multiplyByUniformScale=function(e,t,r){if(!s(e))throw new u("matrix is required");if("number"!=typeof t)throw new u("scale is required");if(!s(r))throw new u("result is required");return w.x=t,w.y=t,w.z=t,n.multiplyByScale(e,w,r)},n.multiplyByScale=function(e,t,r){if(!s(e))throw new u("matrix is required");if(!s(t))throw new u("scale is required");if(!s(r))throw new u("result is required");var i=t.x,o=t.y,a=t.z;return 1===i&&1===o&&1===a?n.clone(e,r):(r[0]=i*e[0],r[1]=i*e[1],r[2]=i*e[2],r[3]=0,r[4]=o*e[4],r[5]=o*e[5],r[6]=o*e[6],r[7]=0,r[8]=a*e[8],r[9]=a*e[9],r[10]=a*e[10],r[11]=0,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=1,r)},n.multiplyByVector=function(e,t,r){if(!s(e))throw new u("matrix is required");if(!s(t))throw new u("cartesian is required");if(!s(r))throw new u("result is required");var n=t.x,i=t.y,o=t.z,a=t.w,l=e[0]*n+e[4]*i+e[8]*o+e[12]*a,c=e[1]*n+e[5]*i+e[9]*o+e[13]*a,h=e[2]*n+e[6]*i+e[10]*o+e[14]*a,f=e[3]*n+e[7]*i+e[11]*o+e[15]*a;return r.x=l,r.y=c,r.z=h,r.w=f,r},n.multiplyByPointAsVector=function(e,t,r){if(!s(e))throw new u("matrix is required");if(!s(t))throw new u("cartesian is required");if(!s(r))throw new u("result is required");var n=t.x,i=t.y,o=t.z,a=e[0]*n+e[4]*i+e[8]*o,l=e[1]*n+e[5]*i+e[9]*o,c=e[2]*n+e[6]*i+e[10]*o;return r.x=a,r.y=l,r.z=c,r},n.multiplyByPoint=function(e,t,r){if(!s(e))throw new u("matrix is required");if(!s(t))throw new u("cartesian is required");if(!s(r))throw new u("result is required");var n=t.x,i=t.y,o=t.z,a=e[0]*n+e[4]*i+e[8]*o+e[12],l=e[1]*n+e[5]*i+e[9]*o+e[13],c=e[2]*n+e[6]*i+e[10]*o+e[14];return r.x=a,r.y=l,r.z=c,r},n.multiplyByScalar=function(e,t,r){if(!s(e))throw new u("matrix is required");if("number"!=typeof t)throw new u("scalar must be a number");if(!s(r))throw new u("result is required");return r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r[4]=e[4]*t,r[5]=e[5]*t,r[6]=e[6]*t,r[7]=e[7]*t,r[8]=e[8]*t,r[9]=e[9]*t,r[10]=e[10]*t,r[11]=e[11]*t,r[12]=e[12]*t,r[13]=e[13]*t,r[14]=e[14]*t,r[15]=e[15]*t,r},n.negate=function(e,t){if(!s(e))throw new u("matrix is required");if(!s(t))throw new u("result is required");return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},n.transpose=function(e,t){if(!s(e))throw new u("matrix is required");if(!s(t))throw new u("result is required");var r=e[1],n=e[2],i=e[3],o=e[6],a=e[7],l=e[11];return t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=o,t[10]=e[10],t[11]=e[14],t[12]=i,t[13]=a,t[14]=l,t[15]=e[15],t},n.abs=function(e,t){if(!s(e))throw new u("matrix is required");if(!s(t))throw new u("result is required");return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t[9]=Math.abs(e[9]),t[10]=Math.abs(e[10]),t[11]=Math.abs(e[11]),t[12]=Math.abs(e[12]),t[13]=Math.abs(e[13]),t[14]=Math.abs(e[14]),t[15]=Math.abs(e[15]),t},n.equals=function(e,t){return e===t||s(e)&&s(t)&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[3]===t[3]&&e[7]===t[7]&&e[11]===t[11]&&e[15]===t[15]},n.equalsEpsilon=function(e,t,r){if("number"!=typeof r)throw new u("epsilon must be a number");return e===t||s(e)&&s(t)&&Math.abs(e[0]-t[0])<=r&&Math.abs(e[1]-t[1])<=r&&Math.abs(e[2]-t[2])<=r&&Math.abs(e[3]-t[3])<=r&&Math.abs(e[4]-t[4])<=r&&Math.abs(e[5]-t[5])<=r&&Math.abs(e[6]-t[6])<=r&&Math.abs(e[7]-t[7])<=r&&Math.abs(e[8]-t[8])<=r&&Math.abs(e[9]-t[9])<=r&&Math.abs(e[10]-t[10])<=r&&Math.abs(e[11]-t[11])<=r&&Math.abs(e[12]-t[12])<=r&&Math.abs(e[13]-t[13])<=r&&Math.abs(e[14]-t[14])<=r&&Math.abs(e[15]-t[15])<=r},n.getTranslation=function(e,t){if(!s(e))throw new u("matrix is required");if(!s(t))throw new u("result is required");return t.x=e[12],t.y=e[13],t.z=e[14],t},n.getRotation=function(e,t){if(!s(e))throw new u("matrix is required");if(!s(t))throw new u("result is required");return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t};var v=new c,y=new c,_=new o,E=new o(0,0,0,1);n.inverse=function(e,t){if(!s(e))throw new u("matrix is required");if(!s(t))throw new u("result is required");if(c.equalsEpsilon(n.getRotation(e,v),y,l.EPSILON7)&&o.equals(n.getRow(e,3,_),E))return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=1,t;var r=e[0],i=e[4],a=e[8],f=e[12],d=e[1],p=e[5],m=e[9],g=e[13],w=e[2],b=e[6],T=e[10],x=e[14],A=e[3],S=e[7],O=e[11],I=e[15],R=T*I,P=x*O,C=b*I,M=x*S,N=b*O,q=T*S,L=w*I,F=x*A,D=w*O,z=T*A,k=w*S,U=b*A,B=R*p+M*m+N*g-(P*p+C*m+q*g),j=P*d+L*m+z*g-(R*d+F*m+D*g),G=C*d+F*p+k*g-(M*d+L*p+U*g),H=q*d+D*p+U*m-(N*d+z*p+k*m),V=P*i+C*a+q*f-(R*i+M*a+N*f),W=R*r+F*a+D*f-(P*r+L*a+z*f),Y=M*r+L*i+U*f-(C*r+F*i+k*f),X=N*r+z*i+k*a-(q*r+D*i+U*a);R=a*g,P=f*m,C=i*g,M=f*p,N=i*m,q=a*p,L=r*g,F=f*d,D=r*m,z=a*d,k=r*p,U=i*d;var Q=R*S+M*O+N*I-(P*S+C*O+q*I),Z=P*A+L*O+z*I-(R*A+F*O+D*I),K=C*A+F*S+k*I-(M*A+L*S+U*I),J=q*A+D*S+U*O-(N*A+z*S+k*O),$=C*T+q*x+P*b-(N*x+R*b+M*T),ee=D*x+R*w+F*T-(L*T+z*x+P*w),te=L*b+U*x+M*w-(k*x+C*w+F*b),re=k*T+N*w+z*b-(D*b+U*T+q*w),ne=r*B+i*j+a*G+f*H;if(Math.abs(ne)<l.EPSILON20)throw new h("matrix is not invertible because its determinate is zero.");return ne=1/ne,t[0]=B*ne,t[1]=j*ne,t[2]=G*ne,t[3]=H*ne,t[4]=V*ne,t[5]=W*ne,t[6]=Y*ne,t[7]=X*ne,t[8]=Q*ne,t[9]=Z*ne,t[10]=K*ne,t[11]=J*ne,t[12]=$*ne,t[13]=ee*ne,t[14]=te*ne,t[15]=re*ne,t},n.inverseTransformation=function(e,t){
if(!s(e))throw new u("matrix is required");if(!s(t))throw new u("result is required");var r=e[0],n=e[1],i=e[2],o=e[4],a=e[5],l=e[6],c=e[8],h=e[9],f=e[10],d=e[12],p=e[13],m=e[14],g=-r*d-n*p-i*m,w=-o*d-a*p-l*m,v=-c*d-h*p-f*m;return t[0]=r,t[1]=o,t[2]=c,t[3]=0,t[4]=n,t[5]=a,t[6]=h,t[7]=0,t[8]=i,t[9]=l,t[10]=f,t[11]=0,t[12]=g,t[13]=w,t[14]=v,t[15]=1,t},n.IDENTITY=Object.freeze(new n(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),n.ZERO=Object.freeze(new n(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),n.COLUMN0ROW0=0,n.COLUMN0ROW1=1,n.COLUMN0ROW2=2,n.COLUMN0ROW3=3,n.COLUMN1ROW0=4,n.COLUMN1ROW1=5,n.COLUMN1ROW2=6,n.COLUMN1ROW3=7,n.COLUMN2ROW0=8,n.COLUMN2ROW1=9,n.COLUMN2ROW2=10,n.COLUMN2ROW3=11,n.COLUMN3ROW0=12,n.COLUMN3ROW1=13,n.COLUMN3ROW2=14,n.COLUMN3ROW3=15,Object.defineProperties(n.prototype,{length:{get:function(){return n.packedLength}}}),n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.equalsArray=function(e,t,r){return e[0]===t[r]&&e[1]===t[r+1]&&e[2]===t[r+2]&&e[3]===t[r+3]&&e[4]===t[r+4]&&e[5]===t[r+5]&&e[6]===t[r+6]&&e[7]===t[r+7]&&e[8]===t[r+8]&&e[9]===t[r+9]&&e[10]===t[r+10]&&e[11]===t[r+11]&&e[12]===t[r+12]&&e[13]===t[r+13]&&e[14]===t[r+14]&&e[15]===t[r+15]},n.prototype.equalsEpsilon=function(e,t){return n.equalsEpsilon(this,e,t)},n.prototype.toString=function(){return"("+this[0]+", "+this[4]+", "+this[8]+", "+this[12]+")\n("+this[1]+", "+this[5]+", "+this[9]+", "+this[13]+")\n("+this[2]+", "+this[6]+", "+this[10]+", "+this[14]+")\n("+this[3]+", "+this[7]+", "+this[11]+", "+this[15]+")"},e.exports=n},function(e,t,r){"use strict";function n(e){e=i(e,i.EMPTY_OBJECT),this.position=i(e.position,!1),this.normal=i(e.normal,!1),this.st=i(e.st,!1),this.binormal=i(e.binormal,!1),this.tangent=i(e.tangent,!1),this.color=i(e.color,!1)}var i=r(3),o=r(1),a=r(2);n.POSITION_ONLY=Object.freeze(new n({position:!0})),n.POSITION_AND_NORMAL=Object.freeze(new n({position:!0,normal:!0})),n.POSITION_NORMAL_AND_ST=Object.freeze(new n({position:!0,normal:!0,st:!0})),n.POSITION_AND_ST=Object.freeze(new n({position:!0,st:!0})),n.POSITION_AND_COLOR=Object.freeze(new n({position:!0,color:!0})),n.ALL=Object.freeze(new n({position:!0,normal:!0,st:!0,binormal:!0,tangent:!0})),n.DEFAULT=n.POSITION_NORMAL_AND_ST,n.packedLength=6,n.pack=function(e,t,r){if(!o(e))throw new a("value is required");if(!o(t))throw new a("array is required");return r=i(r,0),t[r++]=e.position?1:0,t[r++]=e.normal?1:0,t[r++]=e.st?1:0,t[r++]=e.binormal?1:0,t[r++]=e.tangent?1:0,t[r++]=e.color?1:0,t},n.unpack=function(e,t,r){if(!o(e))throw new a("array is required");return t=i(t,0),o(r)||(r=new n),r.position=1===e[t++],r.normal=1===e[t++],r.st=1===e[t++],r.binormal=1===e[t++],r.tangent=1===e[t++],r.color=1===e[t++],r},n.clone=function(e,t){if(o(e))return o(t)||(t=new n),t.position=e.position,t.normal=e.normal,t.st=e.st,t.binormal=e.binormal,t.tangent=e.tangent,t.color=e.color,t},e.exports=n},function(e,t,r){"use strict";function n(e,t){return u.compare(e.julianDate,t.julianDate)}function i(e){b.julianDate=e;var t=u.leapSeconds,r=c(t,b,n);r<0&&(r=~r),r>=t.length&&(r=t.length-1);var i=t[r].offset;if(r>0){var o=u.secondsDifference(t[r].julianDate,e);o>i&&(r--,i=t[r].offset)}u.addSeconds(e,i,e)}function o(e,t){b.julianDate=e;var r=u.leapSeconds,i=c(r,b,n);if(i<0&&(i=~i),0===i)return u.addSeconds(e,-r[0].offset,t);if(i>=r.length)return u.addSeconds(e,-r[i-1].offset,t);var o=u.secondsDifference(r[i].julianDate,e);return 0===o?u.addSeconds(e,-r[i].offset,t):o<=1?void 0:u.addSeconds(e,-r[--i].offset,t)}function a(e,t,r){var n=t/w.SECONDS_PER_DAY|0;return e+=n,t-=w.SECONDS_PER_DAY*n,t<0&&(e--,t+=w.SECONDS_PER_DAY),r.dayNumber=e,r.secondsOfDay=t,r}function s(e,t,r,n,i,o,a){var s=(t-14)/12|0,u=e+4800+s,l=(1461*u/4|0)+(367*(t-2-12*s)/12|0)-(3*((u+100)/100|0)/4|0)+r-32075;n-=12,n<0&&(n+=24);var c=o+(n*w.SECONDS_PER_HOUR+i*w.SECONDS_PER_MINUTE+a*w.SECONDS_PER_MILLISECOND);return c>=43200&&(l-=1),[l,c]}function u(e,t,r){this.dayNumber=void 0,this.secondsOfDay=void 0,e=h(e,0),t=h(t,0),r=h(r,v.UTC);var n=0|e;t+=(e-n)*w.SECONDS_PER_DAY,a(n,t,this),r===v.UTC&&i(this)}var l=r(227).sprintf,c=r(54),h=r(3),f=r(1),d=r(2),p=r(95),m=r(117),g=r(61),w=r(44),v=r(45),y=new p,_=[31,28,31,30,31,30,31,31,30,31,30,31],E=29,b=new g,T=/^(\d{4})$/,x=/^(\d{4})-(\d{2})$/,A=/^(\d{4})-?(\d{3})$/,S=/^(\d{4})-?W(\d{2})-?(\d{1})?$/,O=/^(\d{4})-?(\d{2})-?(\d{2})$/,I=/([Z+\-])?(\d{2})?:?(\d{2})?$/,R=/^(\d{2})(\.\d+)?/.source+I.source,P=/^(\d{2}):?(\d{2})(\.\d+)?/.source+I.source,C=/^(\d{2}):?(\d{2}):?(\d{2})(\.\d+)?/.source+I.source,M="Invalid ISO 8601 date.";u.fromDate=function(e,t){if(!(e instanceof Date)||isNaN(e.getTime()))throw new d("date must be a valid JavaScript Date.");var r=s(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());return f(t)?(a(r[0],r[1],t),i(t),t):new u(r[0],r[1],v.UTC)},u.fromIso8601=function(e,t){if("string"!=typeof e)throw new d(M);e=e.replace(",",".");var r,n,o,l=e.split("T"),c=1,h=1,p=0,g=0,w=0,y=0,b=l[0],I=l[1];if(!f(b))throw new d(M);var N;if(l=b.match(O),null!==l){if(N=b.split("-").length-1,N>0&&2!==N)throw new d(M);r=+l[1],c=+l[2],h=+l[3]}else if(l=b.match(x),null!==l)r=+l[1],c=+l[2];else if(l=b.match(T),null!==l)r=+l[1];else{var q;if(l=b.match(A),null!==l){if(r=+l[1],q=+l[2],o=m(r),q<1||o&&q>366||!o&&q>365)throw new d(M)}else{if(l=b.match(S),null===l)throw new d(M);r=+l[1];var L=+l[2],F=+l[3]||0;if(N=b.split("-").length-1,N>0&&(!f(l[3])&&1!==N||f(l[3])&&2!==N))throw new d(M);var D=new Date(Date.UTC(r,0,4));q=7*L+F-D.getUTCDay()-3}n=new Date(Date.UTC(r,0,1)),n.setUTCDate(q),c=n.getUTCMonth()+1,h=n.getUTCDate()}if(o=m(r),c<1||c>12||h<1||(2!==c||!o)&&h>_[c-1]||o&&2===c&&h>E)throw new d(M);var z;if(f(I)){if(l=I.match(C),null!==l){if(N=I.split(":").length-1,N>0&&2!==N&&3!==N)throw new d(M);p=+l[1],g=+l[2],w=+l[3],y=1e3*+(l[4]||0),z=5}else if(l=I.match(P),null!==l){if(N=I.split(":").length-1,N>2)throw new d(M);p=+l[1],g=+l[2],w=60*+(l[3]||0),z=4}else{if(l=I.match(R),null===l)throw new d(M);p=+l[1],g=60*+(l[2]||0),z=3}if(g>=60||w>=61||p>24||24===p&&(g>0||w>0||y>0))throw new d(M);var k=l[z],U=+l[z+1],B=+(l[z+2]||0);switch(k){case"+":p-=U,g-=B;break;case"-":p+=U,g+=B;break;case"Z":break;default:g+=new Date(Date.UTC(r,c-1,h,p,g)).getTimezoneOffset()}}else g+=new Date(r,c-1,h).getTimezoneOffset();var j=60===w;for(j&&w--;g>=60;)g-=60,p++;for(;p>=24;)p-=24,h++;for(n=o&&2===c?E:_[c-1];h>n;)h-=n,c++,c>12&&(c-=12,r++),n=o&&2===c?E:_[c-1];for(;g<0;)g+=60,p--;for(;p<0;)p+=24,h--;for(;h<1;)c--,c<1&&(c+=12,r--),n=o&&2===c?E:_[c-1],h+=n;var G=s(r,c,h,p,g,w,y);return f(t)?(a(G[0],G[1],t),i(t)):t=new u(G[0],G[1],v.UTC),j&&u.addSeconds(t,1,t),t},u.now=function(e){return u.fromDate(new Date,e)};var N=new u(0,0,v.TAI);u.toGregorianDate=function(e,t){if(!f(e))throw new d("julianDate is required.");var r=!1,n=o(e,N);f(n)||(u.addSeconds(e,-1,N),n=o(N,N),r=!0);var i=n.dayNumber,a=n.secondsOfDay;a>=43200&&(i+=1);var s=i+68569|0,l=4*s/146097|0;s=s-((146097*l+3)/4|0)|0;var c=4e3*(s+1)/1461001|0;s=s-(1461*c/4|0)+31|0;var h=80*s/2447|0,m=s-(2447*h/80|0)|0;s=h/11|0;var g=h+2-12*s|0,v=100*(l-49)+c+s|0,y=a/w.SECONDS_PER_HOUR|0,_=a-y*w.SECONDS_PER_HOUR,E=_/w.SECONDS_PER_MINUTE|0;_-=E*w.SECONDS_PER_MINUTE;var b=0|_,T=(_-b)/w.SECONDS_PER_MILLISECOND;return y+=12,y>23&&(y-=24),r&&(b+=1),f(t)?(t.year=v,t.month=g,t.day=m,t.hour=y,t.minute=E,t.second=b,t.millisecond=T,t.isLeapSecond=r,t):new p(v,g,m,y,E,b,T,r)},u.toDate=function(e){if(!f(e))throw new d("julianDate is required.");var t=u.toGregorianDate(e,y),r=t.second;return t.isLeapSecond&&(r-=1),new Date(Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,r,t.millisecond))},u.toIso8601=function(e,t){if(!f(e))throw new d("julianDate is required.");var r,n=u.toGregorianDate(e,n);return f(t)||0===n.millisecond?f(t)&&0!==t?(r=(.01*n.millisecond).toFixed(t).replace(".","").slice(0,t),l("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",n.year,n.month,n.day,n.hour,n.minute,n.second,r)):l("%04d-%02d-%02dT%02d:%02d:%02dZ",n.year,n.month,n.day,n.hour,n.minute,n.second):(r=(.01*n.millisecond).toString().replace(".",""),l("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",n.year,n.month,n.day,n.hour,n.minute,n.second,r))},u.clone=function(e,t){if(f(e))return f(t)?(t.dayNumber=e.dayNumber,t.secondsOfDay=e.secondsOfDay,t):new u(e.dayNumber,e.secondsOfDay,v.TAI)},u.compare=function(e,t){if(!f(e))throw new d("left is required.");if(!f(t))throw new d("right is required.");var r=e.dayNumber-t.dayNumber;return 0!==r?r:e.secondsOfDay-t.secondsOfDay},u.equals=function(e,t){return e===t||f(e)&&f(t)&&e.dayNumber===t.dayNumber&&e.secondsOfDay===t.secondsOfDay},u.equalsEpsilon=function(e,t,r){if(!f(r))throw new d("epsilon is required.");return e===t||f(e)&&f(t)&&Math.abs(u.secondsDifference(e,t))<=r},u.totalDays=function(e){if(!f(e))throw new d("julianDate is required.");return e.dayNumber+e.secondsOfDay/w.SECONDS_PER_DAY},u.secondsDifference=function(e,t){if(!f(e))throw new d("left is required.");if(!f(t))throw new d("right is required.");var r=(e.dayNumber-t.dayNumber)*w.SECONDS_PER_DAY;return r+(e.secondsOfDay-t.secondsOfDay)},u.daysDifference=function(e,t){if(!f(e))throw new d("left is required.");if(!f(t))throw new d("right is required.");var r=e.dayNumber-t.dayNumber,n=(e.secondsOfDay-t.secondsOfDay)/w.SECONDS_PER_DAY;return r+n},u.computeTaiMinusUtc=function(e){b.julianDate=e;var t=u.leapSeconds,r=c(t,b,n);return r<0&&(r=~r,--r,r<0&&(r=0)),t[r].offset},u.addSeconds=function(e,t,r){if(!f(e))throw new d("julianDate is required.");if(!f(t))throw new d("seconds is required.");if(!f(r))throw new d("result is required.");return a(e.dayNumber,e.secondsOfDay+t,r)},u.addMinutes=function(e,t,r){if(!f(e))throw new d("julianDate is required.");if(!f(t))throw new d("minutes is required.");if(!f(r))throw new d("result is required.");var n=e.secondsOfDay+t*w.SECONDS_PER_MINUTE;return a(e.dayNumber,n,r)},u.addHours=function(e,t,r){if(!f(e))throw new d("julianDate is required.");if(!f(t))throw new d("hours is required.");if(!f(r))throw new d("result is required.");var n=e.secondsOfDay+t*w.SECONDS_PER_HOUR;return a(e.dayNumber,n,r)},u.addDays=function(e,t,r){if(!f(e))throw new d("julianDate is required.");if(!f(t))throw new d("days is required.");if(!f(r))throw new d("result is required.");var n=e.dayNumber+t;return a(n,e.secondsOfDay,r)},u.lessThan=function(e,t){return u.compare(e,t)<0},u.lessThanOrEquals=function(e,t){return u.compare(e,t)<=0},u.greaterThan=function(e,t){return u.compare(e,t)>0},u.greaterThanOrEquals=function(e,t){return u.compare(e,t)>=0},u.prototype.clone=function(e){return u.clone(this,e)},u.prototype.equals=function(e){return u.equals(this,e)},u.prototype.equalsEpsilon=function(e,t){return u.equalsEpsilon(this,e,t)},u.prototype.toString=function(){return u.toIso8601(this)},u.leapSeconds=[new g(new u(2441317,43210,v.TAI),10),new g(new u(2441499,43211,v.TAI),11),new g(new u(2441683,43212,v.TAI),12),new g(new u(2442048,43213,v.TAI),13),new g(new u(2442413,43214,v.TAI),14),new g(new u(2442778,43215,v.TAI),15),new g(new u(2443144,43216,v.TAI),16),new g(new u(2443509,43217,v.TAI),17),new g(new u(2443874,43218,v.TAI),18),new g(new u(2444239,43219,v.TAI),19),new g(new u(2444786,43220,v.TAI),20),new g(new u(2445151,43221,v.TAI),21),new g(new u(2445516,43222,v.TAI),22),new g(new u(2446247,43223,v.TAI),23),new g(new u(2447161,43224,v.TAI),24),new g(new u(2447892,43225,v.TAI),25),new g(new u(2448257,43226,v.TAI),26),new g(new u(2448804,43227,v.TAI),27),new g(new u(2449169,43228,v.TAI),28),new g(new u(2449534,43229,v.TAI),29),new g(new u(2450083,43230,v.TAI),30),new g(new u(2450630,43231,v.TAI),31),new g(new u(2451179,43232,v.TAI),32),new g(new u(2453736,43233,v.TAI),33),new g(new u(2454832,43234,v.TAI),34),new g(new u(2456109,43235,v.TAI),35),new g(new u(2457204,43236,v.TAI),36),new g(new u(2457754,43237,v.TAI),37)],e.exports=u},function(e,t,r){"use strict";function n(e,t,r,n){this.x=o(e,0),this.y=o(t,0),this.z=o(r,0),this.w=o(n,0)}var i=r(4),o=r(3),a=r(1),s=r(2),u=r(50),l=r(5),c=r(17),h=new i;n.fromAxisAngle=function(e,t,r){if(!a(e))throw new s("axis is required.");if("number"!=typeof t)throw new s("angle is required and must be a number.");var o=t/2,u=Math.sin(o);h=i.normalize(e,h);var l=h.x*u,c=h.y*u,f=h.z*u,d=Math.cos(o);return a(r)?(r.x=l,r.y=c,r.z=f,r.w=d,r):new n(l,c,f,d)};var f=[1,2,0],d=new Array(3);n.fromRotationMatrix=function(e,t){if(!a(e))throw new s("matrix is required.");var r,i,o,u,l,h=e[c.COLUMN0ROW0],p=e[c.COLUMN1ROW1],m=e[c.COLUMN2ROW2],g=h+p+m;if(g>0)r=Math.sqrt(g+1),l=.5*r,r=.5/r,i=(e[c.COLUMN1ROW2]-e[c.COLUMN2ROW1])*r,o=(e[c.COLUMN2ROW0]-e[c.COLUMN0ROW2])*r,u=(e[c.COLUMN0ROW1]-e[c.COLUMN1ROW0])*r;else{var w=f,v=0;p>h&&(v=1),m>h&&m>p&&(v=2);var y=w[v],_=w[y];r=Math.sqrt(e[c.getElementIndex(v,v)]-e[c.getElementIndex(y,y)]-e[c.getElementIndex(_,_)]+1);var E=d;E[v]=.5*r,r=.5/r,l=(e[c.getElementIndex(_,y)]-e[c.getElementIndex(y,_)])*r,E[y]=(e[c.getElementIndex(y,v)]+e[c.getElementIndex(v,y)])*r,E[_]=(e[c.getElementIndex(_,v)]+e[c.getElementIndex(v,_)])*r,i=-E[0],o=-E[1],u=-E[2]}return a(t)?(t.x=i,t.y=o,t.z=u,t.w=l,t):new n(i,o,u,l)};var p=new n;n.fromHeadingPitchRoll=function(e,t,r,o){if(!a(e))throw new s("heading is required.");if(!a(t))throw new s("pitch is required.");if(!a(r))throw new s("roll is required.");var u=n.fromAxisAngle(i.UNIT_X,r,p),l=n.fromAxisAngle(i.UNIT_Y,-t,o);o=n.multiply(l,u,l);var c=n.fromAxisAngle(i.UNIT_Z,-e,p);return n.multiply(c,o,o)};var m=new i,g=new i,w=new n,v=new n,y=new n;n.packedLength=4,n.pack=function(e,t,r){if(!a(e))throw new s("value is required");if(!a(t))throw new s("array is required");return r=o(r,0),t[r++]=e.x,t[r++]=e.y,t[r++]=e.z,t[r]=e.w,t},n.unpack=function(e,t,r){if(!a(e))throw new s("array is required");return t=o(t,0),a(r)||(r=new n),r.x=e[t],r.y=e[t+1],r.z=e[t+2],r.w=e[t+3],r},n.packedInterpolationLength=3,n.convertPackedArrayForInterpolation=function(e,t,r,i){n.unpack(e,4*r,y),n.conjugate(y,y);for(var o=0,a=r-t+1;o<a;o++){var s=3*o;n.unpack(e,4*(t+o),w),n.multiply(w,y,w),w.w<0&&n.negate(w,w),n.computeAxis(w,m);var u=n.computeAngle(w);i[s]=m.x*u,i[s+1]=m.y*u,i[s+2]=m.z*u}},n.unpackInterpolationResult=function(e,t,r,o,s){a(s)||(s=new n),i.fromArray(e,0,g);var u=i.magnitude(g);return n.unpack(t,4*o,v),0===u?n.clone(n.IDENTITY,w):n.fromAxisAngle(g,u,w),n.multiply(w,v,s)},n.clone=function(e,t){if(a(e))return a(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new n(e.x,e.y,e.z,e.w)},n.conjugate=function(e,t){if(!a(e))throw new s("quaternion is required");if(!a(t))throw new s("result is required");return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=e.w,t},n.magnitudeSquared=function(e){if(!a(e))throw new s("quaternion is required");return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},n.magnitude=function(e){return Math.sqrt(n.magnitudeSquared(e))},n.normalize=function(e,t){if(!a(t))throw new s("result is required");var r=1/n.magnitude(e),i=e.x*r,o=e.y*r,u=e.z*r,l=e.w*r;return t.x=i,t.y=o,t.z=u,t.w=l,t},n.inverse=function(e,t){if(!a(t))throw new s("result is required");var r=n.magnitudeSquared(e);return t=n.conjugate(e,t),n.multiplyByScalar(t,1/r,t)},n.add=function(e,t,r){if(!a(e))throw new s("left is required");if(!a(t))throw new s("right is required");if(!a(r))throw new s("result is required");return r.x=e.x+t.x,r.y=e.y+t.y,r.z=e.z+t.z,r.w=e.w+t.w,r},n.subtract=function(e,t,r){if(!a(e))throw new s("left is required");if(!a(t))throw new s("right is required");if(!a(r))throw new s("result is required");return r.x=e.x-t.x,r.y=e.y-t.y,r.z=e.z-t.z,r.w=e.w-t.w,r},n.negate=function(e,t){if(!a(e))throw new s("quaternion is required");if(!a(t))throw new s("result is required");return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},n.dot=function(e,t){if(!a(e))throw new s("left is required");if(!a(t))throw new s("right is required");return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},n.multiply=function(e,t,r){if(!a(e))throw new s("left is required");if(!a(t))throw new s("right is required");if(!a(r))throw new s("result is required");var n=e.x,i=e.y,o=e.z,u=e.w,l=t.x,c=t.y,h=t.z,f=t.w,d=u*l+n*f+i*h-o*c,p=u*c-n*h+i*f+o*l,m=u*h+n*c-i*l+o*f,g=u*f-n*l-i*c-o*h;return r.x=d,r.y=p,r.z=m,r.w=g,r},n.multiplyByScalar=function(e,t,r){if(!a(e))throw new s("quaternion is required");if("number"!=typeof t)throw new s("scalar is required and must be a number.");if(!a(r))throw new s("result is required");return r.x=e.x*t,r.y=e.y*t,r.z=e.z*t,r.w=e.w*t,r},n.divideByScalar=function(e,t,r){if(!a(e))throw new s("quaternion is required");if("number"!=typeof t)throw new s("scalar is required and must be a number.");if(!a(r))throw new s("result is required");return r.x=e.x/t,r.y=e.y/t,r.z=e.z/t,r.w=e.w/t,r},n.computeAxis=function(e,t){if(!a(e))throw new s("quaternion is required");if(!a(t))throw new s("result is required");var r=e.w;if(Math.abs(r-1)<l.EPSILON6)return t.x=t.y=t.z=0,t;var n=1/Math.sqrt(1-r*r);return t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t},n.computeAngle=function(e){if(!a(e))throw new s("quaternion is required");return Math.abs(e.w-1)<l.EPSILON6?0:2*Math.acos(e.w)};var _=new n;n.lerp=function(e,t,r,i){if(!a(e))throw new s("start is required.");if(!a(t))throw new s("end is required.");if("number"!=typeof r)throw new s("t is required and must be a number.");if(!a(i))throw new s("result is required");return _=n.multiplyByScalar(t,r,_),i=n.multiplyByScalar(e,1-r,i),n.add(_,i,i)};var E=new n,b=new n,T=new n;n.slerp=function(e,t,r,i){if(!a(e))throw new s("start is required.");if(!a(t))throw new s("end is required.");if("number"!=typeof r)throw new s("t is required and must be a number.");if(!a(i))throw new s("result is required");var o=n.dot(e,t),u=t;if(o<0&&(o=-o,u=E=n.negate(t,E)),1-o<l.EPSILON6)return n.lerp(e,u,r,i);var c=Math.acos(o);return b=n.multiplyByScalar(e,Math.sin((1-r)*c),b),T=n.multiplyByScalar(u,Math.sin(r*c),T),i=n.add(b,T,i),n.multiplyByScalar(i,1/Math.sin(c),i)},n.log=function(e,t){if(!a(e))throw new s("quaternion is required.");if(!a(t))throw new s("result is required");var r=l.acosClamped(e.w),n=0;return 0!==r&&(n=r/Math.sin(r)),i.multiplyByScalar(e,n,t)},n.exp=function(e,t){if(!a(e))throw new s("cartesian is required.");if(!a(t))throw new s("result is required");var r=i.magnitude(e),n=0;return 0!==r&&(n=Math.sin(r)/r),t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t.w=Math.cos(r),t};var x=new i,A=new i,S=new n,O=new n;n.computeInnerQuadrangle=function(e,t,r,o){if(!a(e)||!a(t)||!a(r))throw new s("q0, q1, and q2 are required.");if(!a(o))throw new s("result is required");var u=n.conjugate(t,S);n.multiply(u,r,O);var l=n.log(O,x);n.multiply(u,e,O);var c=n.log(O,A);return i.add(l,c,l),i.multiplyByScalar(l,.25,l),i.negate(l,l),n.exp(l,S),n.multiply(t,S,o)},n.squad=function(e,t,r,i,o,u){if(!(a(e)&&a(t)&&a(r)&&a(i)))throw new s("q0, q1, s0, and s1 are required.");if("number"!=typeof o)throw new s("t is required and must be a number.");if(!a(u))throw new s("result is required");var l=n.slerp(e,t,o,S),c=n.slerp(r,i,o,O);return n.slerp(l,c,2*o*(1-o),u)};for(var I=new n,R=1.9011074535173003,P=u.supportsTypedArrays()?new Float32Array(8):[],C=u.supportsTypedArrays()?new Float32Array(8):[],M=u.supportsTypedArrays()?new Float32Array(8):[],N=u.supportsTypedArrays()?new Float32Array(8):[],q=0;q<7;++q){var L=q+1,F=2*L+1;P[q]=1/(L*F),C[q]=L/F}P[7]=R/136,C[7]=8*R/17,n.fastSlerp=function(e,t,r,i){if(!a(e))throw new s("start is required.");if(!a(t))throw new s("end is required.");if("number"!=typeof r)throw new s("t is required and must be a number.");if(!a(i))throw new s("result is required");var o,u=n.dot(e,t);u>=0?o=1:(o=-1,u=-u);for(var l=u-1,c=1-r,h=r*r,f=c*c,d=7;d>=0;--d)M[d]=(P[d]*h-C[d])*l,N[d]=(P[d]*f-C[d])*l;var p=o*r*(1+M[0]*(1+M[1]*(1+M[2]*(1+M[3]*(1+M[4]*(1+M[5]*(1+M[6]*(1+M[7])))))))),m=c*(1+N[0]*(1+N[1]*(1+N[2]*(1+N[3]*(1+N[4]*(1+N[5]*(1+N[6]*(1+N[7])))))))),g=n.multiplyByScalar(e,m,I);return n.multiplyByScalar(t,p,i),n.add(g,i,i)},n.fastSquad=function(e,t,r,i,o,u){if(!(a(e)&&a(t)&&a(r)&&a(i)))throw new s("q0, q1, s0, and s1 are required.");if("number"!=typeof o)throw new s("t is required and must be a number.");if(!a(u))throw new s("result is required");var l=n.fastSlerp(e,t,o,S),c=n.fastSlerp(r,i,o,O);return n.fastSlerp(l,c,2*o*(1-o),u)},n.equals=function(e,t){return e===t||a(e)&&a(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},n.equalsEpsilon=function(e,t,r){if("number"!=typeof r)throw new s("epsilon is required and must be a number.");return e===t||a(e)&&a(t)&&Math.abs(e.x-t.x)<=r&&Math.abs(e.y-t.y)<=r&&Math.abs(e.z-t.z)<=r&&Math.abs(e.w-t.w)<=r},n.ZERO=Object.freeze(new n(0,0,0,0)),n.IDENTITY=Object.freeze(new n(0,0,0,1)),n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.prototype.equalsEpsilon=function(e,t){return n.equalsEpsilon(this,e,t)},n.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},e.exports=n},function(e,t,r){"use strict";var n=r(225),i=r(9),o=r(4),a=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),s=r(3),u=r(1),l=r(2),c=r(6),h=r(10),f=r(11),d=r(5),p=r(12),m=r(25),g=new o,w=new o,v={};v.computeArea2D=function(e){if(!u(e))throw new l("positions is required.");if(e.length<3)throw new l("At least three positions are required.");for(var t=e.length,r=0,n=t-1,i=0;i<t;n=i++){var o=e[n],a=e[i];r+=o.x*a.y-a.x*o.y}return.5*r},v.computeWindingOrder2D=function(e){var t=v.computeArea2D(e);return t>0?m.COUNTER_CLOCKWISE:m.CLOCKWISE},v.triangulate=function(e,t){if(!u(e))throw new l("positions is required.");var r=i.packArray(e);return n(r,t,2)};var y=new o,_=new o,E=new o,b=new o,T=new o,x=new o,A=new o;v.computeSubdivision=function(e,t,r,n){if(n=s(n,d.RADIANS_PER_DEGREE),!u(e))throw new l("ellipsoid is required.");if(!u(t))throw new l("positions is required.");if(!u(r))throw new l("indices is required.");if(r.length<3)throw new l("At least three indices are required.");if(r.length%3!==0)throw new l("The number of indices must be divisable by three.");if(n<=0)throw new l("granularity must be greater than zero.");var i,c=r.slice(0),m=t.length,g=new Array(3*m),w=0;for(i=0;i<m;i++){var v=t[i];g[w++]=v.x,g[w++]=v.y,g[w++]=v.z}for(var S=[],O={},I=e.maximumRadius,R=d.chordLength(n,I),P=R*R;c.length>0;){var C,M,N=c.pop(),q=c.pop(),L=c.pop(),F=o.fromArray(g,3*L,y),D=o.fromArray(g,3*q,_),z=o.fromArray(g,3*N,E),k=o.multiplyByScalar(o.normalize(F,b),I,b),U=o.multiplyByScalar(o.normalize(D,T),I,T),B=o.multiplyByScalar(o.normalize(z,x),I,x),j=o.magnitudeSquared(o.subtract(k,U,A)),G=o.magnitudeSquared(o.subtract(U,B,A)),H=o.magnitudeSquared(o.subtract(B,k,A)),V=Math.max(j,G,H);V>P?j===V?(C=Math.min(L,q)+" "+Math.max(L,q),i=O[C],u(i)||(M=o.add(F,D,A),o.multiplyByScalar(M,.5,M),g.push(M.x,M.y,M.z),i=g.length/3-1,O[C]=i),c.push(L,i,N),c.push(i,q,N)):G===V?(C=Math.min(q,N)+" "+Math.max(q,N),i=O[C],u(i)||(M=o.add(D,z,A),o.multiplyByScalar(M,.5,M),g.push(M.x,M.y,M.z),i=g.length/3-1,O[C]=i),c.push(q,i,L),c.push(i,N,L)):H===V&&(C=Math.min(N,L)+" "+Math.max(N,L),i=O[C],u(i)||(M=o.add(z,F,A),o.multiplyByScalar(M,.5,M),g.push(M.x,M.y,M.z),i=g.length/3-1,O[C]=i),c.push(N,i,q),c.push(i,L,q)):(S.push(L),S.push(q),S.push(N))}return new h({attributes:{position:new f({componentDatatype:a.DOUBLE,componentsPerAttribute:3,values:g})},indices:S,primitiveType:p.TRIANGLES})},v.scaleToGeodeticHeight=function(e,t,r,n){r=s(r,c.WGS84);var i=g,a=w;if(t=s(t,0),n=s(n,!0),u(e))for(var l=e.length,h=0;h<l;h+=3)o.fromArray(e,h,a),n&&(a=r.scaleToGeodeticSurface(a,a)),0!==t&&(i=r.geodeticSurfaceNormal(a,i),o.multiplyByScalar(i,t,i),o.add(a,i,a)),e[h]=a.x,e[h+1]=a.y,e[h+2]=a.z;return e},e.exports=v},function(e,t,r){"use strict";function n(e,t,r,n){this.x=i(e,0),this.y=i(t,0),this.z=i(r,0),this.w=i(n,0)}var i=r(3),o=r(1),a=r(2),s=r(5);n.fromElements=function(e,t,r,i,a){return o(a)?(a.x=e,a.y=t,a.z=r,a.w=i,a):new n(e,t,r,i)},n.fromColor=function(e,t){if(!o(e))throw new a("color is required");return o(t)?(t.x=e.red,t.y=e.green,t.z=e.blue,t.w=e.alpha,t):new n(e.red,e.green,e.blue,e.alpha)},n.clone=function(e,t){if(o(e))return o(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new n(e.x,e.y,e.z,e.w)},n.packedLength=4,n.pack=function(e,t,r){if(!o(e))throw new a("value is required");if(!o(t))throw new a("array is required");return r=i(r,0),t[r++]=e.x,t[r++]=e.y,t[r++]=e.z,t[r]=e.w,t},n.unpack=function(e,t,r){if(!o(e))throw new a("array is required");return t=i(t,0),o(r)||(r=new n),r.x=e[t++],r.y=e[t++],r.z=e[t++],r.w=e[t],r},n.packArray=function(e,t){if(!o(e))throw new a("array is required");var r=e.length;o(t)?t.length=4*r:t=new Array(4*r);for(var i=0;i<r;++i)n.pack(e[i],t,4*i);return t},n.unpackArray=function(e,t){if(!o(e))throw new a("array is required");var r=e.length;o(t)?t.length=r/4:t=new Array(r/4);for(var i=0;i<r;i+=4){var s=i/4;t[s]=n.unpack(e,i,t[s])}return t},n.fromArray=n.unpack,n.maximumComponent=function(e){if(!o(e))throw new a("cartesian is required");return Math.max(e.x,e.y,e.z,e.w)},n.minimumComponent=function(e){if(!o(e))throw new a("cartesian is required");return Math.min(e.x,e.y,e.z,e.w)},n.minimumByComponent=function(e,t,r){if(!o(e))throw new a("first is required.");if(!o(t))throw new a("second is required.");if(!o(r))throw new a("result is required.");return r.x=Math.min(e.x,t.x),r.y=Math.min(e.y,t.y),r.z=Math.min(e.z,t.z),r.w=Math.min(e.w,t.w),r},n.maximumByComponent=function(e,t,r){if(!o(e))throw new a("first is required.");if(!o(t))throw new a("second is required.");if(!o(r))throw new a("result is required.");return r.x=Math.max(e.x,t.x),r.y=Math.max(e.y,t.y),r.z=Math.max(e.z,t.z),r.w=Math.max(e.w,t.w),r},n.magnitudeSquared=function(e){if(!o(e))throw new a("cartesian is required");return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},n.magnitude=function(e){return Math.sqrt(n.magnitudeSquared(e))};var u=new n;n.distance=function(e,t){if(!o(e)||!o(t))throw new a("left and right are required.");return n.subtract(e,t,u),n.magnitude(u)},n.distanceSquared=function(e,t){if(!o(e)||!o(t))throw new a("left and right are required.");return n.subtract(e,t,u),n.magnitudeSquared(u)},n.normalize=function(e,t){if(!o(e))throw new a("cartesian is required");if(!o(t))throw new a("result is required");var r=n.magnitude(e);if(t.x=e.x/r,t.y=e.y/r,t.z=e.z/r,t.w=e.w/r,isNaN(t.x)||isNaN(t.y)||isNaN(t.z)||isNaN(t.w))throw new a("normalized result is not a number");return t},n.dot=function(e,t){if(!o(e))throw new a("left is required");if(!o(t))throw new a("right is required");return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},n.multiplyComponents=function(e,t,r){if(!o(e))throw new a("left is required");if(!o(t))throw new a("right is required");if(!o(r))throw new a("result is required");return r.x=e.x*t.x,r.y=e.y*t.y,r.z=e.z*t.z,r.w=e.w*t.w,r},n.divideComponents=function(e,t,r){if(!o(e))throw new a("left is required");if(!o(t))throw new a("right is required");if(!o(r))throw new a("result is required");return r.x=e.x/t.x,r.y=e.y/t.y,r.z=e.z/t.z,r.w=e.w/t.w,r},n.add=function(e,t,r){if(!o(e))throw new a("left is required");if(!o(t))throw new a("right is required");if(!o(r))throw new a("result is required");return r.x=e.x+t.x,r.y=e.y+t.y,r.z=e.z+t.z,r.w=e.w+t.w,r},n.subtract=function(e,t,r){if(!o(e))throw new a("left is required");if(!o(t))throw new a("right is required");if(!o(r))throw new a("result is required");return r.x=e.x-t.x,r.y=e.y-t.y,r.z=e.z-t.z,r.w=e.w-t.w,r},n.multiplyByScalar=function(e,t,r){if(!o(e))throw new a("cartesian is required");if("number"!=typeof t)throw new a("scalar is required and must be a number.");if(!o(r))throw new a("result is required");return r.x=e.x*t,r.y=e.y*t,r.z=e.z*t,r.w=e.w*t,r},n.divideByScalar=function(e,t,r){if(!o(e))throw new a("cartesian is required");if("number"!=typeof t)throw new a("scalar is required and must be a number.");if(!o(r))throw new a("result is required");return r.x=e.x/t,r.y=e.y/t,r.z=e.z/t,r.w=e.w/t,r},n.negate=function(e,t){if(!o(e))throw new a("cartesian is required");if(!o(t))throw new a("result is required");return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},n.abs=function(e,t){if(!o(e))throw new a("cartesian is required");if(!o(t))throw new a("result is required");return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t.w=Math.abs(e.w),t};var l=new n;n.lerp=function(e,t,r,i){if(!o(e))throw new a("start is required.");if(!o(t))throw new a("end is required.");if("number"!=typeof r)throw new a("t is required and must be a number.");if(!o(i))throw new a("result is required.");return n.multiplyByScalar(t,r,l),i=n.multiplyByScalar(e,1-r,i),n.add(l,i,i)};var c=new n;n.mostOrthogonalAxis=function(e,t){if(!o(e))throw new a("cartesian is required.");if(!o(t))throw new a("result is required.");var r=n.normalize(e,c);return n.abs(r,r),t=r.x<=r.y?r.x<=r.z?r.x<=r.w?n.clone(n.UNIT_X,t):n.clone(n.UNIT_W,t):r.z<=r.w?n.clone(n.UNIT_Z,t):n.clone(n.UNIT_W,t):r.y<=r.z?r.y<=r.w?n.clone(n.UNIT_Y,t):n.clone(n.UNIT_W,t):r.z<=r.w?n.clone(n.UNIT_Z,t):n.clone(n.UNIT_W,t)},n.equals=function(e,t){return e===t||o(e)&&o(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},n.equalsArray=function(e,t,r){return e.x===t[r]&&e.y===t[r+1]&&e.z===t[r+2]&&e.w===t[r+3]},n.equalsEpsilon=function(e,t,r,n){return e===t||o(e)&&o(t)&&s.equalsEpsilon(e.x,t.x,r,n)&&s.equalsEpsilon(e.y,t.y,r,n)&&s.equalsEpsilon(e.z,t.z,r,n)&&s.equalsEpsilon(e.w,t.w,r,n)},n.ZERO=Object.freeze(new n(0,0,0,0)),n.UNIT_X=Object.freeze(new n(1,0,0,0)),n.UNIT_Y=Object.freeze(new n(0,1,0,0)),n.UNIT_Z=Object.freeze(new n(0,0,1,0)),n.UNIT_W=Object.freeze(new n(0,0,0,1)),n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.prototype.equalsEpsilon=function(e,t,r){return n.equalsEpsilon(this,e,t,r)},n.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},e.exports=n},function(e,t,r){"use strict";var n=r(47),i={CLOCKWISE:n.CW,COUNTER_CLOCKWISE:n.CCW,validate:function(e){return e===i.CLOCKWISE||e===i.COUNTER_CLOCKWISE}};e.exports=Object.freeze(i)},function(e,t){"use strict";var r={ROUNDED:0,MITERED:1,BEVELED:2};e.exports=Object.freeze(r)},function(e,t,r){"use strict";function n(e){this._ellipsoid=a(e,l.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}var i=r(4),o=r(15),a=r(3),s=r(1),u=r(2),l=r(6);Object.defineProperties(n.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),n.prototype.project=function(e,t){var r=this._semimajorAxis,n=e.longitude*r,o=e.latitude*r,a=e.height;return s(t)?(t.x=n,t.y=o,t.z=a,t):new i(n,o,a)},n.prototype.unproject=function(e,t){if(!s(e))throw new u("cartesian is required");var r=this._oneOverSemimajorAxis,n=e.x*r,i=e.y*r,a=e.z;return s(t)?(t.longitude=n,t.latitude=i,t.height=a,t):new o(n,i,a)},e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n,i){e[t++]=r,e[t++]=n,e[t++]=n,e[t++]=i,e[t++]=i,e[t]=r}function i(e){for(var t=e.length,r=t/3*6,i=Q.createTypedArray(t,r),o=0,a=0;a<t;a+=3,o+=6)n(i,o,e[a],e[a+1],e[a+2]);return i}function o(e){var t=e.length;if(t>=3){var r=6*(t-2),i=Q.createTypedArray(t,r);n(i,0,e[0],e[1],e[2]);for(var o=6,a=3;a<t;++a,o+=6)n(i,o,e[a-1],e[a],e[a-2]);return i}return new Uint16Array}function a(e){if(e.length>0){for(var t=e.length-1,r=6*(t-1),i=Q.createTypedArray(t,r),o=e[0],a=0,s=1;s<t;++s,a+=6)n(i,a,o,e[s],e[s+1]);return i}return new Uint16Array}function s(e){var t={};for(var r in e)if(e.hasOwnProperty(r)&&j(e[r])&&j(e[r].values)){var n=e[r];t[r]=new Y({componentDatatype:n.componentDatatype,componentsPerAttribute:n.componentsPerAttribute,normalize:n.normalize,values:[]})}return t}function u(e,t,r){for(var n in t)if(t.hasOwnProperty(n)&&j(t[n])&&j(t[n].values))for(var i=t[n],o=0;o<i.componentsPerAttribute;++o)e[n].values.push(i.values[r*i.componentsPerAttribute+o])}function l(e,t){if(j(t))for(var r=t.values,n=r.length,i=0;i<n;i+=3)D.unpack(r,i,ue),ee.multiplyByPoint(e,ue,ue),D.pack(ue,r,i)}function c(e,t){if(j(t))for(var r=t.values,n=r.length,i=0;i<n;i+=3)D.unpack(r,i,ue),$.multiplyByVector(e,ue,ue),ue=D.normalize(ue,ue),D.pack(ue,r,i)}function h(e,t){var r,n=e.length,i={},o=e[0][t].attributes;for(r in o)if(o.hasOwnProperty(r)&&j(o[r])&&j(o[r].values)){
for(var a=o[r],s=a.values.length,u=!0,l=1;l<n;++l){var c=e[l][t].attributes[r];if(!j(c)||a.componentDatatype!==c.componentDatatype||a.componentsPerAttribute!==c.componentsPerAttribute||a.normalize!==c.normalize){u=!1;break}s+=c.values.length}u&&(i[r]=new Y({componentDatatype:a.componentDatatype,componentsPerAttribute:a.componentsPerAttribute,normalize:a.normalize,values:U.createTypedArray(a.componentDatatype,s)}))}return i}function f(e,t){var r,n,i,o,a=e.length,s=e[0].modelMatrix,u=j(e[0][t].indices),l=e[0][t].primitiveType;for(n=1;n<a;++n){if(!ee.equals(e[n].modelMatrix,s))throw new G("All instances must have the same modelMatrix.");if(j(e[n][t].indices)!==u)throw new G("All instance geometries must have an indices or not have one.");if(e[n][t].primitiveType!==l)throw new G("All instance geometries must have the same primitiveType.")}var c,f,d,p=h(e,t);for(r in p)if(p.hasOwnProperty(r))for(c=p[r].values,o=0,n=0;n<a;++n)for(f=e[n][t].attributes[r].values,d=f.length,i=0;i<d;++i)c[o++]=f[i];var m;if(u){var g=0;for(n=0;n<a;++n)g+=e[n][t].indices.length;var w=W.computeNumberOfVertices(new W({attributes:p,primitiveType:re.POINTS})),v=Q.createTypedArray(w,g),y=0,_=0;for(n=0;n<a;++n){var E=e[n][t].indices,b=E.length;for(o=0;o<b;++o)v[y++]=_+E[o];_+=W.computeNumberOfVertices(e[n][t])}m=v}var T,x=new D,A=0;for(n=0;n<a;++n){if(T=e[n][t].boundingSphere,!j(T)){x=void 0;break}D.add(T.center,x,x)}if(j(x))for(D.divideByScalar(x,a,x),n=0;n<a;++n){T=e[n][t].boundingSphere;var S=D.magnitude(D.subtract(T.center,x,he))+T.radius;S>A&&(A=S)}return new W({attributes:p,indices:m,primitiveType:l,boundingSphere:j(x)?new L(x,A):void 0})}function d(e){if(j(e.indices))return e;var t=W.computeNumberOfVertices(e);if(t<3)throw new G("The number of vertices must be at least three.");if(t%3!==0)throw new G("The number of vertices must be a multiple of three.");for(var r=Q.createTypedArray(t,t),n=0;n<t;++n)r[n]=n;return e.indices=r,e}function p(e){var t=W.computeNumberOfVertices(e);if(t<3)throw new G("The number of vertices must be at least three.");var r=Q.createTypedArray(t,3*(t-2));r[0]=1,r[1]=0,r[2]=2;for(var n=3,i=3;i<t;++i)r[n++]=i-1,r[n++]=0,r[n++]=i;return e.indices=r,e.primitiveType=re.TRIANGLES,e}function m(e){var t=W.computeNumberOfVertices(e);if(t<3)throw new G("The number of vertices must be at least 3.");var r=Q.createTypedArray(t,3*(t-2));r[0]=0,r[1]=1,r[2]=2,t>3&&(r[3]=0,r[4]=2,r[5]=3);for(var n=6,i=3;i<t-1;i+=2)r[n++]=i,r[n++]=i-1,r[n++]=i+1,i+2<t&&(r[n++]=i,r[n++]=i+1,r[n++]=i+2);return e.indices=r,e.primitiveType=re.TRIANGLES,e}function g(e){if(j(e.indices))return e;var t=W.computeNumberOfVertices(e);if(t<2)throw new G("The number of vertices must be at least two.");if(t%2!==0)throw new G("The number of vertices must be a multiple of 2.");for(var r=Q.createTypedArray(t,t),n=0;n<t;++n)r[n]=n;return e.indices=r,e}function w(e){var t=W.computeNumberOfVertices(e);if(t<2)throw new G("The number of vertices must be at least two.");var r=Q.createTypedArray(t,2*(t-1));r[0]=0,r[1]=1;for(var n=2,i=2;i<t;++i)r[n++]=i-1,r[n++]=i;return e.indices=r,e.primitiveType=re.LINES,e}function v(e){var t=W.computeNumberOfVertices(e);if(t<2)throw new G("The number of vertices must be at least two.");var r=Q.createTypedArray(t,2*t);r[0]=0,r[1]=1;for(var n=2,i=2;i<t;++i)r[n++]=i-1,r[n++]=i;return r[n++]=t-1,r[n]=0,e.indices=r,e.primitiveType=re.LINES,e}function y(e){switch(e.primitiveType){case re.TRIANGLE_FAN:return p(e);case re.TRIANGLE_STRIP:return m(e);case re.TRIANGLES:return d(e);case re.LINE_STRIP:return w(e);case re.LINE_LOOP:return v(e);case re.LINES:return g(e)}return e}function _(e,t){Math.abs(e.y)<J.EPSILON6&&(t?e.y=-J.EPSILON6:e.y=J.EPSILON6)}function E(e,t,r){if(0!==e.y&&0!==t.y&&0!==r.y)return _(e,e.y<0),_(t,t.y<0),void _(r,r.y<0);var n,i=Math.abs(e.y),o=Math.abs(t.y),a=Math.abs(r.y);n=i>o?i>a?J.sign(e.y):J.sign(r.y):o>a?J.sign(t.y):J.sign(r.y);var s=n<0;_(e,s),_(t,s),_(r,s)}function b(e,t,r,n){D.add(e,D.multiplyByScalar(D.subtract(t,e,Te),e.y/(e.y-t.y),Te),r),D.clone(r,n),_(r,!0),_(n,!1)}function T(e,t,r){if(!(e.x>=0||t.x>=0||r.x>=0)){E(e,t,r);var n=e.y<0,i=t.y<0,o=r.y<0,a=0;a+=n?1:0,a+=i?1:0,a+=o?1:0;var s=Ie.indices;1===a?(s[1]=3,s[2]=4,s[5]=6,s[7]=6,s[8]=5,n?(b(e,t,xe,Se),b(e,r,Ae,Oe),s[0]=0,s[3]=1,s[4]=2,s[6]=1):i?(b(t,r,xe,Se),b(t,e,Ae,Oe),s[0]=1,s[3]=2,s[4]=0,s[6]=2):o&&(b(r,e,xe,Se),b(r,t,Ae,Oe),s[0]=2,s[3]=0,s[4]=1,s[6]=0)):2===a&&(s[2]=4,s[4]=4,s[5]=3,s[7]=5,s[8]=6,n?i?o||(b(r,e,xe,Se),b(r,t,Ae,Oe),s[0]=0,s[1]=1,s[3]=0,s[6]=2):(b(t,r,xe,Se),b(t,e,Ae,Oe),s[0]=2,s[1]=0,s[3]=2,s[6]=1):(b(e,t,xe,Se),b(e,r,Ae,Oe),s[0]=1,s[1]=2,s[3]=1,s[6]=0));var u=Ie.positions;return u[0]=e,u[1]=t,u[2]=r,u.length=3,1!==a&&2!==a||(u[3]=xe,u[4]=Ae,u[5]=Se,u[6]=Oe,u.length=7),Ie}}function x(e,t){var r=e.attributes;if(0!==r.position.values.length){for(var n in r)if(r.hasOwnProperty(n)&&j(r[n])&&j(r[n].values)){var i=r[n];i.values=U.createTypedArray(i.componentDatatype,i.values)}var o=W.computeNumberOfVertices(e);return e.indices=Q.createTypedArray(o,e.indices),t&&(e.boundingSphere=L.fromVertices(r.position.values)),e}}function A(e){var t=e.attributes,r={};for(var n in t)if(t.hasOwnProperty(n)&&j(t[n])&&j(t[n].values)){var i=t[n];r[n]=new Y({componentDatatype:i.componentDatatype,componentsPerAttribute:i.componentsPerAttribute,normalize:i.normalize,values:[]})}return new W({attributes:r,indices:[],primitiveType:e.primitiveType})}function S(e,t,r){var n=j(e.geometry.boundingSphere);t=x(t,n),r=x(r,n),j(r)&&!j(t)?e.geometry=r:!j(r)&&j(t)?e.geometry=t:(e.westHemisphereGeometry=t,e.eastHemisphereGeometry=r,e.geometry=void 0)}function O(e,t,r,n,i,o,a,s,u,l,c){if(j(o)||j(a)||j(s)||j(u)){var h=D.fromArray(i,3*e,Re),f=D.fromArray(i,3*t,Pe),d=D.fromArray(i,3*r,Ce),p=q(n,h,f,d,Me);if(j(o)){var m=D.fromArray(o,3*e,Re),g=D.fromArray(o,3*t,Pe),w=D.fromArray(o,3*r,Ce);D.multiplyByScalar(m,p.x,m),D.multiplyByScalar(g,p.y,g),D.multiplyByScalar(w,p.z,w);var v=D.add(m,g,m);D.add(v,w,v),D.normalize(v,v),D.pack(v,l.normal.values,3*c)}if(j(a)){var y=D.fromArray(a,3*e,Re),_=D.fromArray(a,3*t,Pe),E=D.fromArray(a,3*r,Ce);D.multiplyByScalar(y,p.x,y),D.multiplyByScalar(_,p.y,_),D.multiplyByScalar(E,p.z,E);var b=D.add(y,_,y);D.add(b,E,b),D.normalize(b,b),D.pack(b,l.binormal.values,3*c)}if(j(s)){var T=D.fromArray(s,3*e,Re),x=D.fromArray(s,3*t,Pe),A=D.fromArray(s,3*r,Ce);D.multiplyByScalar(T,p.x,T),D.multiplyByScalar(x,p.y,x),D.multiplyByScalar(A,p.z,A);var S=D.add(T,x,T);D.add(S,A,S),D.normalize(S,S),D.pack(S,l.tangent.values,3*c)}if(j(u)){var O=F.fromArray(u,2*e,Ne),I=F.fromArray(u,2*t,qe),R=F.fromArray(u,2*r,Le);F.multiplyByScalar(O,p.x,O),F.multiplyByScalar(I,p.y,I),F.multiplyByScalar(R,p.z,R);var P=F.add(O,I,O);F.add(P,R,P),F.pack(P,l.st.values,2*c)}}}function I(e,t,r,n,i,o){var a=e.position.values.length/3;if(i!==-1){var s=n[i],u=r[s];return u===-1?(r[s]=a,e.position.values.push(o.x,o.y,o.z),t.push(a),a):(t.push(u),u)}return e.position.values.push(o.x,o.y,o.z),t.push(a),a}function R(e){var t,r,n,i,o,a=e.geometry,s=a.attributes,u=s.position.values,l=j(s.normal)?s.normal.values:void 0,c=j(s.binormal)?s.binormal.values:void 0,h=j(s.tangent)?s.tangent.values:void 0,f=j(s.st)?s.st.values:void 0,d=a.indices,p=A(a),m=A(a),g=[];g.length=u.length/3;var w=[];for(w.length=u.length/3,o=0;o<g.length;++o)g[o]=-1,w[o]=-1;var v=d.length;for(o=0;o<v;o+=3){var y=d[o],_=d[o+1],E=d[o+2],b=D.fromArray(u,3*y),x=D.fromArray(u,3*_),R=D.fromArray(u,3*E),P=T(b,x,R);if(j(P)&&P.positions.length>3)for(var C=P.positions,M=P.indices,N=M.length,q=0;q<N;++q){var L=M[q],F=C[L];F.y<0?(t=m.attributes,r=m.indices,n=g):(t=p.attributes,r=p.indices,n=w),i=I(t,r,n,d,L<3?o+L:-1,F),O(y,_,E,F,u,l,c,h,f,t,i)}else j(P)&&(b=P.positions[0],x=P.positions[1],R=P.positions[2]),b.y<0?(t=m.attributes,r=m.indices,n=g):(t=p.attributes,r=p.indices,n=w),i=I(t,r,n,d,o,b),O(y,_,E,b,u,l,c,h,f,t,i),i=I(t,r,n,d,o+1,x),O(y,_,E,x,u,l,c,h,f,t,i),i=I(t,r,n,d,o+2,R),O(y,_,E,R,u,l,c,h,f,t,i)}S(e,m,p)}function P(e){var t,r=e.geometry,n=r.attributes,i=n.position.values,o=r.indices,a=A(r),s=A(r),u=o.length,l=[];l.length=i.length/3;var c=[];for(c.length=i.length/3,t=0;t<l.length;++t)l[t]=-1,c[t]=-1;for(t=0;t<u;t+=2){var h=o[t],f=o[t+1],d=D.fromArray(i,3*h,Re),p=D.fromArray(i,3*f,Pe);Math.abs(d.y)<J.EPSILON6&&(d.y<0?d.y=-J.EPSILON6:d.y=J.EPSILON6),Math.abs(p.y)<J.EPSILON6&&(p.y<0?p.y=-J.EPSILON6:p.y=J.EPSILON6);var m=a.attributes,g=a.indices,w=c,v=s.attributes,y=s.indices,_=l,E=K.lineSegmentPlane(d,p,Fe,Ce);if(j(E)){var b=D.multiplyByScalar(D.UNIT_Y,5*J.EPSILON9,De);d.y<0&&(D.negate(b,b),m=s.attributes,g=s.indices,w=l,v=a.attributes,y=a.indices,_=c);var T=D.add(E,b,ze);I(m,g,w,o,t,d),I(m,g,w,o,-1,T),D.negate(b,b),D.add(E,b,T),I(v,y,_,o,-1,T),I(v,y,_,o,t+1,p)}else{var x,O,R;d.y<0?(x=s.attributes,O=s.indices,R=l):(x=a.attributes,O=a.indices,R=c),I(x,O,R,o,t,d),I(x,O,R,o,t+1,p)}}S(e,s,a)}function C(e){for(var t=e.attributes,r=t.position.values,n=t.prevPosition.values,i=t.nextPosition.values,o=r.length,a=0;a<o;a+=3){var s=D.unpack(r,a,Be);if(!(s.x>0)){var u=D.unpack(n,a,je);(s.y<0&&u.y>0||s.y>0&&u.y<0)&&(a-3>0?(n[a]=r[a-3],n[a+1]=r[a-2],n[a+2]=r[a-1]):D.pack(s,n,a));var l=D.unpack(i,a,Ge);(s.y<0&&l.y>0||s.y>0&&l.y<0)&&(a+3<o?(i[a]=r[a+3],i[a+1]=r[a+4],i[a+2]=r[a+5]):D.pack(s,i,a))}}}function M(e){var t,r,n,i=e.geometry,o=i.attributes,a=o.position.values,s=o.prevPosition.values,u=o.nextPosition.values,l=o.expandAndWidth.values,c=j(o.st)?o.st.values:void 0,h=j(o.color)?o.color.values:void 0,f=A(i),d=A(i),p=!1,m=a.length/3;for(t=0;t<m;t+=4){var g=t,w=t+2,v=D.fromArray(a,3*g,Be),y=D.fromArray(a,3*w,je);if(Math.abs(v.y)<Qe)for(v.y=Qe*(y.y<0?-1:1),a[3*t+1]=v.y,a[3*(t+1)+1]=v.y,r=3*g;r<3*g+12;r+=3)s[r]=a[3*t],s[r+1]=a[3*t+1],s[r+2]=a[3*t+2];if(Math.abs(y.y)<Qe)for(y.y=Qe*(v.y<0?-1:1),a[3*(t+2)+1]=y.y,a[3*(t+3)+1]=y.y,r=3*g;r<3*g+12;r+=3)u[r]=a[3*(t+2)],u[r+1]=a[3*(t+2)+1],u[r+2]=a[3*(t+2)+2];var _=f.attributes,E=f.indices,b=d.attributes,T=d.indices,x=K.lineSegmentPlane(v,y,Fe,He);if(j(x)){p=!0;var O=D.multiplyByScalar(D.UNIT_Y,Xe,Ve);v.y<0&&(D.negate(O,O),_=d.attributes,E=d.indices,b=f.attributes,T=f.indices);var I=D.add(x,O,We);_.position.values.push(v.x,v.y,v.z,v.x,v.y,v.z),_.position.values.push(I.x,I.y,I.z),_.position.values.push(I.x,I.y,I.z),_.prevPosition.values.push(s[3*g],s[3*g+1],s[3*g+2]),_.prevPosition.values.push(s[3*g+3],s[3*g+4],s[3*g+5]),_.prevPosition.values.push(v.x,v.y,v.z,v.x,v.y,v.z),_.nextPosition.values.push(I.x,I.y,I.z),_.nextPosition.values.push(I.x,I.y,I.z),_.nextPosition.values.push(I.x,I.y,I.z),_.nextPosition.values.push(I.x,I.y,I.z),D.negate(O,O),D.add(x,O,I),b.position.values.push(I.x,I.y,I.z),b.position.values.push(I.x,I.y,I.z),b.position.values.push(y.x,y.y,y.z,y.x,y.y,y.z),b.prevPosition.values.push(I.x,I.y,I.z),b.prevPosition.values.push(I.x,I.y,I.z),b.prevPosition.values.push(I.x,I.y,I.z),b.prevPosition.values.push(I.x,I.y,I.z),b.nextPosition.values.push(y.x,y.y,y.z,y.x,y.y,y.z),b.nextPosition.values.push(u[3*w],u[3*w+1],u[3*w+2]),b.nextPosition.values.push(u[3*w+3],u[3*w+4],u[3*w+5]);var R=F.fromArray(l,2*g,ke),P=Math.abs(R.y);_.expandAndWidth.values.push(-1,P,1,P),_.expandAndWidth.values.push(-1,-P,1,-P),b.expandAndWidth.values.push(-1,P,1,P),b.expandAndWidth.values.push(-1,-P,1,-P);var M=D.magnitudeSquared(D.subtract(x,v,Ge));if(M/=D.magnitudeSquared(D.subtract(y,v,Ge)),j(h)){var N=z.fromArray(h,4*g,Ye),q=z.fromArray(h,4*w,Ye),L=J.lerp(N.x,q.x,M),k=J.lerp(N.y,q.y,M),U=J.lerp(N.z,q.z,M),B=J.lerp(N.w,q.w,M);for(r=4*g;r<4*g+8;++r)_.color.values.push(h[r]);for(_.color.values.push(L,k,U,B),_.color.values.push(L,k,U,B),b.color.values.push(L,k,U,B),b.color.values.push(L,k,U,B),r=4*w;r<4*w+8;++r)b.color.values.push(h[r])}if(j(c)){var G=F.fromArray(c,2*g,ke),H=F.fromArray(c,2*(t+3),Ue),V=J.lerp(G.x,H.x,M);for(r=2*g;r<2*g+4;++r)_.st.values.push(c[r]);for(_.st.values.push(V,G.y),_.st.values.push(V,H.y),b.st.values.push(V,G.y),b.st.values.push(V,H.y),r=2*w;r<2*w+4;++r)b.st.values.push(c[r])}n=_.position.values.length/3-4,E.push(n,n+2,n+1),E.push(n+1,n+2,n+3),n=b.position.values.length/3-4,T.push(n,n+2,n+1),T.push(n+1,n+2,n+3)}else{var W,Y;for(v.y<0?(W=d.attributes,Y=d.indices):(W=f.attributes,Y=f.indices),W.position.values.push(v.x,v.y,v.z),W.position.values.push(v.x,v.y,v.z),W.position.values.push(y.x,y.y,y.z),W.position.values.push(y.x,y.y,y.z),r=3*t;r<3*t+12;++r)W.prevPosition.values.push(s[r]),W.nextPosition.values.push(u[r]);for(r=2*t;r<2*t+8;++r)W.expandAndWidth.values.push(l[r]),j(c)&&W.st.values.push(c[r]);if(j(h))for(r=4*t;r<4*t+16;++r)W.color.values.push(h[r]);n=W.position.values.length/3-4,Y.push(n,n+2,n+1),Y.push(n+1,n+2,n+3)}}p&&(C(d),C(f)),S(e,d,f)}var N=r(81),q=r(73),L=r(7),F=r(9),D=r(4),z=r(24),k=r(15),U=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),B=r(3),j=r(1),G=r(2),H=r(148),V=r(27),W=r(10),Y=r(11),X=r(59),Q=r(14),Z=r(34),K=r(52),J=r(5),$=r(17),ee=r(19),te=r(39),re=r(12),ne=r(191),ie={};ie.toWireframe=function(e){if(!j(e))throw new G("geometry is required.");var t=e.indices;if(j(t)){switch(e.primitiveType){case re.TRIANGLES:e.indices=i(t);break;case re.TRIANGLE_STRIP:e.indices=o(t);break;case re.TRIANGLE_FAN:e.indices=a(t);break;default:throw new G("geometry.primitiveType must be TRIANGLES, TRIANGLE_STRIP, or TRIANGLE_FAN.")}e.primitiveType=re.LINES}return e},ie.createLineSegmentsForVectors=function(e,t,r){if(t=B(t,"normal"),!j(e))throw new G("geometry is required.");if(!j(e.attributes.position))throw new G("geometry.attributes.position is required.");if(!j(e.attributes[t]))throw new G("geometry.attributes must have an attribute with the same name as the attributeName parameter, "+t+".");r=B(r,1e4);for(var n=e.attributes.position.values,i=e.attributes[t].values,o=n.length,a=new Float64Array(2*o),s=0,u=0;u<o;u+=3)a[s++]=n[u],a[s++]=n[u+1],a[s++]=n[u+2],a[s++]=n[u]+i[u]*r,a[s++]=n[u+1]+i[u+1]*r,a[s++]=n[u+2]+i[u+2]*r;var l,c=e.boundingSphere;return j(c)&&(l=new L(c.center,c.radius+r)),new W({attributes:{position:new Y({componentDatatype:U.DOUBLE,componentsPerAttribute:3,values:a})},primitiveType:re.LINES,boundingSphere:l})},ie.createAttributeLocations=function(e){if(!j(e))throw new G("geometry is required.");var t,r=["position","positionHigh","positionLow","position3DHigh","position3DLow","position2DHigh","position2DLow","pickColor","normal","st","binormal","tangent","compressedAttributes"],n=e.attributes,i={},o=0,a=r.length;for(t=0;t<a;++t){var s=r[t];j(n[s])&&(i[s]=o++)}for(var u in n)n.hasOwnProperty(u)&&!j(i[u])&&(i[u]=o++);return i},ie.reorderForPreVertexCache=function(e){if(!j(e))throw new G("geometry is required.");var t=W.computeNumberOfVertices(e),r=e.indices;if(j(r)){for(var n=new Int32Array(t),i=0;i<t;i++)n[i]=-1;for(var o,a=r,s=a.length,u=Q.createTypedArray(t,s),l=0,c=0,h=0;l<s;)o=n[a[l]],o!==-1?u[c]=o:(o=a[l],n[o]=h,u[c]=h,++h),++l,++c;e.indices=u;var f=e.attributes;for(var d in f)if(f.hasOwnProperty(d)&&j(f[d])&&j(f[d].values)){for(var p=f[d],m=p.values,g=0,w=p.componentsPerAttribute,v=U.createTypedArray(p.componentDatatype,h*w);g<t;){var y=n[g];if(y!==-1)for(i=0;i<w;i++)v[w*y+i]=m[w*g+i];++g}p.values=v}}return e},ie.reorderForPostVertexCache=function(e,t){if(!j(e))throw new G("geometry is required.");var r=e.indices;if(e.primitiveType===re.TRIANGLES&&j(r)){for(var n=r.length,i=0,o=0;o<n;o++)r[o]>i&&(i=r[o]);e.indices=ne.tipsify({indices:r,maximumIndex:i,cacheSize:t})}return e},ie.fitToUnsignedShortIndices=function(e){if(!j(e))throw new G("geometry is required.");if(j(e.indices)&&e.primitiveType!==re.TRIANGLES&&e.primitiveType!==re.LINES&&e.primitiveType!==re.POINTS)throw new G("geometry.primitiveType must equal to PrimitiveType.TRIANGLES, PrimitiveType.LINES, or PrimitiveType.POINTS.");var t=[],r=W.computeNumberOfVertices(e);if(j(e.indices)&&r>=J.SIXTY_FOUR_KILOBYTES){var n,i=[],o=[],a=0,l=s(e.attributes),c=e.indices,h=c.length;e.primitiveType===re.TRIANGLES?n=3:e.primitiveType===re.LINES?n=2:e.primitiveType===re.POINTS&&(n=1);for(var f=0;f<h;f+=n){for(var d=0;d<n;++d){var p=c[f+d],m=i[p];j(m)||(m=a++,i[p]=m,u(l,e.attributes,p)),o.push(m)}a+n>=J.SIXTY_FOUR_KILOBYTES&&(t.push(new W({attributes:l,indices:o,primitiveType:e.primitiveType,boundingSphere:e.boundingSphere,boundingSphereCV:e.boundingSphereCV})),i=[],o=[],a=0,l=s(e.attributes))}0!==o.length&&t.push(new W({attributes:l,indices:o,primitiveType:e.primitiveType,boundingSphere:e.boundingSphere,boundingSphereCV:e.boundingSphereCV}))}else t.push(e);return t};var oe=new D,ae=new k;ie.projectTo2D=function(e,t,r,n,i){if(!j(e))throw new G("geometry is required.");if(!j(t))throw new G("attributeName is required.");if(!j(r))throw new G("attributeName3D is required.");if(!j(n))throw new G("attributeName2D is required.");if(!j(e.attributes[t]))throw new G("geometry must have attribute matching the attributeName argument: "+t+".");if(e.attributes[t].componentDatatype!==U.DOUBLE)throw new G("The attribute componentDatatype must be ComponentDatatype.DOUBLE.");var o=e.attributes[t];i=j(i)?i:new V;for(var a=i.ellipsoid,s=o.values,u=new Float64Array(s.length),l=0,c=0;c<s.length;c+=3){var h=D.fromArray(s,c,oe),f=a.cartesianToCartographic(h,ae);if(!j(f))throw new G("Could not project point ("+h.x+", "+h.y+", "+h.z+") to 2D.");var d=i.project(f,oe);u[l++]=d.x,u[l++]=d.y,u[l++]=d.z}return e.attributes[r]=o,e.attributes[n]=new Y({componentDatatype:U.DOUBLE,componentsPerAttribute:3,values:u}),delete e.attributes[t],e};var se={high:0,low:0};ie.encodeAttribute=function(e,t,r,n){if(!j(e))throw new G("geometry is required.");if(!j(t))throw new G("attributeName is required.");if(!j(r))throw new G("attributeHighName is required.");if(!j(n))throw new G("attributeLowName is required.");if(!j(e.attributes[t]))throw new G("geometry must have attribute matching the attributeName argument: "+t+".");if(e.attributes[t].componentDatatype!==U.DOUBLE)throw new G("The attribute componentDatatype must be ComponentDatatype.DOUBLE.");for(var i=e.attributes[t],o=i.values,a=o.length,s=new Float32Array(a),u=new Float32Array(a),l=0;l<a;++l)H.encode(o[l],se),s[l]=se.high,u[l]=se.low;var c=i.componentsPerAttribute;return e.attributes[r]=new Y({componentDatatype:U.FLOAT,componentsPerAttribute:c,values:s}),e.attributes[n]=new Y({componentDatatype:U.FLOAT,componentsPerAttribute:c,values:u}),delete e.attributes[t],e};var ue=new D,le=new ee,ce=new $;ie.transformToWorldCoordinates=function(e){if(!j(e))throw new G("instance is required.");var t=e.modelMatrix;if(ee.equals(t,ee.IDENTITY))return e;var r=e.geometry.attributes;l(t,r.position),l(t,r.prevPosition),l(t,r.nextPosition),(j(r.normal)||j(r.binormal)||j(r.tangent))&&(ee.inverse(t,le),ee.transpose(le,le),ee.getRotation(le,ce),c(ce,r.normal),c(ce,r.binormal),c(ce,r.tangent));var n=e.geometry.boundingSphere;return j(n)&&(e.geometry.boundingSphere=L.transform(n,t,n)),e.modelMatrix=ee.clone(ee.IDENTITY),e};var he=new D;ie.combineInstances=function(e){if(!j(e)||e.length<1)throw new G("instances is required and must have length greater than zero.");for(var t=[],r=[],n=e.length,i=0;i<n;++i){var o=e[i];j(o.geometry)?t.push(o):j(o.westHemisphereGeometry)&&j(o.eastHemisphereGeometry)&&r.push(o)}var a=[];return t.length>0&&a.push(f(t,"geometry")),r.length>0&&(a.push(f(r,"westHemisphereGeometry")),a.push(f(r,"eastHemisphereGeometry"))),a};var fe=new D,de=new D,pe=new D,me=new D;ie.computeNormal=function(e){if(!j(e))throw new G("geometry is required.");if(!j(e.attributes.position)||!j(e.attributes.position.values))throw new G("geometry.attributes.position.values is required.");if(!j(e.indices))throw new G("geometry.indices is required.");if(e.indices.length<2||e.indices.length%3!==0)throw new G("geometry.indices length must be greater than 0 and be a multiple of 3.");if(e.primitiveType!==re.TRIANGLES)throw new G("geometry.primitiveType must be PrimitiveType.TRIANGLES.");for(var t=e.indices,r=e.attributes,n=r.position.values,i=r.position.values.length/3,o=t.length,a=new Array(i),s=new Array(o/3),u=new Array(o),l=0;l<i;l++)a[l]={indexOffset:0,count:0,currentCount:0};var c=0;for(l=0;l<o;l+=3){var h=t[l],f=t[l+1],d=t[l+2],p=3*h,m=3*f,g=3*d;de.x=n[p],de.y=n[p+1],de.z=n[p+2],pe.x=n[m],pe.y=n[m+1],pe.z=n[m+2],me.x=n[g],me.y=n[g+1],me.z=n[g+2],a[h].count++,a[f].count++,a[d].count++,D.subtract(pe,de,pe),D.subtract(me,de,me),s[c]=D.cross(pe,me,new D),c++}var w=0;for(l=0;l<i;l++)a[l].indexOffset+=w,w+=a[l].count;c=0;var v;for(l=0;l<o;l+=3){v=a[t[l]];var y=v.indexOffset+v.currentCount;u[y]=c,v.currentCount++,v=a[t[l+1]],y=v.indexOffset+v.currentCount,u[y]=c,v.currentCount++,v=a[t[l+2]],y=v.indexOffset+v.currentCount,u[y]=c,v.currentCount++,c++}var _=new Float32Array(3*i);for(l=0;l<i;l++){var E=3*l;if(v=a[l],v.count>0){for(D.clone(D.ZERO,fe),c=0;c<v.count;c++)D.add(fe,s[u[v.indexOffset+c]],fe);D.normalize(fe,fe),_[E]=fe.x,_[E+1]=fe.y,_[E+2]=fe.z}else _[E]=0,_[E+1]=0,_[E+2]=1}return e.attributes.normal=new Y({componentDatatype:U.FLOAT,componentsPerAttribute:3,values:_}),e};var ge=new D,we=new D,ve=new D;ie.computeBinormalAndTangent=function(e){if(!j(e))throw new G("geometry is required.");var t=e.attributes,r=e.indices;if(!j(t.position)||!j(t.position.values))throw new G("geometry.attributes.position.values is required.");if(!j(t.normal)||!j(t.normal.values))throw new G("geometry.attributes.normal.values is required.");if(!j(t.st)||!j(t.st.values))throw new G("geometry.attributes.st.values is required.");if(!j(r))throw new G("geometry.indices is required.");if(r.length<2||r.length%3!==0)throw new G("geometry.indices length must be greater than 0 and be a multiple of 3.");if(e.primitiveType!==re.TRIANGLES)throw new G("geometry.primitiveType must be PrimitiveType.TRIANGLES.");for(var n=e.attributes.position.values,i=e.attributes.normal.values,o=e.attributes.st.values,a=e.attributes.position.values.length/3,s=r.length,u=new Array(3*a),l=0;l<u.length;l++)u[l]=0;var c,h,f;for(l=0;l<s;l+=3){var d=r[l],p=r[l+1],m=r[l+2];c=3*d,h=3*p,f=3*m;var g=2*d,w=2*p,v=2*m,y=n[c],_=n[c+1],E=n[c+2],b=o[g],T=o[g+1],x=o[w+1]-T,A=o[v+1]-T,S=1/((o[w]-b)*A-(o[v]-b)*x),O=(A*(n[h]-y)-x*(n[f]-y))*S,I=(A*(n[h+1]-_)-x*(n[f+1]-_))*S,R=(A*(n[h+2]-E)-x*(n[f+2]-E))*S;u[c]+=O,u[c+1]+=I,u[c+2]+=R,u[h]+=O,u[h+1]+=I,u[h+2]+=R,u[f]+=O,u[f+1]+=I,u[f+2]+=R}var P=new Float32Array(3*a),C=new Float32Array(3*a);for(l=0;l<a;l++){c=3*l,h=c+1,f=c+2;var M=D.fromArray(i,c,ge),N=D.fromArray(u,c,ve),q=D.dot(M,N);D.multiplyByScalar(M,q,we),D.normalize(D.subtract(N,we,N),N),C[c]=N.x,C[h]=N.y,C[f]=N.z,D.normalize(D.cross(M,N,N),N),P[c]=N.x,P[h]=N.y,P[f]=N.z}return e.attributes.tangent=new Y({componentDatatype:U.FLOAT,componentsPerAttribute:3,values:C}),e.attributes.binormal=new Y({componentDatatype:U.FLOAT,componentsPerAttribute:3,values:P}),e};var ye=new F,_e=new D,Ee=new D,be=new D;ie.compressVertices=function(e){if(!j(e))throw new G("geometry is required.");var t=e.attributes.normal,r=e.attributes.st;if(!j(t)&&!j(r))return e;var n,i,o,a,s=e.attributes.tangent,u=e.attributes.binormal;j(t)&&(n=t.values),j(r)&&(i=r.values),j(s)&&(o=s.values),u&&(a=u.values);var l=j(n)?n.length:i.length,c=j(n)?3:2,h=l/c,f=h,d=j(i)&&j(n)?2:1;d+=j(o)||j(a)?1:0,f*=d;for(var p=new Float32Array(f),m=0,g=0;g<h;++g){j(i)&&(F.fromArray(i,2*g,ye),p[m++]=N.compressTextureCoordinates(ye));var w=3*g;j(n)&&j(o)&&j(a)?(D.fromArray(n,w,_e),D.fromArray(o,w,Ee),D.fromArray(a,w,be),N.octPack(_e,Ee,be,ye),p[m++]=ye.x,p[m++]=ye.y):(j(n)&&(D.fromArray(n,w,_e),p[m++]=N.octEncodeFloat(_e)),j(o)&&(D.fromArray(o,w,_e),p[m++]=N.octEncodeFloat(_e)),j(a)&&(D.fromArray(a,w,_e),p[m++]=N.octEncodeFloat(_e)))}return e.attributes.compressedAttributes=new Y({componentDatatype:U.FLOAT,componentsPerAttribute:d,values:p}),j(n)&&delete e.attributes.normal,j(i)&&delete e.attributes.st,j(o)&&delete e.attributes.tangent,j(a)&&delete e.attributes.binormal,e};var Te=new D,xe=new D,Ae=new D,Se=new D,Oe=new D,Ie={positions:new Array(7),indices:new Array(9)},Re=new D,Pe=new D,Ce=new D,Me=new D,Ne=new F,qe=new F,Le=new F,Fe=te.fromPointNormal(D.ZERO,D.UNIT_Y),De=new D,ze=new D,ke=new F,Ue=new F,Be=new D,je=new D,Ge=new D,He=new D,Ve=new D,We=new D,Ye=new z,Xe=5*J.EPSILON9,Qe=J.EPSILON6;ie.splitLongitude=function(e){if(!j(e))throw new G("instance is required.");var t=e.geometry,r=t.boundingSphere;if(j(r)){var n=r.center.x-r.radius;if(n>0||L.intersectPlane(r,te.ORIGIN_ZX_PLANE)!==Z.INTERSECTING)return e}if(t.geometryType!==X.NONE)switch(t.geometryType){case X.POLYLINES:M(e);break;case X.TRIANGLES:R(e);break;case X.LINES:P(e)}else y(t),t.primitiveType===re.TRIANGLES?R(e):t.primitiveType===re.LINES&&P(e);return e},e.exports=ie},function(e,t,r){"use strict";function n(e,t,r){if(!o(t))throw new a("equalsEpsilon is required.");if(o(e)){r=i(r,!1);var n=e.length;if(n<2)return e;var s,l,c;for(s=1;s<n&&(l=e[s-1],c=e[s],!t(l,c,u));++s);if(s===n)return r&&t(e[0],e[e.length-1],u)?e.slice(1):e;for(var h=e.slice(0,s);s<n;++s)c=e[s],t(l,c,u)||(h.push(c),l=c);return r&&h.length>1&&t(h[0],h[h.length-1],u)&&h.shift(),h}}var i=r(3),o=r(1),a=r(2),s=r(5),u=s.EPSILON10;e.exports=n},function(e,t,r){var n,i,o;/*!
	 * URI.js - Mutating URLs
	 *
	 * Version: 1.18.4
	 *
	 * Author: Rodney Rehm
	 * Web: http://medialize.github.io/URI.js/
	 *
	 * Licensed under
	 *   MIT License http://www.opensource.org/licenses/mit-license
	 *
	 */
!function(a,s){"use strict";"object"==typeof e&&e.exports?e.exports=s(r(224),r(222),r(223)):(i=[r(224),r(222),r(223)],n=s,o="function"==typeof n?n.apply(t,i):n,!(void 0!==o&&(e.exports=o)))}(this,function(e,t,r,n){"use strict";function i(e,t){var r=arguments.length>=1,n=arguments.length>=2;if(!(this instanceof i))return r?n?new i(e,t):new i(e):new i;if(void 0===e){if(r)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}return this.href(e),void 0!==t?this.absoluteTo(t):this}function o(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function a(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function s(e){return"Array"===a(e)}function u(e,t){var r,n,i={};if("RegExp"===a(t))i=null;else if(s(t))for(r=0,n=t.length;r<n;r++)i[t[r]]=!0;else i[t]=!0;for(r=0,n=e.length;r<n;r++){var o=i&&void 0!==i[e[r]]||!i&&t.test(e[r]);o&&(e.splice(r,1),n--,r--)}return e}function l(e,t){var r,n;if(s(t)){for(r=0,n=t.length;r<n;r++)if(!l(e,t[r]))return!1;return!0}var i=a(t);for(r=0,n=e.length;r<n;r++)if("RegExp"===i){if("string"==typeof e[r]&&e[r].match(t))return!0}else if(e[r]===t)return!0;return!1}function c(e,t){if(!s(e)||!s(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function h(e){var t=/^\/+|\/+$/g;return e.replace(t,"")}function f(e){return escape(e)}function d(e){return encodeURIComponent(e).replace(/[!'()*]/g,f).replace(/\*/g,"%2A")}function p(e){return function(t,r){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!r),this)}}function m(e,t){return function(r,n){return void 0===r?this._parts[e]||"":(null!==r&&(r+="",r.charAt(0)===t&&(r=r.substring(1))),this._parts[e]=r,this.build(!n),this)}}var g=n&&n.URI;i.version="1.18.4";var w=i.prototype,v=Object.prototype.hasOwnProperty;i._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:i.duplicateQueryParameters,escapeQuerySpace:i.escapeQuerySpace}},i.duplicateQueryParameters=!1,i.escapeQuerySpace=!0,i.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,i.idn_expression=/[^a-z0-9\.-]/i,i.punycode_expression=/(xn--)/i,i.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,i.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/gi,i.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},i.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},i.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,i.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},i.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return i.domAttributes[t]}},i.encode=d,i.decode=decodeURIComponent,i.iso8859=function(){i.encode=escape,i.decode=unescape},i.unicode=function(){i.encode=d,i.decode=decodeURIComponent},i.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},i.encodeQuery=function(e,t){var r=i.encode(e+"");return void 0===t&&(t=i.escapeQuerySpace),t?r.replace(/%20/g,"+"):r},i.decodeQuery=function(e,t){e+="",void 0===t&&(t=i.escapeQuerySpace);try{return i.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var y,_={encode:"encode",decode:"decode"},E=function(e,t){return function(r){try{return i[t](r+"").replace(i.characters[e][t].expression,function(r){return i.characters[e][t].map[r]})}catch(e){return r}}};for(y in _)i[y+"PathSegment"]=E("pathname",_[y]),i[y+"UrnPathSegment"]=E("urnpath",_[y]);var b=function(e,t,r){return function(n){var o;o=r?function(e){return i[t](i[r](e))}:i[t];for(var a=(n+"").split(e),s=0,u=a.length;s<u;s++)a[s]=o(a[s]);return a.join(e)}};i.decodePath=b("/","decodePathSegment"),i.decodeUrnPath=b(":","decodeUrnPathSegment"),i.recodePath=b("/","encodePathSegment","decode"),i.recodeUrnPath=b(":","encodeUrnPathSegment","decode"),i.encodeReserved=E("reserved","encode"),i.parse=function(e,t){var r;return t||(t={}),r=e.indexOf("#"),r>-1&&(t.fragment=e.substring(r+1)||null,e=e.substring(0,r)),r=e.indexOf("?"),r>-1&&(t.query=e.substring(r+1)||null,e=e.substring(0,r)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=i.parseAuthority(e,t)):(r=e.indexOf(":"),r>-1&&(t.protocol=e.substring(0,r)||null,t.protocol&&!t.protocol.match(i.protocol_expression)?t.protocol=void 0:"//"===e.substring(r+1,r+3)?(e=e.substring(r+3),e=i.parseAuthority(e,t)):(e=e.substring(r+1),t.urn=!0))),t.path=e,t},i.parseHost=function(e,t){e=e.replace(/\\/g,"/");var r,n,i=e.indexOf("/");if(i===-1&&(i=e.length),"["===e.charAt(0))r=e.indexOf("]"),t.hostname=e.substring(1,r)||null,t.port=e.substring(r+2,i)||null,"/"===t.port&&(t.port=null);else{var o=e.indexOf(":"),a=e.indexOf("/"),s=e.indexOf(":",o+1);s!==-1&&(a===-1||s<a)?(t.hostname=e.substring(0,i)||null,t.port=null):(n=e.substring(0,i).split(":"),t.hostname=n[0]||null,t.port=n[1]||null)}return t.hostname&&"/"!==e.substring(i).charAt(0)&&(i++,e="/"+e),e.substring(i)||"/"},i.parseAuthority=function(e,t){return e=i.parseUserinfo(e,t),i.parseHost(e,t)},i.parseUserinfo=function(e,t){var r,n=e.indexOf("/"),o=e.lastIndexOf("@",n>-1?n:e.length-1);return o>-1&&(n===-1||o<n)?(r=e.substring(0,o).split(":"),t.username=r[0]?i.decode(r[0]):null,r.shift(),t.password=r[0]?i.decode(r.join(":")):null,e=e.substring(o+1)):(t.username=null,t.password=null),e},i.parseQuery=function(e,t){if(!e)return{};if(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!e)return{};for(var r,n,o,a={},s=e.split("&"),u=s.length,l=0;l<u;l++)r=s[l].split("="),n=i.decodeQuery(r.shift(),t),o=r.length?i.decodeQuery(r.join("="),t):null,v.call(a,n)?("string"!=typeof a[n]&&null!==a[n]||(a[n]=[a[n]]),a[n].push(o)):a[n]=o;return a},i.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=i.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},i.buildHost=function(e){var t="";return e.hostname?(t+=i.ip6_expression.test(e.hostname)?"["+e.hostname+"]":e.hostname,e.port&&(t+=":"+e.port),t):""},i.buildAuthority=function(e){return i.buildUserinfo(e)+i.buildHost(e)},i.buildUserinfo=function(e){var t="";return e.username&&(t+=i.encode(e.username)),e.password&&(t+=":"+i.encode(e.password)),t&&(t+="@"),t},i.buildQuery=function(e,t,r){var n,o,a,u,l="";for(o in e)if(v.call(e,o)&&o)if(s(e[o]))for(n={},a=0,u=e[o].length;a<u;a++)void 0!==e[o][a]&&void 0===n[e[o][a]+""]&&(l+="&"+i.buildQueryParameter(o,e[o][a],r),t!==!0&&(n[e[o][a]+""]=!0));else void 0!==e[o]&&(l+="&"+i.buildQueryParameter(o,e[o],r));return l.substring(1)},i.buildQueryParameter=function(e,t,r){return i.encodeQuery(e,r)+(null!==t?"="+i.encodeQuery(t,r):"")},i.addQuery=function(e,t,r){if("object"==typeof t)for(var n in t)v.call(t,n)&&i.addQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=r);"string"==typeof e[t]&&(e[t]=[e[t]]),s(r)||(r=[r]),e[t]=(e[t]||[]).concat(r)}},i.removeQuery=function(e,t,r){var n,o,l;if(s(t))for(n=0,o=t.length;n<o;n++)e[t[n]]=void 0;else if("RegExp"===a(t))for(l in e)t.test(l)&&(e[l]=void 0);else if("object"==typeof t)for(l in t)v.call(t,l)&&i.removeQuery(e,l,t[l]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==r?"RegExp"===a(r)?!s(e[t])&&r.test(e[t])?e[t]=void 0:e[t]=u(e[t],r):e[t]!==String(r)||s(r)&&1!==r.length?s(e[t])&&(e[t]=u(e[t],r)):e[t]=void 0:e[t]=void 0}},i.hasQuery=function(e,t,r,n){switch(a(t)){case"String":break;case"RegExp":for(var o in e)if(v.call(e,o)&&t.test(o)&&(void 0===r||i.hasQuery(e,o,r)))return!0;return!1;case"Object":for(var u in t)if(v.call(t,u)&&!i.hasQuery(e,u,t[u]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(a(r)){case"Undefined":return t in e;case"Boolean":var h=Boolean(s(e[t])?e[t].length:e[t]);return r===h;case"Function":return!!r(e[t],t,e);case"Array":if(!s(e[t]))return!1;var f=n?l:c;return f(e[t],r);case"RegExp":return s(e[t])?!!n&&l(e[t],r):Boolean(e[t]&&e[t].match(r));case"Number":r=String(r);case"String":return s(e[t])?!!n&&l(e[t],r):e[t]===r;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},i.joinPaths=function(){for(var e=[],t=[],r=0,n=0;n<arguments.length;n++){var o=new i(arguments[n]);e.push(o);for(var a=o.segment(),s=0;s<a.length;s++)"string"==typeof a[s]&&t.push(a[s]),a[s]&&r++}if(!t.length||!r)return new i("");var u=new i("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||u.path("/"+u.path()),u.normalize()},i.commonPath=function(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r)){r--;break}return r<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(r)&&"/"===t.charAt(r)||(r=e.substring(0,r).lastIndexOf("/")),e.substring(0,r+1))},i.withinString=function(e,t,r){r||(r={});var n=r.start||i.findUri.start,o=r.end||i.findUri.end,a=r.trim||i.findUri.trim,s=r.parens||i.findUri.parens,u=/[a-z0-9-]=["']?$/i;for(n.lastIndex=0;;){var l=n.exec(e);if(!l)break;var c=l.index;if(r.ignoreHtml){var h=e.slice(Math.max(c-3,0),c);if(h&&u.test(h))continue}for(var f=c+e.slice(c).search(o),d=e.slice(c,f),p=-1;;){var m=s.exec(d);if(!m)break;var g=m.index+m[0].length;p=Math.max(p,g)}if(d=p>-1?d.slice(0,p)+d.slice(p+1).replace(a,""):d.replace(a,""),!r.ignore||!r.ignore.test(d)){f=c+d.length;var w=t(d,c,f,e);void 0!==w?(w=String(w),e=e.slice(0,c)+w+e.slice(f),n.lastIndex=c+w.length):n.lastIndex=f}}return n.lastIndex=0,e},i.ensureValidHostname=function(t){if(t.match(i.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(e.toASCII(t).match(i.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]')}},i.noConflict=function(e){if(e){var t={URI:this.noConflict()};return n.URITemplate&&"function"==typeof n.URITemplate.noConflict&&(t.URITemplate=n.URITemplate.noConflict()),n.IPv6&&"function"==typeof n.IPv6.noConflict&&(t.IPv6=n.IPv6.noConflict()),n.SecondLevelDomains&&"function"==typeof n.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=n.SecondLevelDomains.noConflict()),t}return n.URI===this&&(n.URI=g),this},w.build=function(e){return e===!0?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=i.build(this._parts),this._deferred_build=!1),this},w.clone=function(){return new i(this)},w.valueOf=w.toString=function(){return this.build(!1)._string},w.protocol=p("protocol"),w.username=p("username"),w.password=p("password"),w.hostname=p("hostname"),w.port=p("port"),w.query=m("query","?"),w.fragment=m("fragment","#"),w.search=function(e,t){var r=this.query(e,t);return"string"==typeof r&&r.length?"?"+r:r},w.hash=function(e,t){var r=this.fragment(e,t);return"string"==typeof r&&r.length?"#"+r:r},w.pathname=function(e,t){if(void 0===e||e===!0){var r=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?i.decodeUrnPath:i.decodePath)(r):r}return this._parts.urn?this._parts.path=e?i.recodeUrnPath(e):"":this._parts.path=e?i.recodePath(e):"/",this.build(!t),this},w.path=w.pathname,w.href=function(e,t){var r;if(void 0===e)return this.toString();this._string="",this._parts=i._parts();var n=e instanceof i,o="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName){var a=i.getDomAttribute(e);e=e[a]||"",o=!1}if(!n&&o&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=i.parse(String(e),this._parts);else{if(!n&&!o)throw new TypeError("invalid input");var s=n?e._parts:e;for(r in s)v.call(this._parts,r)&&(this._parts[r]=s[r])}return this.build(!t),this},w.is=function(e){var t=!1,n=!1,o=!1,a=!1,s=!1,u=!1,l=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,n=i.ip4_expression.test(this._parts.hostname),o=i.ip6_expression.test(this._parts.hostname),t=n||o,a=!t,s=a&&r&&r.has(this._parts.hostname),u=a&&i.idn_expression.test(this._parts.hostname),l=a&&i.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return a;case"sld":return s;case"ip":return t;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return o;case"idn":return u;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return l}return null};var T=w.protocol,x=w.port,A=w.hostname;w.protocol=function(e,t){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(i.protocol_expression)))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return T.call(this,e,t)},w.scheme=w.protocol,w.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError('Port "'+e+'" contains characters other than [0-9]');return x.call(this,e,t)},w.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var r={},n=i.parseHost(e,r);if("/"!==n)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=r.hostname}return A.call(this,e,t)},w.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var r=this.protocol(),n=this.authority();return n?(r?r+"://":"")+this.authority():""}var o=i(e);return this.protocol(o.protocol()).authority(o.authority()).build(!t),this},w.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?i.buildHost(this._parts):"";var r=i.parseHost(e,this._parts);if("/"!==r)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},w.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?i.buildAuthority(this._parts):"";var r=i.parseAuthority(e,this._parts);if("/"!==r)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},w.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var r=i.buildUserinfo(this._parts);return r?r.substring(0,r.length-1):r}return"@"!==e[e.length-1]&&(e+="@"),i.parseUserinfo(e,this._parts),this.build(!t),this},w.resource=function(e,t){var r;return void 0===e?this.path()+this.search()+this.hash():(r=i.parse(e),this._parts.path=r.path,this._parts.query=r.query,this._parts.fragment=r.fragment,this.build(!t),this)},w.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,r)||""}var n=this._parts.hostname.length-this.domain().length,a=this._parts.hostname.substring(0,n),s=new RegExp("^"+o(a));return e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&i.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(s,e),this.build(!t),this},w.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.match(/\./g);if(r&&r.length<2)return this._parts.hostname;var n=this._parts.hostname.length-this.tld(t).length-1;return n=this._parts.hostname.lastIndexOf(".",n-1)+1,this._parts.hostname.substring(n)||""}if(!e)throw new TypeError("cannot set domain empty");if(i.ensureValidHostname(e),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var a=new RegExp(o(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(a,e)}return this.build(!t),this},w.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf("."),i=this._parts.hostname.substring(n+1);return t!==!0&&r&&r.list[i.toLowerCase()]?r.get(this._parts.hostname)||i:i}var a;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');a=new RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");a=new RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,e)}return this.build(!t),this},w.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var r=this._parts.path.length-this.filename().length-1,n=this._parts.path.substring(0,r)||(this._parts.hostname?"/":"");return e?i.decodePath(n):n}var a=this._parts.path.length-this.filename().length,s=this._parts.path.substring(0,a),u=new RegExp("^"+o(s));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=i.recodePath(e),this._parts.path=this._parts.path.replace(u,e),this.build(!t),this},w.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var r=this._parts.path.lastIndexOf("/"),n=this._parts.path.substring(r+1);return e?i.decodePathSegment(n):n}var a=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(a=!0);var s=new RegExp(o(this.filename())+"$");return e=i.recodePath(e),this._parts.path=this._parts.path.replace(s,e),a?this.normalizePath(t):this.build(!t),this},w.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var r,n,a=this.filename(),s=a.lastIndexOf(".");return s===-1?"":(r=a.substring(s+1),n=/^[a-z0-9%]+$/i.test(r)?r:"",e?i.decodePathSegment(n):n)}"."===e.charAt(0)&&(e=e.substring(1));var u,l=this.suffix();if(l)u=e?new RegExp(o(l)+"$"):new RegExp(o("."+l)+"$");else{if(!e)return this;this._parts.path+="."+i.recodePath(e)}return u&&(e=i.recodePath(e),this._parts.path=this._parts.path.replace(u,e)),this.build(!t),this},w.segment=function(e,t,r){var n=this._parts.urn?":":"/",i=this.path(),o="/"===i.substring(0,1),a=i.split(n);if(void 0!==e&&"number"!=typeof e&&(r=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(o&&a.shift(),e<0&&(e=Math.max(a.length+e,0)),void 0===t)return void 0===e?a:a[e];if(null===e||void 0===a[e])if(s(t)){a=[];for(var u=0,l=t.length;u<l;u++)(t[u].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(h(t[u])))}else(t||"string"==typeof t)&&(t=h(t),""===a[a.length-1]?a[a.length-1]=t:a.push(t));else t?a[e]=h(t):a.splice(e,1);return o&&a.unshift(""),this.path(a.join(n),r)},w.segmentCoded=function(e,t,r){var n,o,a;if("number"!=typeof e&&(r=t,t=e,e=void 0),void 0===t){if(n=this.segment(e,t,r),s(n))for(o=0,a=n.length;o<a;o++)n[o]=i.decode(n[o]);else n=void 0!==n?i.decode(n):void 0;return n}if(s(t))for(o=0,a=t.length;o<a;o++)t[o]=i.encode(t[o]);else t="string"==typeof t||t instanceof String?i.encode(t):t;return this.segment(e,t,r)};var S=w.query;return w.query=function(e,t){if(e===!0)return i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=e.call(this,r);return this._parts.query=i.buildQuery(n||r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=i.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):S.call(this,e,t)},w.setQuery=function(e,t,r){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)n[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var o in e)v.call(e,o)&&(n[o]=e[o])}return this._parts.query=i.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},w.addQuery=function(e,t,r){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.addQuery(n,e,void 0===t?null:t),this._parts.query=i.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},w.removeQuery=function(e,t,r){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.removeQuery(n,e,t),this._parts.query=i.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},w.hasQuery=function(e,t,r){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.hasQuery(n,e,t,r)},w.setSearch=w.setQuery,w.addSearch=w.addQuery,w.removeSearch=w.removeQuery,w.hasSearch=w.hasQuery,w.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},w.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},w.normalizeHostname=function(r){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!r)),this},w.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===i.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},w.normalizePath=function(e){var t=this._parts.path;if(!t)return this;if(this._parts.urn)return this._parts.path=i.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;t=i.recodePath(t);var r,n,o,a="";for("/"!==t.charAt(0)&&(r=!0,t="/"+t),"/.."!==t.slice(-3)&&"/."!==t.slice(-2)||(t+="/"),t=t.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),r&&(a=t.substring(1).match(/^(\.\.\/)+/)||"",a&&(a=a[0]));n=t.search(/\/\.\.(\/|$)/),n!==-1;)0!==n?(o=t.substring(0,n).lastIndexOf("/"),o===-1&&(o=n),t=t.substring(0,o)+t.substring(n+3)):t=t.substring(3);return r&&this.is("relative")&&(t=a+t.substring(1)),this._parts.path=t,this.build(!e),this},w.normalizePathname=w.normalizePath,w.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(i.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},w.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},w.normalizeSearch=w.normalizeQuery,w.normalizeHash=w.normalizeFragment,w.iso8859=function(){var e=i.encode,t=i.decode;i.encode=escape,i.decode=decodeURIComponent;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},w.unicode=function(){var e=i.encode,t=i.decode;i.encode=d,i.decode=unescape;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},w.readable=function(){var t=this.clone();t.username("").password("").normalize();var r="";if(t._parts.protocol&&(r+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(r+=e.toUnicode(t._parts.hostname),t._parts.port&&(r+=":"+t._parts.port)):r+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(r+="/"),r+=t.path(!0),t._parts.query){for(var n="",o=0,a=t._parts.query.split("&"),s=a.length;o<s;o++){var u=(a[o]||"").split("=");n+="&"+i.decodeQuery(u[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==u[1]&&(n+="="+i.decodeQuery(u[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}r+="?"+n.substring(1)}return r+=i.decodeQuery(t.hash(),!0)},w.absoluteTo=function(e){var t,r,n,o=this.clone(),a=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof i||(e=new i(e)),o._parts.protocol||(o._parts.protocol=e._parts.protocol),this._parts.hostname)return o;for(r=0;n=a[r];r++)o._parts[n]=e._parts[n];return o._parts.path?(".."===o._parts.path.substring(-2)&&(o._parts.path+="/"),"/"!==o.path().charAt(0)&&(t=e.directory(),t=t?t:0===e.path().indexOf("/")?"/":"",o._parts.path=(t?t+"/":"")+o._parts.path,o.normalizePath())):(o._parts.path=e._parts.path,o._parts.query||(o._parts.query=e._parts.query)),o.build(),o},w.relativeTo=function(e){var t,r,n,o,a,s=this.clone().normalize();if(s._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new i(e).normalize(),t=s._parts,r=e._parts,o=s.path(),a=e.path(),"/"!==o.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===r.protocol&&(t.protocol=null),t.username!==r.username||t.password!==r.password)return s.build();if(null!==t.protocol||null!==t.username||null!==t.password)return s.build();if(t.hostname!==r.hostname||t.port!==r.port)return s.build();if(t.hostname=null,t.port=null,o===a)return t.path="",s.build();if(n=i.commonPath(o,a),!n)return s.build();var u=r.path.substring(n.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=u+t.path.substring(n.length)||"./",s.build()},w.equals=function(e){var t,r,n,o=this.clone(),a=new i(e),u={},l={},h={};if(o.normalize(),a.normalize(),o.toString()===a.toString())return!0;if(t=o.query(),r=a.query(),o.query(""),a.query(""),o.toString()!==a.toString())return!1;if(t.length!==r.length)return!1;u=i.parseQuery(t,this._parts.escapeQuerySpace),l=i.parseQuery(r,this._parts.escapeQuerySpace);for(n in u)if(v.call(u,n)){if(s(u[n])){if(!c(u[n],l[n]))return!1}else if(u[n]!==l[n])return!1;h[n]=!0}for(n in l)if(v.call(l,n)&&!h[n])return!1;return!0},w.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},w.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},i})},function(e,t,r){"use strict";function n(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),6*r<1?e+6*(t-e)*r:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function i(e,t,r,n){this.red=o(e,1),this.green=o(t,1),this.blue=o(r,1),this.alpha=o(n,1)}var o=r(3),a=r(1),s=r(2),u=r(50),l=r(5);i.fromCartesian4=function(e,t){if(!a(e))throw new s("cartesian is required");return a(t)?(t.red=e.x,t.green=e.y,t.blue=e.z,t.alpha=e.w,t):new i(e.x,e.y,e.z,e.w)},i.fromBytes=function(e,t,r,n,s){return e=i.byteToFloat(o(e,255)),t=i.byteToFloat(o(t,255)),r=i.byteToFloat(o(r,255)),n=i.byteToFloat(o(n,255)),a(s)?(s.red=e,s.green=t,s.blue=r,s.alpha=n,s):new i(e,t,r,n)},i.fromAlpha=function(e,t,r){if(!a(e))throw new s("color is required");if(!a(t))throw new s("alpha is required");return a(r)?(r.red=e.red,r.green=e.green,r.blue=e.blue,r.alpha=t,r):new i(e.red,e.green,e.blue,t)};var c,h,f;u.supportsTypedArrays()&&(c=new ArrayBuffer(4),h=new Uint32Array(c),f=new Uint8Array(c)),i.fromRgba=function(e,t){return h[0]=e,i.fromBytes(f[0],f[1],f[2],f[3],t)},i.fromHsl=function(e,t,r,s,u){e=o(e,0)%1,t=o(t,0),r=o(r,0),s=o(s,1);var l=r,c=r,h=r;if(0!==t){var f;f=r<.5?r*(1+t):r+t-r*t;var d=2*r-f;l=n(d,f,e+1/3),c=n(d,f,e),h=n(d,f,e-1/3)}return a(u)?(u.red=l,u.green=c,u.blue=h,u.alpha=s,u):new i(l,c,h,s)},i.fromRandom=function(e,t){e=o(e,o.EMPTY_OBJECT);var r=e.red;if(!a(r)){var n=o(e.minimumRed,0),u=o(e.maximumRed,1);if(n>u)throw new s("minimumRed must be less than or equal to maximumRed");r=n+l.nextRandomNumber()*(u-n)}var c=e.green;if(!a(c)){var h=o(e.minimumGreen,0),f=o(e.maximumGreen,1);if(h>f)throw new s("minimumGreen must be less than or equal to maximumGreen");c=h+l.nextRandomNumber()*(f-h)}var d=e.blue;if(!a(d)){var p=o(e.minimumBlue,0),m=o(e.maximumBlue,1);if(p>m)throw new s("minimumBlue must be less than or equal to maximumBlue");d=p+l.nextRandomNumber()*(m-p)}var g=e.alpha;if(!a(g)){var w=o(e.minimumAlpha,0),v=o(e.maximumAlpha,1);if(w>v)throw new s("minimumAlpha must be less than or equal to maximumAlpha");g=w+l.nextRandomNumber()*(v-w)}return a(t)?(t.red=r,t.green=c,t.blue=d,t.alpha=g,t):new i(r,c,d,g)};var d=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i,p=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,m=/^rgba?\(\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)(?:\s*,\s*([0-9.]+))?\s*\)$/i,g=/^hsla?\(\s*([0-9.]+)\s*,\s*([0-9.]+%)\s*,\s*([0-9.]+%)(?:\s*,\s*([0-9.]+))?\s*\)$/i;i.fromCssColorString=function(e,t){if(!a(e))throw new s("color is required");a(t)||(t=new i);var r=i[e.toUpperCase()];if(a(r))return i.clone(r,t),t;var n=d.exec(e);return null!==n?(t.red=parseInt(n[1],16)/15,t.green=parseInt(n[2],16)/15,t.blue=parseInt(n[3],16)/15,t.alpha=1,t):(n=p.exec(e),null!==n?(t.red=parseInt(n[1],16)/255,t.green=parseInt(n[2],16)/255,t.blue=parseInt(n[3],16)/255,t.alpha=1,t):(n=m.exec(e),null!==n?(t.red=parseFloat(n[1])/("%"===n[1].substr(-1)?100:255),t.green=parseFloat(n[2])/("%"===n[2].substr(-1)?100:255),t.blue=parseFloat(n[3])/("%"===n[3].substr(-1)?100:255),t.alpha=parseFloat(o(n[4],"1.0")),t):(n=g.exec(e),null!==n?i.fromHsl(parseFloat(n[1])/360,parseFloat(n[2])/100,parseFloat(n[3])/100,parseFloat(o(n[4],"1.0")),t):t=void 0)))},i.packedLength=4,i.pack=function(e,t,r){if(!a(e))throw new s("value is required");
if(!a(t))throw new s("array is required");return r=o(r,0),t[r++]=e.red,t[r++]=e.green,t[r++]=e.blue,t[r]=e.alpha,t},i.unpack=function(e,t,r){if(!a(e))throw new s("array is required");return t=o(t,0),a(r)||(r=new i),r.red=e[t++],r.green=e[t++],r.blue=e[t++],r.alpha=e[t],r},i.byteToFloat=function(e){return e/255},i.floatToByte=function(e){return 1===e?255:256*e|0},i.clone=function(e,t){if(a(e))return a(t)?(t.red=e.red,t.green=e.green,t.blue=e.blue,t.alpha=e.alpha,t):new i(e.red,e.green,e.blue,e.alpha)},i.equals=function(e,t){return e===t||a(e)&&a(t)&&e.red===t.red&&e.green===t.green&&e.blue===t.blue&&e.alpha===t.alpha},i.equalsArray=function(e,t,r){return e.red===t[r]&&e.green===t[r+1]&&e.blue===t[r+2]&&e.alpha===t[r+3]},i.prototype.clone=function(e){return i.clone(this,e)},i.prototype.equals=function(e){return i.equals(this,e)},i.prototype.equalsEpsilon=function(e,t){return this===e||a(e)&&Math.abs(this.red-e.red)<=t&&Math.abs(this.green-e.green)<=t&&Math.abs(this.blue-e.blue)<=t&&Math.abs(this.alpha-e.alpha)<=t},i.prototype.toString=function(){return"("+this.red+", "+this.green+", "+this.blue+", "+this.alpha+")"},i.prototype.toCssColorString=function(){var e=i.floatToByte(this.red),t=i.floatToByte(this.green),r=i.floatToByte(this.blue);return 1===this.alpha?"rgb("+e+","+t+","+r+")":"rgba("+e+","+t+","+r+","+this.alpha+")"},i.prototype.toBytes=function(e){var t=i.floatToByte(this.red),r=i.floatToByte(this.green),n=i.floatToByte(this.blue),o=i.floatToByte(this.alpha);return a(e)?(e[0]=t,e[1]=r,e[2]=n,e[3]=o,e):[t,r,n,o]},i.prototype.toRgba=function(){return f[0]=i.floatToByte(this.red),f[1]=i.floatToByte(this.green),f[2]=i.floatToByte(this.blue),f[3]=i.floatToByte(this.alpha),h[0]},i.prototype.brighten=function(e,t){if(!a(e))throw new s("magnitude is required.");if(e<0)throw new s("magnitude must be positive.");if(!a(t))throw new s("result is required.");return e=1-e,t.red=1-(1-this.red)*e,t.green=1-(1-this.green)*e,t.blue=1-(1-this.blue)*e,t.alpha=this.alpha,t},i.prototype.darken=function(e,t){if(!a(e))throw new s("magnitude is required.");if(e<0)throw new s("magnitude must be positive.");if(!a(t))throw new s("result is required.");return e=1-e,t.red=this.red*e,t.green=this.green*e,t.blue=this.blue*e,t.alpha=this.alpha,t},i.prototype.withAlpha=function(e,t){return i.fromAlpha(this,e,t)},i.add=function(e,t,r){if(!a(e))throw new s("left is required");if(!a(t))throw new s("right is required");if(!a(r))throw new s("result is required");return r.red=e.red+t.red,r.green=e.green+t.green,r.blue=e.blue+t.blue,r.alpha=e.alpha+t.alpha,r},i.subtract=function(e,t,r){if(!a(e))throw new s("left is required");if(!a(t))throw new s("right is required");if(!a(r))throw new s("result is required");return r.red=e.red-t.red,r.green=e.green-t.green,r.blue=e.blue-t.blue,r.alpha=e.alpha-t.alpha,r},i.multiply=function(e,t,r){if(!a(e))throw new s("left is required");if(!a(t))throw new s("right is required");if(!a(r))throw new s("result is required");return r.red=e.red*t.red,r.green=e.green*t.green,r.blue=e.blue*t.blue,r.alpha=e.alpha*t.alpha,r},i.divide=function(e,t,r){if(!a(e))throw new s("left is required");if(!a(t))throw new s("right is required");if(!a(r))throw new s("result is required");return r.red=e.red/t.red,r.green=e.green/t.green,r.blue=e.blue/t.blue,r.alpha=e.alpha/t.alpha,r},i.mod=function(e,t,r){if(!a(e))throw new s("left is required");if(!a(t))throw new s("right is required");if(!a(r))throw new s("result is required");return r.red=e.red%t.red,r.green=e.green%t.green,r.blue=e.blue%t.blue,r.alpha=e.alpha%t.alpha,r},i.multiplyByScalar=function(e,t,r){if(!a(e))throw new s("cartesian is required");if("number"!=typeof t)throw new s("scalar is required and must be a number.");if(!a(r))throw new s("result is required");return r.red=e.red*t,r.green=e.green*t,r.blue=e.blue*t,r.alpha=e.alpha*t,r},i.divideByScalar=function(e,t,r){if(!a(e))throw new s("cartesian is required");if("number"!=typeof t)throw new s("scalar is required and must be a number.");if(!a(r))throw new s("result is required");return r.red=e.red/t,r.green=e.green/t,r.blue=e.blue/t,r.alpha=e.alpha/t,r},i.ALICEBLUE=Object.freeze(i.fromCssColorString("#F0F8FF")),i.ANTIQUEWHITE=Object.freeze(i.fromCssColorString("#FAEBD7")),i.AQUA=Object.freeze(i.fromCssColorString("#00FFFF")),i.AQUAMARINE=Object.freeze(i.fromCssColorString("#7FFFD4")),i.AZURE=Object.freeze(i.fromCssColorString("#F0FFFF")),i.BEIGE=Object.freeze(i.fromCssColorString("#F5F5DC")),i.BISQUE=Object.freeze(i.fromCssColorString("#FFE4C4")),i.BLACK=Object.freeze(i.fromCssColorString("#000000")),i.BLANCHEDALMOND=Object.freeze(i.fromCssColorString("#FFEBCD")),i.BLUE=Object.freeze(i.fromCssColorString("#0000FF")),i.BLUEVIOLET=Object.freeze(i.fromCssColorString("#8A2BE2")),i.BROWN=Object.freeze(i.fromCssColorString("#A52A2A")),i.BURLYWOOD=Object.freeze(i.fromCssColorString("#DEB887")),i.CADETBLUE=Object.freeze(i.fromCssColorString("#5F9EA0")),i.CHARTREUSE=Object.freeze(i.fromCssColorString("#7FFF00")),i.CHOCOLATE=Object.freeze(i.fromCssColorString("#D2691E")),i.CORAL=Object.freeze(i.fromCssColorString("#FF7F50")),i.CORNFLOWERBLUE=Object.freeze(i.fromCssColorString("#6495ED")),i.CORNSILK=Object.freeze(i.fromCssColorString("#FFF8DC")),i.CRIMSON=Object.freeze(i.fromCssColorString("#DC143C")),i.CYAN=Object.freeze(i.fromCssColorString("#00FFFF")),i.DARKBLUE=Object.freeze(i.fromCssColorString("#00008B")),i.DARKCYAN=Object.freeze(i.fromCssColorString("#008B8B")),i.DARKGOLDENROD=Object.freeze(i.fromCssColorString("#B8860B")),i.DARKGRAY=Object.freeze(i.fromCssColorString("#A9A9A9")),i.DARKGREEN=Object.freeze(i.fromCssColorString("#006400")),i.DARKGREY=i.DARKGRAY,i.DARKKHAKI=Object.freeze(i.fromCssColorString("#BDB76B")),i.DARKMAGENTA=Object.freeze(i.fromCssColorString("#8B008B")),i.DARKOLIVEGREEN=Object.freeze(i.fromCssColorString("#556B2F")),i.DARKORANGE=Object.freeze(i.fromCssColorString("#FF8C00")),i.DARKORCHID=Object.freeze(i.fromCssColorString("#9932CC")),i.DARKRED=Object.freeze(i.fromCssColorString("#8B0000")),i.DARKSALMON=Object.freeze(i.fromCssColorString("#E9967A")),i.DARKSEAGREEN=Object.freeze(i.fromCssColorString("#8FBC8F")),i.DARKSLATEBLUE=Object.freeze(i.fromCssColorString("#483D8B")),i.DARKSLATEGRAY=Object.freeze(i.fromCssColorString("#2F4F4F")),i.DARKSLATEGREY=i.DARKSLATEGRAY,i.DARKTURQUOISE=Object.freeze(i.fromCssColorString("#00CED1")),i.DARKVIOLET=Object.freeze(i.fromCssColorString("#9400D3")),i.DEEPPINK=Object.freeze(i.fromCssColorString("#FF1493")),i.DEEPSKYBLUE=Object.freeze(i.fromCssColorString("#00BFFF")),i.DIMGRAY=Object.freeze(i.fromCssColorString("#696969")),i.DIMGREY=i.DIMGRAY,i.DODGERBLUE=Object.freeze(i.fromCssColorString("#1E90FF")),i.FIREBRICK=Object.freeze(i.fromCssColorString("#B22222")),i.FLORALWHITE=Object.freeze(i.fromCssColorString("#FFFAF0")),i.FORESTGREEN=Object.freeze(i.fromCssColorString("#228B22")),i.FUSCHIA=Object.freeze(i.fromCssColorString("#FF00FF")),i.GAINSBORO=Object.freeze(i.fromCssColorString("#DCDCDC")),i.GHOSTWHITE=Object.freeze(i.fromCssColorString("#F8F8FF")),i.GOLD=Object.freeze(i.fromCssColorString("#FFD700")),i.GOLDENROD=Object.freeze(i.fromCssColorString("#DAA520")),i.GRAY=Object.freeze(i.fromCssColorString("#808080")),i.GREEN=Object.freeze(i.fromCssColorString("#008000")),i.GREENYELLOW=Object.freeze(i.fromCssColorString("#ADFF2F")),i.GREY=i.GRAY,i.HONEYDEW=Object.freeze(i.fromCssColorString("#F0FFF0")),i.HOTPINK=Object.freeze(i.fromCssColorString("#FF69B4")),i.INDIANRED=Object.freeze(i.fromCssColorString("#CD5C5C")),i.INDIGO=Object.freeze(i.fromCssColorString("#4B0082")),i.IVORY=Object.freeze(i.fromCssColorString("#FFFFF0")),i.KHAKI=Object.freeze(i.fromCssColorString("#F0E68C")),i.LAVENDER=Object.freeze(i.fromCssColorString("#E6E6FA")),i.LAVENDAR_BLUSH=Object.freeze(i.fromCssColorString("#FFF0F5")),i.LAWNGREEN=Object.freeze(i.fromCssColorString("#7CFC00")),i.LEMONCHIFFON=Object.freeze(i.fromCssColorString("#FFFACD")),i.LIGHTBLUE=Object.freeze(i.fromCssColorString("#ADD8E6")),i.LIGHTCORAL=Object.freeze(i.fromCssColorString("#F08080")),i.LIGHTCYAN=Object.freeze(i.fromCssColorString("#E0FFFF")),i.LIGHTGOLDENRODYELLOW=Object.freeze(i.fromCssColorString("#FAFAD2")),i.LIGHTGRAY=Object.freeze(i.fromCssColorString("#D3D3D3")),i.LIGHTGREEN=Object.freeze(i.fromCssColorString("#90EE90")),i.LIGHTGREY=i.LIGHTGRAY,i.LIGHTPINK=Object.freeze(i.fromCssColorString("#FFB6C1")),i.LIGHTSEAGREEN=Object.freeze(i.fromCssColorString("#20B2AA")),i.LIGHTSKYBLUE=Object.freeze(i.fromCssColorString("#87CEFA")),i.LIGHTSLATEGRAY=Object.freeze(i.fromCssColorString("#778899")),i.LIGHTSLATEGREY=i.LIGHTSLATEGRAY,i.LIGHTSTEELBLUE=Object.freeze(i.fromCssColorString("#B0C4DE")),i.LIGHTYELLOW=Object.freeze(i.fromCssColorString("#FFFFE0")),i.LIME=Object.freeze(i.fromCssColorString("#00FF00")),i.LIMEGREEN=Object.freeze(i.fromCssColorString("#32CD32")),i.LINEN=Object.freeze(i.fromCssColorString("#FAF0E6")),i.MAGENTA=Object.freeze(i.fromCssColorString("#FF00FF")),i.MAROON=Object.freeze(i.fromCssColorString("#800000")),i.MEDIUMAQUAMARINE=Object.freeze(i.fromCssColorString("#66CDAA")),i.MEDIUMBLUE=Object.freeze(i.fromCssColorString("#0000CD")),i.MEDIUMORCHID=Object.freeze(i.fromCssColorString("#BA55D3")),i.MEDIUMPURPLE=Object.freeze(i.fromCssColorString("#9370DB")),i.MEDIUMSEAGREEN=Object.freeze(i.fromCssColorString("#3CB371")),i.MEDIUMSLATEBLUE=Object.freeze(i.fromCssColorString("#7B68EE")),i.MEDIUMSPRINGGREEN=Object.freeze(i.fromCssColorString("#00FA9A")),i.MEDIUMTURQUOISE=Object.freeze(i.fromCssColorString("#48D1CC")),i.MEDIUMVIOLETRED=Object.freeze(i.fromCssColorString("#C71585")),i.MIDNIGHTBLUE=Object.freeze(i.fromCssColorString("#191970")),i.MINTCREAM=Object.freeze(i.fromCssColorString("#F5FFFA")),i.MISTYROSE=Object.freeze(i.fromCssColorString("#FFE4E1")),i.MOCCASIN=Object.freeze(i.fromCssColorString("#FFE4B5")),i.NAVAJOWHITE=Object.freeze(i.fromCssColorString("#FFDEAD")),i.NAVY=Object.freeze(i.fromCssColorString("#000080")),i.OLDLACE=Object.freeze(i.fromCssColorString("#FDF5E6")),i.OLIVE=Object.freeze(i.fromCssColorString("#808000")),i.OLIVEDRAB=Object.freeze(i.fromCssColorString("#6B8E23")),i.ORANGE=Object.freeze(i.fromCssColorString("#FFA500")),i.ORANGERED=Object.freeze(i.fromCssColorString("#FF4500")),i.ORCHID=Object.freeze(i.fromCssColorString("#DA70D6")),i.PALEGOLDENROD=Object.freeze(i.fromCssColorString("#EEE8AA")),i.PALEGREEN=Object.freeze(i.fromCssColorString("#98FB98")),i.PALETURQUOISE=Object.freeze(i.fromCssColorString("#AFEEEE")),i.PALEVIOLETRED=Object.freeze(i.fromCssColorString("#DB7093")),i.PAPAYAWHIP=Object.freeze(i.fromCssColorString("#FFEFD5")),i.PEACHPUFF=Object.freeze(i.fromCssColorString("#FFDAB9")),i.PERU=Object.freeze(i.fromCssColorString("#CD853F")),i.PINK=Object.freeze(i.fromCssColorString("#FFC0CB")),i.PLUM=Object.freeze(i.fromCssColorString("#DDA0DD")),i.POWDERBLUE=Object.freeze(i.fromCssColorString("#B0E0E6")),i.PURPLE=Object.freeze(i.fromCssColorString("#800080")),i.RED=Object.freeze(i.fromCssColorString("#FF0000")),i.ROSYBROWN=Object.freeze(i.fromCssColorString("#BC8F8F")),i.ROYALBLUE=Object.freeze(i.fromCssColorString("#4169E1")),i.SADDLEBROWN=Object.freeze(i.fromCssColorString("#8B4513")),i.SALMON=Object.freeze(i.fromCssColorString("#FA8072")),i.SANDYBROWN=Object.freeze(i.fromCssColorString("#F4A460")),i.SEAGREEN=Object.freeze(i.fromCssColorString("#2E8B57")),i.SEASHELL=Object.freeze(i.fromCssColorString("#FFF5EE")),i.SIENNA=Object.freeze(i.fromCssColorString("#A0522D")),i.SILVER=Object.freeze(i.fromCssColorString("#C0C0C0")),i.SKYBLUE=Object.freeze(i.fromCssColorString("#87CEEB")),i.SLATEBLUE=Object.freeze(i.fromCssColorString("#6A5ACD")),i.SLATEGRAY=Object.freeze(i.fromCssColorString("#708090")),i.SLATEGREY=i.SLATEGRAY,i.SNOW=Object.freeze(i.fromCssColorString("#FFFAFA")),i.SPRINGGREEN=Object.freeze(i.fromCssColorString("#00FF7F")),i.STEELBLUE=Object.freeze(i.fromCssColorString("#4682B4")),i.TAN=Object.freeze(i.fromCssColorString("#D2B48C")),i.TEAL=Object.freeze(i.fromCssColorString("#008080")),i.THISTLE=Object.freeze(i.fromCssColorString("#D8BFD8")),i.TOMATO=Object.freeze(i.fromCssColorString("#FF6347")),i.TURQUOISE=Object.freeze(i.fromCssColorString("#40E0D0")),i.VIOLET=Object.freeze(i.fromCssColorString("#EE82EE")),i.WHEAT=Object.freeze(i.fromCssColorString("#F5DEB3")),i.WHITE=Object.freeze(i.fromCssColorString("#FFFFFF")),i.WHITESMOKE=Object.freeze(i.fromCssColorString("#F5F5F5")),i.YELLOW=Object.freeze(i.fromCssColorString("#FFFF00")),i.YELLOWGREEN=Object.freeze(i.fromCssColorString("#9ACD32")),i.TRANSPARENT=Object.freeze(new i(0,0,0,0)),e.exports=i},function(e,t,r){"use strict";function n(e,t){if(!l(e))throw new c("origin is required.");if(t=u(t,h.WGS84),e=t.scaleToGeodeticSurface(e),!l(e))throw new c("origin must not be at the center of the ellipsoid.");var r=g.eastNorthUpToFixedFrame(e,t);this._ellipsoid=t,this._origin=e,this._xAxis=a.fromCartesian4(d.getColumn(r,0,w)),this._yAxis=a.fromCartesian4(d.getColumn(r,1,w));var n=a.fromCartesian4(d.getColumn(r,2,w));this._plane=p.fromPointNormal(e,n)}var i=r(58),o=r(9),a=r(4),s=r(24),u=r(3),l=r(1),c=r(2),h=r(6),f=r(52),d=r(19),p=r(39),m=r(66),g=r(46),w=new s;Object.defineProperties(n.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},origin:{get:function(){return this._origin}},plane:{get:function(){return this._plane}},xAxis:{get:function(){return this._xAxis}},yAxis:{get:function(){return this._yAxis}},zAxis:{get:function(){return this._plane.normal}}});var v=new i;n.fromPoints=function(e,t){if(!l(e))throw new c("cartesians is required.");var r=i.fromPoints(e,v);return new n(r.center,t)};var y=new m,_=new a;n.prototype.projectPointOntoPlane=function(e,t){if(!l(e))throw new c("cartesian is required.");var r=y;r.origin=e,a.normalize(e,r.direction);var n=f.rayPlane(r,this._plane,_);if(l(n)||(a.negate(r.direction,r.direction),n=f.rayPlane(r,this._plane,_)),l(n)){var i=a.subtract(n,this._origin,n),s=a.dot(this._xAxis,i),u=a.dot(this._yAxis,i);return l(t)?(t.x=s,t.y=u,t):new o(s,u)}},n.prototype.projectPointsOntoPlane=function(e,t){if(!l(e))throw new c("cartesians is required.");l(t)||(t=[]);for(var r=0,n=e.length,i=0;i<n;i++){var o=this.projectPointOntoPlane(e[i],t[r]);l(o)&&(t[r]=o,r++)}return t.length=r,t},n.prototype.projectPointToNearestOnPlane=function(e,t){if(!l(e))throw new c("cartesian is required.");l(t)||(t=new o);var r=y;r.origin=e,a.clone(this._plane.normal,r.direction);var n=f.rayPlane(r,this._plane,_);l(n)||(a.negate(r.direction,r.direction),n=f.rayPlane(r,this._plane,_));var i=a.subtract(n,this._origin,n),s=a.dot(this._xAxis,i),u=a.dot(this._yAxis,i);return t.x=s,t.y=u,t},n.prototype.projectPointsToNearestOnPlane=function(e,t){if(!l(e))throw new c("cartesians is required.");l(t)||(t=[]);var r=e.length;t.length=r;for(var n=0;n<r;n++)t[n]=this.projectPointToNearestOnPlane(e[n],t[n]);return t};var E=new a;n.prototype.projectPointsOntoEllipsoid=function(e,t){if(!l(e))throw new c("cartesians is required.");var r=e.length;l(t)?t.length=r:t=new Array(r);for(var n=this._ellipsoid,i=this._origin,o=this._xAxis,s=this._yAxis,u=E,h=0;h<r;++h){var f=e[h];a.multiplyByScalar(o,f.x,u),l(t[h])||(t[h]=new a);var d=a.add(i,u,t[h]);a.multiplyByScalar(s,f.y,u),a.add(d,u,d),n.scaleToGeocentricSurface(d,d)}return t},e.exports=n},function(e,t,r){"use strict";function n(){this._listeners=[],this._scopes=[],this._toRemove=[],this._insideRaiseEvent=!1}var i=r(1),o=r(2);Object.defineProperties(n.prototype,{numberOfListeners:{get:function(){return this._listeners.length-this._toRemove.length}}}),n.prototype.addEventListener=function(e,t){if("function"!=typeof e)throw new o("listener is required and must be a function.");this._listeners.push(e),this._scopes.push(t);var r=this;return function(){r.removeEventListener(e,t)}},n.prototype.removeEventListener=function(e,t){if("function"!=typeof e)throw new o("listener is required and must be a function.");for(var r=this._listeners,n=this._scopes,i=-1,a=0;a<r.length;a++)if(r[a]===e&&n[a]===t){i=a;break}return i!==-1&&(this._insideRaiseEvent?(this._toRemove.push(i),r[i]=void 0,n[i]=void 0):(r.splice(i,1),n.splice(i,1)),!0)},n.prototype.raiseEvent=function(){this._insideRaiseEvent=!0;var e,t=this._listeners,r=this._scopes,n=t.length;for(e=0;e<n;e++){var o=t[e];i(o)&&t[e].apply(r[e],arguments)}var a=this._toRemove;for(n=a.length,e=0;e<n;e++){var s=a[e];t.splice(s,1),r.splice(s,1)}a.length=0,this._insideRaiseEvent=!1},e.exports=n},function(e,t){"use strict";var r={OUTSIDE:-1,INTERSECTING:0,INSIDE:1};e.exports=Object.freeze(r)},function(e,t,r){"use strict";function n(e,t){if(!a(e))throw new s("url is required.");return t=o(t,!0),when(e,function(e){var r;r=!(c.test(e)||!t)&&u(e);var o=i.defer();return n.createImage(e,r,o),o.promise})}var i=r(18),o=r(3),a=r(1),s=r(2),u=r(116),l=r(70),c=/^data:/;n.createImage=function(e,t,r){var n=new Image;n.onload=function(){r.resolve(n)},n.onerror=function(e){r.reject(e)},t&&(l.contains(e)?n.crossOrigin="use-credentials":n.crossOrigin=""),n.src=e},n.defaultCreateImage=n.createImage,e.exports=n},function(e,t,r){"use strict";function n(e,t,r){var n=i(r),u=i(t),l=i(e);if(!l&&!u&&!n)throw new o("text, imageUrl or link is required");l||u||(e=r),this._text=e,this._imageUrl=t,this._link=r,this._hasLink=n,this._hasImage=u;var c,h=JSON.stringify([e,t,r]);i(s[h])?c=s[h]:(c=a++,s[h]=c),this._id=c}var i=r(1),o=r(2),a=0,s={};Object.defineProperties(n.prototype,{text:{get:function(){return this._text}},imageUrl:{get:function(){return this._imageUrl}},link:{get:function(){return this._link}},id:{get:function(){return this._id}}}),n.prototype.hasImage=function(){return this._hasImage},n.prototype.hasLink=function(){return this._hasLink},n.equals=function(e,t){return e===t||i(e)&&i(t)&&e._id===t._id},n.prototype.equals=function(e){return n.equals(this,e)},e.exports=n},function(e,t,r){"use strict";function n(e){e=o(e,{}),this._ellipsoid=o(e.ellipsoid,u.WGS84),this._rectangle=o(e.rectangle,h.MAX_VALUE),this._projection=new l(this._ellipsoid),this._numberOfLevelZeroTilesX=o(e.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=o(e.numberOfLevelZeroTilesY,1)}var i=r(9),o=r(3),a=r(1),s=r(2),u=r(6),l=r(27),c=r(5),h=r(16);Object.defineProperties(n.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),n.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e},n.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e},n.prototype.rectangleToNativeRectangle=function(e,t){if(!a(e))throw new s("rectangle is required.");var r=c.toDegrees(e.west),n=c.toDegrees(e.south),i=c.toDegrees(e.east),o=c.toDegrees(e.north);return a(t)?(t.west=r,t.south=n,t.east=i,t.north=o,t):new h(r,n,i,o)},n.prototype.tileXYToNativeRectangle=function(e,t,r,n){var i=this.tileXYToRectangle(e,t,r,n);return i.west=c.toDegrees(i.west),i.south=c.toDegrees(i.south),i.east=c.toDegrees(i.east),i.north=c.toDegrees(i.north),i},n.prototype.tileXYToRectangle=function(e,t,r,n){var i=this._rectangle,o=this.getNumberOfXTilesAtLevel(r),s=this.getNumberOfYTilesAtLevel(r),u=i.width/o,l=e*u+i.west,c=(e+1)*u+i.west,f=i.height/s,d=i.north-t*f,p=i.north-(t+1)*f;return a(n)||(n=new h(l,p,c,d)),n.west=l,n.south=p,n.east=c,n.north=d,n},n.prototype.positionToTileXY=function(e,t,r){var n=this._rectangle;if(h.contains(n,e)){var o=this.getNumberOfXTilesAtLevel(t),s=this.getNumberOfYTilesAtLevel(t),u=n.width/o,l=n.height/s,f=e.longitude;n.east<n.west&&(f+=c.TWO_PI);var d=(f-n.west)/u|0;d>=o&&(d=o-1);var p=(n.north-e.latitude)/l|0;return p>=s&&(p=s-1),a(r)?(r.x=d,r.y=p,r):new i(d,p)}},e.exports=n},function(e,t,r){"use strict";function n(e){if(e=i(e,i.EMPTY_OBJECT),!o(e.geometry))throw new a("options.geometry is required.");this.geometry=e.geometry,this.modelMatrix=s.clone(i(e.modelMatrix,s.IDENTITY)),this.id=e.id,this.pickPrimitive=e.pickPrimitive,this.attributes=i(e.attributes,{}),this.westHemisphereGeometry=void 0,this.eastHemisphereGeometry=void 0}var i=r(3),o=r(1),a=r(2),s=r(19);e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!o(e))throw new a("normal is required.");if(!o(t))throw new a("distance is required.");this.normal=i.clone(e),this.distance=t}var i=r(4),o=r(1),a=r(2);n.fromPointNormal=function(e,t,r){if(!o(e))throw new a("point is required.");if(!o(t))throw new a("normal is required.");var s=-i.dot(t,e);return o(r)?(i.clone(t,r.normal),r.distance=s,r):new n(t,s)};var s=new i;n.fromCartesian4=function(e,t){if(!o(e))throw new a("coefficients is required.");var r=i.fromCartesian4(e,s),u=e.w;return o(t)?(i.clone(r,t.normal),t.distance=u,t):new n(r,u)},n.getPointDistance=function(e,t){if(!o(e))throw new a("plane is required.");if(!o(t))throw new a("point is required.");return i.dot(e.normal,t)+e.distance},n.ORIGIN_XY_PLANE=Object.freeze(new n(i.UNIT_Z,0)),n.ORIGIN_YZ_PLANE=Object.freeze(new n(i.UNIT_X,0)),n.ORIGIN_ZX_PLANE=Object.freeze(new n(i.UNIT_Y,0)),e.exports=n},function(e,t,r){"use strict";function n(e,t,r){var n=O;n.length=e;var i;if(t===r){for(i=0;i<e;i++)n[i]=t;return n}var o=r-t,a=o/e;for(i=0;i<e;i++){var s=t+i*a;n[i]=s}return n}function i(e,t,r,i,a,s,u,l){var c=i.scaleToGeodeticSurface(e,C),h=i.scaleToGeodeticSurface(t,M),f=w.numberOfPoints(e,t,r),d=i.cartesianToCartographic(c,I),p=i.cartesianToCartographic(h,R),m=n(f,a,s);N.setEndPoints(d,p);var g=N.surfaceDistance/f,v=l;d.height=a;var y=i.cartographicToCartesian(d,P);o.pack(y,u,v),v+=3;for(var _=1;_<f;_++){var E=N.interpolateUsingSurfaceDistance(_*g,R);E.height=m[_],y=i.cartographicToCartesian(E,P),o.pack(y,u,v),v+=3}return v}var o=r(4),a=r(15),s=r(3),u=r(1),l=r(2),c=r(6),h=r(91),f=r(52),d=r(57),p=r(5),m=r(19),g=r(39),w={};w.numberOfPoints=function(e,t,r){var n=o.distance(e,t);return Math.ceil(n/r)};var v=new a;w.extractHeights=function(e,t){for(var r=e.length,n=new Array(r),i=0;i<r;i++){var o=e[i];n[i]=t.cartesianToCartographic(o,v).height}return n};var y=new m,_=new o,E=new o,b=new g(o.ZERO,0),T=new o,x=new g(o.ZERO,0),A=new o,S=new o,O=[],I=new a,R=new a,P=new o,C=new o,M=new o,N=new h;w.wrapLongitude=function(e,t){var r=[],n=[];if(u(e)&&e.length>0){t=s(t,m.IDENTITY);var i=m.inverseTransformation(t,y),a=m.multiplyByPoint(i,o.ZERO,_),l=m.multiplyByPointAsVector(i,o.UNIT_Y,E),c=g.fromPointNormal(a,l,b),h=m.multiplyByPointAsVector(i,o.UNIT_X,T),d=g.fromPointNormal(a,h,x),p=1;r.push(o.clone(e[0]));for(var w=r[0],v=e.length,O=1;O<v;++O){var I=e[O];if(g.getPointDistance(d,w)<0||g.getPointDistance(d,I)<0){var R=f.lineSegmentPlane(w,I,c,A);if(u(R)){var P=o.multiplyByScalar(l,5e-9,S);g.getPointDistance(c,w)<0&&o.negate(P,P),r.push(o.add(R,P,new o)),n.push(p+1),o.negate(P,P),r.push(o.add(R,P,new o)),p=1}}r.push(o.clone(e[O])),p++,w=I}n.push(p)}return{positions:r,lengths:n}},w.generateArc=function(e){u(e)||(e={});var t=e.positions;if(!u(t))throw new l("options.positions is required.");var r=t.length,n=s(e.ellipsoid,c.WGS84),a=s(e.height,0),h=d(a);if(r<1)return[];if(1===r){var f=n.scaleToGeodeticSurface(t[0],C);if(a=h?a[0]:a,0!==a){var m=n.geodeticSurfaceNormal(f,P);o.multiplyByScalar(m,a,m),o.add(f,m,f)}return[f.x,f.y,f.z]}var g=e.minDistance;if(!u(g)){var v=s(e.granularity,p.RADIANS_PER_DEGREE);g=p.chordLength(v,n.maximumRadius)}var y,_=0;for(y=0;y<r-1;y++)_+=w.numberOfPoints(t[y],t[y+1],g);var E=3*(_+1),b=new Array(E),T=0;for(y=0;y<r-1;y++){var x=t[y],A=t[y+1],S=h?a[y]:a,R=h?a[y+1]:a;T=i(x,A,g,n,S,R,b,T)}O.length=0;var M=t[r-1],N=n.cartesianToCartographic(M,I);N.height=h?a[r-1]:a;var q=n.cartographicToCartesian(N,P);return o.pack(q,b,E-3),b},w.generateCartesianArc=function(e){for(var t=w.generateArc(e),r=t.length/3,n=new Array(r),i=0;i<r;i++)n[i]=o.unpack(t,3*i);return n},e.exports=w},function(e,t,r){"use strict";function n(e){this.name="RuntimeError",this.message=e;var t;try{throw new Error}catch(e){t=e.stack}this.stack=t}var i=r(1);i(Object.create)&&(n.prototype=Object.create(Error.prototype),n.prototype.constructor=n),n.prototype.toString=function(){var e=this.name+": "+this.message;return i(this.stack)&&(e+="\n"+this.stack.toString()),e},e.exports=n},function(e,t,r){"use strict";function n(){this.times=void 0,this.points=void 0,a.throwInstantiationError()}var i=r(3),o=r(1),a=r(2);n.prototype.evaluate=a.throwInstantiationError,n.prototype.findTimeInterval=function(e,t){var r=this.times,n=r.length;if(!o(e))throw new a("time is required.");if(e<r[0]||e>r[n-1])throw new a("time is out of range.");if(t=i(t,0),e>=r[t]){if(t+1<n&&e<r[t+1])return t;if(t+2<n&&e<r[t+2])return t+1}else if(t-1>=0&&e>=r[t-1])return t-1;var s;if(e>r[t])for(s=t;s<n-1&&!(e>=r[s]&&e<r[s+1]);++s);else for(s=t-1;s>=0&&!(e>=r[s]&&e<r[s+1]);--s);return s===n-1&&(s=n-2),s},e.exports=n},function(e,t,r){"use strict";function n(){o.throwInstantiationError()}var i=r(1),o=r(2),a=r(5);Object.defineProperties(n.prototype,{errorEvent:{get:o.throwInstantiationError},credit:{get:o.throwInstantiationError},tilingScheme:{get:o.throwInstantiationError},ready:{get:o.throwInstantiationError},readyPromise:{get:o.throwInstantiationError},hasWaterMask:{get:o.throwInstantiationError},hasVertexNormals:{get:o.throwInstantiationError}});var s=[];n.getRegularGridIndices=function(e,t){if(e*t>=a.SIXTY_FOUR_KILOBYTES)throw new o("The total number of vertices (width * height) must be less than 65536.");var r=s[e];i(r)||(s[e]=r=[]);var n=r[t];if(!i(n)){n=r[t]=new Uint16Array((e-1)*(t-1)*6);for(var u=0,l=0,c=0;c<t-1;++c){for(var h=0;h<e-1;++h){var f=u,d=f+e,p=d+1,m=f+1;n[l++]=f,n[l++]=d,n[l++]=m,n[l++]=m,n[l++]=d,n[l++]=p,++u}++u}}return n},n.heightmapTerrainQuality=.25,n.getEstimatedLevelZeroGeometricErrorForAHeightmap=function(e,t,r){return 2*e.maximumRadius*Math.PI*n.heightmapTerrainQuality/(t*r)},n.prototype.requestTileGeometry=o.throwInstantiationError,n.prototype.getLevelMaximumGeometricError=o.throwInstantiationError,n.prototype.getTileDataAvailable=o.throwInstantiationError,e.exports=n},function(e,t){"use strict";var r={SECONDS_PER_MILLISECOND:.001,SECONDS_PER_MINUTE:60,MINUTES_PER_HOUR:60,HOURS_PER_DAY:24,SECONDS_PER_HOUR:3600,MINUTES_PER_DAY:1440,SECONDS_PER_DAY:86400,DAYS_PER_JULIAN_CENTURY:36525,PICOSECOND:1e-9,MODIFIED_JULIAN_DATE_DIFFERENCE:2400000.5};e.exports=Object.freeze(r)},function(e,t){"use strict";var r={UTC:0,TAI:1};e.exports=Object.freeze(r)},function(e,t,r){"use strict";var n=r(18),i=r(9),o=r(4),a=r(24),s=r(15),u=r(3),l=r(1),c=r(199),h=r(2),f=r(144),d=r(87),p=r(6),m=r(96),g=r(156),w=r(98),v=r(21),y=r(5),_=r(17),E=r(19),b=r(22),T=r(44),x={},A=new o,S=new o,O=new o;x.eastNorthUpToFixedFrame=function(e,t,r){if(!l(e))throw new h("origin is required.");if(y.equalsEpsilon(e.x,0,y.EPSILON14)&&y.equalsEpsilon(e.y,0,y.EPSILON14)){var n=y.sign(e.z);return l(r)?(r[0]=0,r[1]=1,r[2]=0,r[3]=0,r[4]=-n,r[5]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=n,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,r):new E(0,-n,0,e.x,1,0,0,e.y,0,0,n,e.z,0,0,0,1)}var i=A,a=S,s=O;return t=u(t,p.WGS84),t.geodeticSurfaceNormal(e,i),a.x=-e.y,a.y=e.x,a.z=0,o.normalize(a,a),o.cross(i,a,s),l(r)?(r[0]=a.x,r[1]=a.y,r[2]=a.z,r[3]=0,r[4]=s.x,r[5]=s.y,r[6]=s.z,r[7]=0,r[8]=i.x,r[9]=i.y,r[10]=i.z,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,r):new E(a.x,s.x,i.x,e.x,a.y,s.y,i.y,e.y,a.z,s.z,i.z,e.z,0,0,0,1)};var I=new o,R=new o,P=new o;x.northEastDownToFixedFrame=function(e,t,r){if(!l(e))throw new h("origin is required.");if(y.equalsEpsilon(e.x,0,y.EPSILON14)&&y.equalsEpsilon(e.y,0,y.EPSILON14)){var n=y.sign(e.z);return l(r)?(r[0]=-n,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=-n,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,r):new E(-n,0,0,e.x,0,1,0,e.y,0,0,-n,e.z,0,0,0,1)}var i=I,a=R,s=P;return t=u(t,p.WGS84),t.geodeticSurfaceNormal(e,i),a.x=-e.y,a.y=e.x,a.z=0,o.normalize(a,a),o.cross(i,a,s),l(r)?(r[0]=s.x,r[1]=s.y,r[2]=s.z,r[3]=0,r[4]=a.x,r[5]=a.y,r[6]=a.z,r[7]=0,r[8]=-i.x,r[9]=-i.y,r[10]=-i.z,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,r):new E(s.x,a.x,-i.x,e.x,s.y,a.y,-i.y,e.y,s.z,a.z,-i.z,e.z,0,0,0,1)},x.northUpEastToFixedFrame=function(e,t,r){if(!l(e))throw new h("origin is required.");if(y.equalsEpsilon(e.x,0,y.EPSILON14)&&y.equalsEpsilon(e.y,0,y.EPSILON14)){var n=y.sign(e.z);return l(r)?(r[0]=-n,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=0,r[6]=n,r[7]=0,r[8]=0,r[9]=1,r[10]=0,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,r):new E(-n,0,0,e.x,0,0,1,e.y,0,n,0,e.z,0,0,0,1)}var i=A,a=S,s=O;return t=u(t,p.WGS84),t.geodeticSurfaceNormal(e,i),a.x=-e.y,a.y=e.x,a.z=0,o.normalize(a,a),o.cross(i,a,s),l(r)?(r[0]=s.x,r[1]=s.y,r[2]=s.z,r[3]=0,r[4]=i.x,r[5]=i.y,r[6]=i.z,r[7]=0,r[8]=a.x,r[9]=a.y,r[10]=a.z,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,r):new E(s.x,i.x,a.x,e.x,s.y,i.y,a.y,e.y,s.z,i.z,a.z,e.z,0,0,0,1)},x.northWestUpToFixedFrame=function(e,t,r){if(!l(e))throw new h("origin is required.");if(y.equalsEpsilon(e.x,0,y.EPSILON14)&&y.equalsEpsilon(e.y,0,y.EPSILON14)){var n=y.sign(e.z);return l(r)?(r[0]=-n,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=n,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,r):new E(-n,0,0,e.x,0,-1,0,e.y,0,0,n,e.z,0,0,0,1)}var i=A,a=S,s=O;return t=u(t,p.WGS84),t.geodeticSurfaceNormal(e,i),a.x=-e.y,a.y=e.x,a.z=0,o.normalize(a,a),o.cross(i,a,s),l(r)?(r[0]=s.x,r[1]=s.y,r[2]=s.z,r[3]=0,r[4]=-a.x,r[5]=-a.y,r[6]=-a.z,r[7]=0,r[8]=i.x,r[9]=i.y,r[10]=i.z,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,r):new E(s.x,-a.x,i.x,e.x,s.y,-a.y,i.y,e.y,s.z,-a.z,i.z,e.z,0,0,0,1)};var C=new b,M=new o(1,1,1),N=new E;x.headingPitchRollToFixedFrame=function(e,t,r,n,i,a){var s;"object"==typeof t?(i=r,a=n,s=t.heading,r=t.pitch,n=t.roll):(c("headingPitchRollToFixedFrame","headingPitchRollToFixedFrame with separate heading, pitch, and roll arguments was deprecated in 1.27.  It will be removed in 1.30.  Use a HeadingPitchRoll object."),s=t);var u=b.fromHeadingPitchRoll(s,r,n,C),l=E.fromTranslationQuaternionRotationScale(o.ZERO,u,M,N);return a=x.eastNorthUpToFixedFrame(e,i,a),E.multiply(a,l,a)};var q=new m,L=new E,F=new _;x.headingPitchRollQuaternion=function(e,t,r,n,i,o){var a;"object"==typeof t?(a=t,i=r,o=n):(c("headingPitchRollQuaternion","headingPitchRollQuaternion with separate heading, pitch, and roll arguments was deprecated in 1.27.  It will be removed in 1.30.  Use a HeadingPitchRoll object."),q.heading=t,q.pitch=r,q.roll=n,a=q);var s=x.headingPitchRollToFixedFrame(e,a,i,L),u=E.getRotation(s,F);return b.fromRotationMatrix(u,o)};var D=24110.54841,z=8640184.812866,k=.093104,U=-62e-7,B=1.1772758384668e-19,j=72921158553e-15,G=y.TWO_PI/86400,H=new v;x.computeTemeToPseudoFixedMatrix=function(e,t){if(!l(e))throw new h("date is required.");H=v.addSeconds(e,-v.computeTaiMinusUtc(e),H);var r,n=H.dayNumber,i=H.secondsOfDay,o=n-2451545;r=i>=43200?(o+.5)/T.DAYS_PER_JULIAN_CENTURY:(o-.5)/T.DAYS_PER_JULIAN_CENTURY;var a=D+r*(z+r*(k+r*U)),s=a*G%y.TWO_PI,u=j+B*(n-2451545.5),c=(i+.5*T.SECONDS_PER_DAY)%T.SECONDS_PER_DAY,f=s+u*c,d=Math.cos(f),p=Math.sin(f);return l(t)?(t[0]=d,t[1]=-p,t[2]=0,t[3]=p,t[4]=d,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new _(d,p,0,-p,d,0,0,0,1)},x.iau2006XysData=new g,x.earthOrientationParameters=f.NONE;var V=32.184,W=2451545;x.preloadIcrfFixed=function(e){var t=e.start.dayNumber,r=e.start.secondsOfDay+V,i=e.stop.dayNumber,o=e.stop.secondsOfDay+V,a=x.iau2006XysData.preload(t,r,i,o),s=x.earthOrientationParameters.getPromiseToLoad();return n.all([a,s])},x.computeIcrfToFixedMatrix=function(e,t){if(!l(e))throw new h("date is required.");l(t)||(t=new _);var r=x.computeFixedToIcrfMatrix(e,t);if(l(r))return _.transpose(r,t)};var Y=new w(0,0,0),X=new d(0,0,0,0,0,0),Q=new _,Z=new _;x.computeFixedToIcrfMatrix=function(e,t){if(!l(e))throw new h("date is required.");l(t)||(t=new _);var r=x.earthOrientationParameters.compute(e,X);if(l(r)){var n=e.dayNumber,i=e.secondsOfDay+V,o=x.iau2006XysData.computeXysRadians(n,i,Y);if(l(o)){var a=o.x+r.xPoleOffset,s=o.y+r.yPoleOffset,u=1/(1+Math.sqrt(1-a*a-s*s)),c=Q;c[0]=1-u*a*a,c[3]=-u*a*s,c[6]=a,c[1]=-u*a*s,c[4]=1-u*s*s,c[7]=s,c[2]=-a,c[5]=-s,c[8]=1-u*(a*a+s*s);var f=_.fromRotationZ(-o.s,Z),d=_.multiply(c,f,Q),p=e.dayNumber,m=e.secondsOfDay-v.computeTaiMinusUtc(e)+r.ut1MinusUtc,g=p-2451545,w=m/T.SECONDS_PER_DAY,E=.779057273264+w+.00273781191135448*(g+w);
E=E%1*y.TWO_PI;var b=_.fromRotationZ(E,Z),A=_.multiply(d,b,Q),S=Math.cos(r.xPoleWander),O=Math.cos(r.yPoleWander),I=Math.sin(r.xPoleWander),R=Math.sin(r.yPoleWander),P=n-W+i/T.SECONDS_PER_DAY;P/=36525;var C=-47e-6*P*y.RADIANS_PER_DEGREE/3600,M=Math.cos(C),N=Math.sin(C),q=Z;return q[0]=S*M,q[1]=S*N,q[2]=I,q[3]=-O*N+R*I*M,q[4]=O*M+R*I*N,q[5]=-R*S,q[6]=-R*N-O*I*M,q[7]=R*M-O*I*N,q[8]=O*S,_.multiply(A,q,t)}}};var K=new a;x.pointToWindowCoordinates=function(e,t,r,n){return n=x.pointToGLWindowCoordinates(e,t,r,n),n.y=2*t[5]-n.y,n},x.pointToGLWindowCoordinates=function(e,t,r,n){if(!l(e))throw new h("modelViewProjectionMatrix is required.");if(!l(t))throw new h("viewportTransformation is required.");if(!l(r))throw new h("point is required.");l(n)||(n=new i);var o=K;return E.multiplyByVector(e,a.fromElements(r.x,r.y,r.z,1,o),o),a.multiplyByScalar(o,1/o.w,o),E.multiplyByVector(t,o,o),i.fromCartesian4(o,n)};var J=new o,$=new o,ee=new o;x.rotationMatrixFromPositionVelocity=function(e,t,r,n){if(!l(e))throw new h("position is required.");if(!l(t))throw new h("velocity is required.");var i=u(r,p.WGS84).geodeticSurfaceNormal(e,J),a=o.cross(t,i,$);o.equalsEpsilon(a,o.ZERO,y.EPSILON6)&&(a=o.clone(o.UNIT_X,a));var s=o.cross(a,t,ee);return o.cross(t,s,a),o.negate(a,a),l(n)||(n=new _),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=a.x,n[4]=a.y,n[5]=a.z,n[6]=s.x,n[7]=s.y,n[8]=s.z,n};var te=new s,re=new o,ne=new o,ie=new a,oe=new a,ae=new a,se=new a,ue=new a,le=new E,ce=new E;x.basisTo2D=function(e,t,r){if(!l(e))throw new h("projection is required.");if(!l(t))throw new h("matrix is required.");if(!l(r))throw new h("result is required.");var n=e.ellipsoid,i=E.getColumn(t,3,ie),s=n.cartesianToCartographic(i,te),u=x.eastNorthUpToFixedFrame(i,n,le),c=E.inverseTransformation(u,ce),f=e.project(s,re),d=oe;d.x=f.z,d.y=f.x,d.z=f.y,d.w=1;var p=E.getColumn(t,0,ne),m=o.magnitude(p),g=E.multiplyByVector(c,p,ae);a.fromElements(g.z,g.x,g.y,0,g);var w=E.getColumn(t,1,ne),v=o.magnitude(w),y=E.multiplyByVector(c,w,se);a.fromElements(y.z,y.x,y.y,0,y);var _=E.getColumn(t,2,ne),b=o.magnitude(_),T=ue;return o.cross(g,y,T),o.normalize(T,T),o.cross(y,T,g),o.normalize(g,g),o.cross(T,g,y),o.normalize(y,y),o.multiplyByScalar(g,m,g),o.multiplyByScalar(y,v,y),o.multiplyByScalar(T,b,T),E.setColumn(r,0,g,r),E.setColumn(r,1,y,r),E.setColumn(r,2,T,r),E.setColumn(r,3,d,r),r},e.exports=x},function(e,t){"use strict";var r={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444,DOUBLE:5130,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,COLOR:6144,DEPTH:6145,STENCIL:6146,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,MAX_3D_TEXTURE_SIZE:32883,UNSIGNED_INT_2_10_10_10_REV:33640,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,MAX_TEXTURE_LOD_BIAS:34045,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,VERTEX_ATTRIB_ARRAY_INTEGER:35069,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,UNSIGNED_INT_10F_11F_11F_REV:35899,RGB9_E5:35901,UNSIGNED_INT_5_9_9_9_REV:35902,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,RASTERIZER_DISCARD:35977,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,UNSIGNED_INT_24_8:34042,DEPTH24_STENCIL8:35056,UNSIGNED_NORMALIZED:35863,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,MAX_SAMPLES:36183,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,VERTEX_ARRAY_BINDING:34229,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,SIGNED_NORMALIZED:36764,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,INVALID_INDEX:4294967295,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,SAMPLER_BINDING:35097,RGB10_A2UI:36975,INT_2_10_10_10_REV:36255,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_SRGB8_ETC2:37493,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37494,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37495,COMPRESSED_RGBA8_ETC2_EAC:37496,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37497,TEXTURE_IMMUTABLE_FORMAT:37167,MAX_ELEMENT_INDEX:36203,TEXTURE_IMMUTABLE_LEVELS:33503};e.exports=Object.freeze(r)},function(e,t,r){"use strict";function n(e){if(e=u(e,u.EMPTY_OBJECT),!l(e.url))throw new c("options.url is required.");var t=e.responseType,r=u(e.method,"GET"),i=e.data,o=e.headers,a=e.overrideMimeType;return when(e.url,function(e){var u=s.defer();return n.load(e,t,r,i,o,u,a),u.promise})}function i(e,t){var r=decodeURIComponent(t);return e?atob(r):r}function o(e,t){for(var r=i(e,t),n=new ArrayBuffer(r.length),o=new Uint8Array(n),a=0;a<r.length;a++)o[a]=r.charCodeAt(a);return n}function a(e,t){t=u(t,"");var r=e[1],n=!!e[2],a=e[3];switch(t){case"":case"text":return i(n,a);case"arraybuffer":return o(n,a);case"blob":var s=o(n,a);return new Blob([s],{type:r});case"document":var l=new DOMParser;return l.parseFromString(i(n,a),r);case"json":return JSON.parse(i(n,a));default:throw new c("Unhandled responseType: "+t)}}var s=r(18),u=r(3),l=r(1),c=r(2),h=r(106),f=r(41),d=r(70),p=/^data:(.*?)(;base64)?,(.*)$/;n.load=function(e,t,r,n,i,o,s){var u=p.exec(e);if(null!==u)return void o.resolve(a(u,t));var c=new XMLHttpRequest;if(d.contains(e)&&(c.withCredentials=!0),l(s)&&l(c.overrideMimeType)&&c.overrideMimeType(s),c.open(r,e,!0),l(i))for(var m in i)i.hasOwnProperty(m)&&c.setRequestHeader(m,i[m]);l(t)&&(c.responseType=t),c.onload=function(){if(c.status<200||c.status>=300)return void o.reject(new h(c.status,c.response,c.getAllResponseHeaders()));var e=c.response,r=c.responseType;if(!l(e)||l(t)&&r!==t)if("json"===t&&"string"==typeof e)try{o.resolve(JSON.parse(e))}catch(e){o.reject(e)}else(""===r||"document"===r)&&l(c.responseXML)&&c.responseXML.hasChildNodes()?o.resolve(c.responseXML):""!==r&&"text"!==r||!l(c.responseText)?o.reject(new f("Invalid XMLHttpRequest response type.")):o.resolve(c.responseText);else o.resolve(e)},c.onerror=function(e){o.reject(new h)},c.send(n)},n.defaultLoad=n.load,e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n){this.x=a(e,0),this.y=a(t,0),this.width=a(r,0),this.height=a(n,0)}var i=r(9),o=r(15),a=r(3),s=r(1),u=r(2),l=r(27),c=r(34),h=r(16);n.packedLength=4,n.pack=function(e,t,r){if(!s(e))throw new u("value is required");if(!s(t))throw new u("array is required");return r=a(r,0),t[r++]=e.x,t[r++]=e.y,t[r++]=e.width,t[r]=e.height,t},n.unpack=function(e,t,r){if(!s(e))throw new u("array is required");return t=a(t,0),s(r)||(r=new n),r.x=e[t++],r.y=e[t++],r.width=e[t++],r.height=e[t],r},n.fromPoints=function(e,t){if(s(t)||(t=new n),!s(e)||0===e.length)return t.x=0,t.y=0,t.width=0,t.height=0,t;for(var r=e.length,i=e[0].x,o=e[0].y,a=e[0].x,u=e[0].y,l=1;l<r;l++){var c=e[l],h=c.x,f=c.y;i=Math.min(h,i),a=Math.max(h,a),o=Math.min(f,o),u=Math.max(f,u)}return t.x=i,t.y=o,t.width=a-i,t.height=u-o,t};var f=new l,d=new o,p=new o;n.fromRectangle=function(e,t,r){if(s(r)||(r=new n),!s(e))return r.x=0,r.y=0,r.width=0,r.height=0,r;t=a(t,f);var o=t.project(h.southwest(e,d)),u=t.project(h.northeast(e,p));return i.subtract(u,o,u),r.x=o.x,r.y=o.y,r.width=u.x,r.height=u.y,r},n.clone=function(e,t){if(s(e))return s(t)?(t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t):new n(e.x,e.y,e.width,e.height)},n.union=function(e,t,r){if(!s(e))throw new u("left is required.");if(!s(t))throw new u("right is required.");s(r)||(r=new n);var i=Math.min(e.x,t.x),o=Math.min(e.y,t.y),a=Math.max(e.x+e.width,t.x+t.width),l=Math.max(e.y+e.height,t.y+t.height);return r.x=i,r.y=o,r.width=a-i,r.height=l-o,r},n.expand=function(e,t,r){if(!s(e))throw new u("rectangle is required.");if(!s(t))throw new u("point is required.");r=n.clone(e,r);var i=t.x-r.x,o=t.y-r.y;return i>r.width?r.width=i:i<0&&(r.width-=i,r.x=t.x),o>r.height?r.height=o:o<0&&(r.height-=o,r.y=t.y),r},n.intersect=function(e,t){if(!s(e))throw new u("left is required.");if(!s(t))throw new u("right is required.");var r=e.x,n=e.y,i=t.x,o=t.y;return r>i+t.width||r+e.width<i||n+e.height<o||n>o+t.height?c.OUTSIDE:c.INTERSECTING},n.equals=function(e,t){return e===t||s(e)&&s(t)&&e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.intersect=function(e){return n.intersect(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},e.exports=n},function(e,t,r){"use strict";function n(e){for(var t=e.split("."),r=0,n=t.length;r<n;++r)t[r]=parseInt(t[r],10);return t}function i(){if(!b(x)&&(x=!1,!f())){var e=/ Chrome\/([\.0-9]+)/.exec(_.userAgent);null!==e&&(x=!0,A=n(e[1]))}return x}function o(){return i()&&A}function a(){if(!b(S)&&(S=!1,!i()&&!f()&&/ Safari\/[\.0-9]+/.test(_.userAgent))){var e=/ Version\/([\.0-9]+)/.exec(_.userAgent);null!==e&&(S=!0,O=n(e[1]))}return S}function s(){return a()&&O}function u(){if(!b(I)){I=!1;var e=/ AppleWebKit\/([\.0-9]+)(\+?)/.exec(_.userAgent);null!==e&&(I=!0,R=n(e[1]),R.isNightly=!!e[2])}return I}function l(){return u()&&R}function c(){if(!b(P)){P=!1;var e;"Microsoft Internet Explorer"===_.appName?(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(_.userAgent),null!==e&&(P=!0,C=n(e[1]))):"Netscape"===_.appName&&(e=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(_.userAgent),null!==e&&(P=!0,C=n(e[1])))}return P}function h(){return c()&&C}function f(){if(!b(M)){M=!1;var e=/ Edge\/([\.0-9]+)/.exec(_.userAgent);null!==e&&(M=!0,N=n(e[1]))}return M}function d(){return f()&&N}function p(){if(!b(q)){q=!1;var e=/Firefox\/([\.0-9]+)/.exec(_.userAgent);null!==e&&(q=!0,L=n(e[1]))}return q}function m(){return b(F)||(F=/Windows/i.test(_.appVersion)),F}function g(){return p()&&L}function w(){return b(D)||(D="undefined"!=typeof PointerEvent&&(!b(_.pointerEnabled)||_.pointerEnabled)),D}function v(){if(!b(k)){var e=document.createElement("canvas");e.setAttribute("style","image-rendering: -moz-crisp-edges;image-rendering: pixelated;");var t=e.style.imageRendering;k=b(t)&&""!==t,k&&(z=t)}return k}function y(){return v()?z:void 0}var _,E=r(3),b=r(1),T=r(94);_="undefined"!=typeof navigator?navigator:{};var x,A,S,O,I,R,P,C,M,N,q,L,F,D,z,k,U={isChrome:i,chromeVersion:o,isSafari:a,safariVersion:s,isWebkit:u,webkitVersion:l,isInternetExplorer:c,internetExplorerVersion:h,isEdge:f,edgeVersion:d,isFirefox:p,firefoxVersion:g,isWindows:m,hardwareConcurrency:E(_.hardwareConcurrency,3),supportsPointerEvents:w,supportsImageRenderingPixelated:v,imageRenderingValue:y};U.supportsFullscreen=function(){return T.supportsFullscreen()},U.supportsTypedArrays=function(){return"undefined"!=typeof ArrayBuffer},U.supportsWebWorkers=function(){return"undefined"!=typeof Worker},e.exports=U},function(e,t,r){"use strict";function n(e){if(!h(e)||!h(e.buffer))throw new f("options.buffer is required.");if(!h(e.width))throw new f("options.width is required.");if(!h(e.height))throw new f("options.height is required.");this._buffer=e.buffer,this._width=e.width,this._height=e.height,this._childTileMask=c(e.childTileMask,15);var t=p.DEFAULT_STRUCTURE,r=e.structure;h(r)?r!==t&&(r.heightScale=c(r.heightScale,t.heightScale),r.heightOffset=c(r.heightOffset,t.heightOffset),r.elementsPerHeight=c(r.elementsPerHeight,t.elementsPerHeight),r.stride=c(r.stride,t.stride),r.elementMultiplier=c(r.elementMultiplier,t.elementMultiplier),r.isBigEndian=c(r.isBigEndian,t.isBigEndian)):r=t,this._structure=r,this._createdByUpsampling=c(e.createdByUpsampling,!1),this._waterMask=e.waterMask,this._skirtHeight=void 0,this._bufferType=this._buffer.constructor,this._mesh=void 0}function i(e,t,r,n,i,o,u,l,c,h){var f=(c-o.west)*(u-1)/(o.east-o.west),d=(h-o.south)*(l-1)/(o.north-o.south),p=0|f,m=p+1;m>=u&&(m=u-1,p=u-2);var g=0|d,w=g+1;w>=l&&(w=l-1,g=l-2);var v=f-p,y=d-g;g=l-1-g,w=l-1-w;var _=s(e,t,r,n,i,g*u+p),E=s(e,t,r,n,i,g*u+m),b=s(e,t,r,n,i,w*u+p),T=s(e,t,r,n,i,w*u+m);return a(v,y,_,E,b,T)}function o(e,t,r,n,i,o,s,u,l,c,h){var f=(l-o.west)*(s-1)/(o.east-o.west),d=(c-o.south)*(u-1)/(o.north-o.south);i>0&&(f+=1,d+=1,s+=2,u+=2);var p=i>0?s-1:s,m=0|f,g=m+1;g>=p&&(g=s-1,m=s-2);var w=i>0?u-1:u,v=0|d,y=v+1;y>=w&&(y=u-1,v=u-2);var _=f-m,E=d-v;v=u-1-v,y=u-1-y;var b=(t.decodeHeight(e,v*s+m)/h-r)/n,T=(t.decodeHeight(e,v*s+g)/h-r)/n,x=(t.decodeHeight(e,y*s+m)/h-r)/n,A=(t.decodeHeight(e,y*s+g)/h-r)/n;return a(_,E,b,T,x,A)}function a(e,t,r,n,i,o){return t<e?r+e*(n-r)+t*(o-n):r+e*(o-i)+t*(i-r)}function s(e,t,r,n,i,o){o*=n;var a,s=0;if(i)for(a=0;a<t;++a)s=s*r+e[o+a];else for(a=t-1;a>=0;--a)s=s*r+e[o+a];return s}function u(e,t,r,n,i,o,a,s){a*=i;var u;if(o)for(u=0;u<t-1;++u)e[a+u]=s/n|0,s-=e[a+u]*n,n/=r;else for(u=t-1;u>0;--u)e[a+u]=s/n|0,s-=e[a+u]*n,n/=r;e[a+u]=s}var l=r(18),c=r(3),h=r(1),f=r(2),d=r(37),p=r(153),m=r(5),g=r(16),w=r(67),v=r(68),y=r(108),_=r(43);Object.defineProperties(n.prototype,{waterMask:{get:function(){return this._waterMask}}});var E=new w("createVerticesFromHeightmap");n.prototype.createMesh=function(e,t,r,n,i){if(!h(e))throw new f("tilingScheme is required.");if(!h(t))throw new f("x is required.");if(!h(r))throw new f("y is required.");if(!h(n))throw new f("level is required.");var o=e.ellipsoid,a=e.tileXYToNativeRectangle(t,r,n),s=e.tileXYToRectangle(t,r,n);i=c(i,1);var u=o.cartographicToCartesian(g.center(s)),p=this._structure,m=_.getEstimatedLevelZeroGeometricErrorForAHeightmap(o,this._width,e.getNumberOfXTilesAtLevel(0)),w=m/(1<<n);this._skirtHeight=Math.min(4*w,1e3);var b=E.scheduleTask({heightmap:this._buffer,structure:p,includeWebMercatorT:!0,width:this._width,height:this._height,nativeRectangle:a,rectangle:s,relativeToCenter:u,ellipsoid:o,skirtHeight:this._skirtHeight,isGeographic:e instanceof d,exaggeration:i});if(h(b)){var T=this;return new l(function(e){T._mesh=new y(u,new Float32Array(result.vertices),_.getRegularGridIndices(result.gridWidth,result.gridHeight),result.minimumHeight,result.maximumHeight,result.boundingSphere3D,result.occludeePointInScaledSpace,result.numberOfAttributes,result.orientedBoundingBox,v.clone(result.encoding),i),T._buffer=void 0,e(b)})}},n.prototype.interpolateHeight=function(e,t,r){var n,a=this._width,s=this._height,u=this._structure,l=u.stride,c=u.elementsPerHeight,f=u.elementMultiplier,d=u.isBigEndian,p=u.heightOffset,m=u.heightScale;if(h(this._mesh)){var g=this._mesh.vertices,w=this._mesh.encoding,v=this._skirtHeight,y=this._mesh.exaggeration;n=o(g,w,p,m,v,e,a,s,t,r,y)}else n=i(this._buffer,c,f,l,d,e,a,s,t,r),n=n*m+p;return n},n.prototype.upsample=function(e,t,r,i,a,s,l){if(!h(e))throw new f("tilingScheme is required.");if(!h(t))throw new f("thisX is required.");if(!h(r))throw new f("thisY is required.");if(!h(i))throw new f("thisLevel is required.");if(!h(a))throw new f("descendantX is required.");if(!h(s))throw new f("descendantY is required.");if(!h(l))throw new f("descendantLevel is required.");var c=l-i;if(c>1)throw new f("Upsampling through more than one level at a time is not currently supported.");var d=this._width,p=this._height,g=this._structure,w=this._skirtHeight,v=g.stride,y=new this._bufferType(d*p*v),_=this._mesh;if(h(_)){for(var E=_.vertices,b=_.encoding,T=e.tileXYToRectangle(t,r,i),x=e.tileXYToRectangle(a,s,l),A=g.heightOffset,S=g.heightScale,O=_.exaggeration,I=g.elementsPerHeight,R=g.elementMultiplier,P=g.isBigEndian,C=Math.pow(R,I-1),M=0;M<p;++M)for(var N=m.lerp(x.north,x.south,M/(p-1)),q=0;q<d;++q){var L=m.lerp(x.west,x.east,q/(d-1)),F=o(E,b,A,S,w,T,d,p,L,N,O);F=F<g.lowestEncodedHeight?g.lowestEncodedHeight:F,F=F>g.highestEncodedHeight?g.highestEncodedHeight:F,u(y,I,R,C,v,P,M*d+q,F)}return new n({buffer:y,width:d,height:p,childTileMask:0,structure:this._structure,createdByUpsampling:!0})}},n.prototype.isChildAvailable=function(e,t,r,n){if(!h(e))throw new f("thisX is required.");if(!h(t))throw new f("thisY is required.");if(!h(r))throw new f("childX is required.");if(!h(n))throw new f("childY is required.");var i=2;return r!==2*e&&++i,n!==2*t&&(i-=2),0!==(this._childTileMask&1<<i)},n.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling},e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n){var i=t*t-4*e*r;if(!(i<0)){if(i>0){var o=1/(2*e),a=Math.sqrt(i),s=(-t+a)*o,u=(-t-a)*o;return s<u?(n.root0=s,n.root1=u):(n.root0=u,n.root1=s),n}var l=-t/(2*e);if(0!==l)return n.root0=n.root1=l,n}}function i(e,t,r){c(r)||(r={});var i=e.origin,o=e.direction,a=t.center,u=t.radius*t.radius,l=s.subtract(i,a,_),h=s.dot(o,o),f=2*s.dot(o,l),d=s.magnitudeSquared(l)-u,p=n(h,f,d,x);if(c(p))return r.start=p.root0,r.stop=p.root1,r}function o(e,t,r){var n=e+t;return f.sign(e)!==f.sign(t)&&Math.abs(n/Math.max(Math.abs(e),Math.abs(t)))<r?0:n}function a(e,t,r,n,i){var a,u=n*n,l=i*i,c=(e[d.COLUMN1ROW1]-e[d.COLUMN2ROW2])*l,h=i*(n*o(e[d.COLUMN1ROW0],e[d.COLUMN0ROW1],f.EPSILON15)+t.y),g=e[d.COLUMN0ROW0]*u+e[d.COLUMN2ROW2]*l+n*t.x+r,w=l*o(e[d.COLUMN2ROW1],e[d.COLUMN1ROW2],f.EPSILON15),v=i*(n*o(e[d.COLUMN2ROW0],e[d.COLUMN0ROW2])+t.z),y=[];if(0===v&&0===w){if(a=p.computeRealRoots(c,h,g),0===a.length)return y;var _=a[0],E=Math.sqrt(Math.max(1-_*_,0));if(y.push(new s(n,i*_,i*-E)),y.push(new s(n,i*_,i*E)),2===a.length){var b=a[1],T=Math.sqrt(Math.max(1-b*b,0));y.push(new s(n,i*b,i*-T)),y.push(new s(n,i*b,i*T))}return y}var x=v*v,A=w*w,S=c*c,O=v*w,I=S+A,R=2*(h*c+O),P=2*g*c+h*h-A+x,C=2*(g*h-O),M=g*g-x;if(0===I&&0===R&&0===P&&0===C)return y;a=m.computeRealRoots(I,R,P,C,M);var N=a.length;if(0===N)return y;for(var q=0;q<N;++q){var L,F=a[q],D=F*F,z=Math.max(1-D,0),k=Math.sqrt(z);L=f.sign(c)===f.sign(g)?o(c*D+g,h*F,f.EPSILON12):f.sign(g)===f.sign(h*F)?o(c*D,h*F+g,f.EPSILON12):o(c*D+h*F,g,f.EPSILON12);var U=o(w*F,v,f.EPSILON15),B=L*U;B<0?y.push(new s(n,i*F,i*k)):B>0?y.push(new s(n,i*F,i*-k)):0!==k?(y.push(new s(n,i*F,i*-k)),y.push(new s(n,i*F,i*k)),++q):y.push(new s(n,i*F,i*k))}return y}var s=r(4),u=r(15),l=r(3),c=r(1),h=r(2),f=r(5),d=r(17),p=r(53),m=r(104),g=r(66),w={};w.rayPlane=function(e,t,r){if(!c(e))throw new h("ray is required.");if(!c(t))throw new h("plane is required.");c(r)||(r=new s);var n=e.origin,i=e.direction,o=t.normal,a=s.dot(o,i);if(!(Math.abs(a)<f.EPSILON15)){var u=(-t.distance-s.dot(o,n))/a;if(!(u<0))return r=s.multiplyByScalar(i,u,r),s.add(n,r,r)}};var v=new s,y=new s,_=new s,E=new s,b=new s;w.rayTriangleParametric=function(e,t,r,n,i){if(!c(e))throw new h("ray is required.");if(!c(t))throw new h("p0 is required.");if(!c(r))throw new h("p1 is required.");if(!c(n))throw new h("p2 is required.");i=l(i,!1);var o,a,u,d,p,m=e.origin,g=e.direction,w=s.subtract(r,t,v),T=s.subtract(n,t,y),x=s.cross(g,T,_),A=s.dot(w,x);if(i){if(A<f.EPSILON6)return;if(o=s.subtract(m,t,E),u=s.dot(o,x),u<0||u>A)return;if(a=s.cross(o,w,b),d=s.dot(g,a),d<0||u+d>A)return;p=s.dot(T,a)/A}else{if(Math.abs(A)<f.EPSILON6)return;var S=1/A;if(o=s.subtract(m,t,E),u=s.dot(o,x)*S,u<0||u>1)return;if(a=s.cross(o,w,b),d=s.dot(g,a)*S,d<0||u+d>1)return;p=s.dot(T,a)*S}return p},w.rayTriangle=function(e,t,r,n,i,o){var a=w.rayTriangleParametric(e,t,r,n,i);if(c(a)&&!(a<0))return c(o)||(o=new s),s.multiplyByScalar(e.direction,a,o),s.add(e.origin,o,o)};var T=new g;w.lineSegmentTriangle=function(e,t,r,n,i,o,a){if(!c(e))throw new h("v0 is required.");if(!c(t))throw new h("v1 is required.");if(!c(r))throw new h("p0 is required.");if(!c(n))throw new h("p1 is required.");if(!c(i))throw new h("p2 is required.");var u=T;s.clone(e,u.origin),s.subtract(t,e,u.direction),s.normalize(u.direction,u.direction);var l=w.rayTriangleParametric(u,r,n,i,o);if(!(!c(l)||l<0||l>s.distance(e,t)))return c(a)||(a=new s),s.multiplyByScalar(u.direction,l,a),s.add(u.origin,a,a)};var x={root0:0,root1:0};w.raySphere=function(e,t,r){if(!c(e))throw new h("ray is required.");if(!c(t))throw new h("sphere is required.");if(r=i(e,t,r),c(r)&&!(r.stop<0))return r.start=Math.max(r.start,0),r};var A=new g;w.lineSegmentSphere=function(e,t,r,n){if(!c(e))throw new h("p0 is required.");if(!c(t))throw new h("p1 is required.");if(!c(r))throw new h("sphere is required.");var o=A;s.clone(e,o.origin);var a=s.subtract(t,e,o.direction),u=s.magnitude(a);if(s.normalize(a,a),n=i(o,r,n),!(!c(n)||n.stop<0||n.start>u))return n.start=Math.max(n.start,0),n.stop=Math.min(n.stop,u),n};var S=new s,O=new s;w.rayEllipsoid=function(e,t){if(!c(e))throw new h("ray is required.");if(!c(t))throw new h("ellipsoid is required.");var r,n,i,o,a,u=t.oneOverRadii,l=s.multiplyComponents(u,e.origin,S),f=s.multiplyComponents(u,e.direction,O),d=s.magnitudeSquared(l),p=s.dot(l,f);if(d>1){if(p>=0)return;var m=p*p;if(r=d-1,n=s.magnitudeSquared(f),i=n*r,m<i)return;if(m>i){o=p*p-i,a=-p+Math.sqrt(o);var g=a/n,w=r/a;return g<w?{start:g,stop:w}:{start:w,stop:g}}var v=Math.sqrt(r/n);return{start:v,stop:v}}return d<1?(r=d-1,n=s.magnitudeSquared(f),i=n*r,o=p*p-i,a=-p+Math.sqrt(o),{start:0,stop:a/n}):p<0?(n=s.magnitudeSquared(f),{start:0,stop:-p/n}):void 0};var I=new s,R=new s,P=new s,C=new s,M=new s,N=new d,q=new d,L=new d,F=new d,D=new d,z=new d,k=new d,U=new s,B=new s,j=new u;w.grazingAltitudeLocation=function(e,t){if(!c(e))throw new h("ray is required.");if(!c(t))throw new h("ellipsoid is required.");
var r=e.origin,n=e.direction;if(!s.equals(r,s.ZERO)){var i=t.geodeticSurfaceNormal(r,I);if(s.dot(n,i)>=0)return r}var o=c(this.rayEllipsoid(e,t)),u=t.transformPositionToScaledSpace(n,I),l=s.normalize(u,u),p=s.mostOrthogonalAxis(u,C),m=s.normalize(s.cross(p,l,R),R),g=s.normalize(s.cross(l,m,P),P),w=N;w[0]=l.x,w[1]=l.y,w[2]=l.z,w[3]=m.x,w[4]=m.y,w[5]=m.z,w[6]=g.x,w[7]=g.y,w[8]=g.z;var v=d.transpose(w,q),y=d.fromScale(t.radii,L),_=d.fromScale(t.oneOverRadii,F),E=D;E[0]=0,E[1]=-n.z,E[2]=n.y,E[3]=n.z,E[4]=0,E[5]=-n.x,E[6]=-n.y,E[7]=n.x,E[8]=0;var b,T,x=d.multiply(d.multiply(v,_,z),E,z),A=d.multiply(d.multiply(x,y,k),w,k),S=d.multiplyByVector(x,r,M),O=a(A,s.negate(S,I),0,0,1),G=O.length;if(G>0){for(var H=s.clone(s.ZERO,B),V=Number.NEGATIVE_INFINITY,W=0;W<G;++W){b=d.multiplyByVector(y,d.multiplyByVector(w,O[W],U),U);var Y=s.normalize(s.subtract(b,r,C),C),X=s.dot(Y,n);X>V&&(V=X,H=s.clone(b,H))}var Q=t.cartesianToCartographic(H,j);return V=f.clamp(V,0,1),T=s.magnitude(s.subtract(H,r,C))*Math.sqrt(1-V*V),T=o?-T:T,Q.height=T,t.cartographicToCartesian(Q,new s)}};var G=new s;w.lineSegmentPlane=function(e,t,r,n){if(!c(e))throw new h("endPoint0 is required.");if(!c(t))throw new h("endPoint1 is required.");if(!c(r))throw new h("plane is required.");c(n)||(n=new s);var i=s.subtract(t,e,G),o=r.normal,a=s.dot(o,i);if(!(Math.abs(a)<f.EPSILON6)){var u=s.dot(o,e),l=-(r.distance+u)/a;if(!(l<0||l>1))return s.multiplyByScalar(i,l,n),s.add(e,n,n),n}},w.trianglePlaneIntersection=function(e,t,r,n){if(!(c(e)&&c(t)&&c(r)&&c(n)))throw new h("p0, p1, p2, and plane are required.");var i=n.normal,o=n.distance,a=s.dot(i,e)+o<0,u=s.dot(i,t)+o<0,l=s.dot(i,r)+o<0,f=0;f+=a?1:0,f+=u?1:0,f+=l?1:0;var d,p;if(1!==f&&2!==f||(d=new s,p=new s),1===f){if(a)return w.lineSegmentPlane(e,t,n,d),w.lineSegmentPlane(e,r,n,p),{positions:[e,t,r,d,p],indices:[0,3,4,1,2,4,1,4,3]};if(u)return w.lineSegmentPlane(t,r,n,d),w.lineSegmentPlane(t,e,n,p),{positions:[e,t,r,d,p],indices:[1,3,4,2,0,4,2,4,3]};if(l)return w.lineSegmentPlane(r,e,n,d),w.lineSegmentPlane(r,t,n,p),{positions:[e,t,r,d,p],indices:[2,3,4,0,1,4,0,4,3]}}else if(2===f){if(!a)return w.lineSegmentPlane(t,e,n,d),w.lineSegmentPlane(r,e,n,p),{positions:[e,t,r,d,p],indices:[1,2,4,1,4,3,0,3,4]};if(!u)return w.lineSegmentPlane(r,t,n,d),w.lineSegmentPlane(e,t,n,p),{positions:[e,t,r,d,p],indices:[2,0,4,2,4,3,1,3,4]};if(!l)return w.lineSegmentPlane(e,r,n,d),w.lineSegmentPlane(t,r,n,p),{positions:[e,t,r,d,p],indices:[0,1,4,0,4,3,2,3,4]}}},e.exports=w},function(e,t,r){"use strict";function n(e,t,r){var n=e+t;return o.sign(e)!==o.sign(t)&&Math.abs(n/Math.max(Math.abs(e),Math.abs(t)))<r?0:n}var i=r(2),o=r(5),a={};a.computeDiscriminant=function(e,t,r){if("number"!=typeof e)throw new i("a is a required number.");if("number"!=typeof t)throw new i("b is a required number.");if("number"!=typeof r)throw new i("c is a required number.");var n=t*t-4*e*r;return n},a.computeRealRoots=function(e,t,r){if("number"!=typeof e)throw new i("a is a required number.");if("number"!=typeof t)throw new i("b is a required number.");if("number"!=typeof r)throw new i("c is a required number.");var a;if(0===e)return 0===t?[]:[-r/t];if(0===t){if(0===r)return[0,0];var s=Math.abs(r),u=Math.abs(e);if(s<u&&s/u<o.EPSILON14)return[0,0];if(s>u&&u/s<o.EPSILON14)return[];if(a=-r/e,a<0)return[];var l=Math.sqrt(a);return[-l,l]}if(0===r)return a=-t/e,a<0?[a,0]:[0,a];var c=t*t,h=4*e*r,f=n(c,-h,o.EPSILON14);if(f<0)return[];var d=-.5*n(t,o.sign(t)*Math.sqrt(f),o.EPSILON14);return t>0?[d/e,r/d]:[r/d,d/e]},e.exports=a},function(e,t,r){"use strict";function n(e,t,r){if(!i(e))throw new o("array is required.");if(!i(t))throw new o("itemToFind is required.");if(!i(r))throw new o("comparator is required.");for(var n,a,s=0,u=e.length-1;s<=u;)if(n=~~((s+u)/2),a=r(e[n],t),a<0)s=n+1;else{if(!(a>0))return n;u=n-1}return~(u+1)}var i=r(1),o=r(2);e.exports=n},function(e,t,r){"use strict";function n(){for(var e=document.getElementsByTagName("script"),t=0,r=e.length;t<r;++t){var n=e[t].getAttribute("src"),i=g.exec(n);if(null!==i)return i[1]}}function i(){if(f(u))return u;var e;if(e="undefined"!=typeof CESIUM_BASE_URL?CESIUM_BASE_URL:n(),!f(e))throw new d("Unable to determine Cesium base URL automatically, try defining a global variable called CESIUM_BASE_URL.");return u=new h(p(e))}function o(e){return r(127).toUrl("../"+e)}function a(e){return m(i(),e)}function s(e){f(l)||(l=f(r(127).toUrl)?o:a),f(c)||(c=document.createElement("a"));var t=l(e);return c.href=t,c.href=c.href,c.href}var u,l,c,h=r(30),f=r(1),d=r(2),p=r(74),m=r(203),g=/((?:.*\/)|^)cesium[\w-]*\.js(?:\W|$)/i;s._cesiumScriptRegex=g,s.setBaseUrl=function(e){u=new h(e).relativeTo(h)},e.exports=s},function(e,t,r){"use strict";function n(){return!0}function i(e,t){function r(){throw new a(t)}t=o(t,"This object was destroyed, i.e., destroy() was called.");for(var i in e)"function"==typeof e[i]&&(e[i]=r);e.isDestroyed=n}var o=r(3),a=r(2);e.exports=i},function(e,t,r){"use strict";var n=r(1),i=Array.isArray;n(i)||(i=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),e.exports=i},function(e,t,r){"use strict";function n(e,t,r){this.minimum=i.clone(o(e,i.ZERO)),this.maximum=i.clone(o(t,i.ZERO)),a(r)?r=i.clone(r):(r=i.add(this.minimum,this.maximum,new i),i.multiplyByScalar(r,.5,r)),this.center=r}var i=r(4),o=r(3),a=r(1),s=r(2),u=r(34);n.fromPoints=function(e,t){if(a(t)||(t=new n),!a(e)||0===e.length)return t.minimum=i.clone(i.ZERO,t.minimum),t.maximum=i.clone(i.ZERO,t.maximum),t.center=i.clone(i.ZERO,t.center),t;for(var r=e[0].x,o=e[0].y,s=e[0].z,u=e[0].x,l=e[0].y,c=e[0].z,h=e.length,f=1;f<h;f++){var d=e[f],p=d.x,m=d.y,g=d.z;r=Math.min(p,r),u=Math.max(p,u),o=Math.min(m,o),l=Math.max(m,l),s=Math.min(g,s),c=Math.max(g,c)}var w=t.minimum;w.x=r,w.y=o,w.z=s;var v=t.maximum;v.x=u,v.y=l,v.z=c;var y=i.add(w,v,t.center);return i.multiplyByScalar(y,.5,y),t},n.clone=function(e,t){if(a(e))return a(t)?(t.minimum=i.clone(e.minimum,t.minimum),t.maximum=i.clone(e.maximum,t.maximum),t.center=i.clone(e.center,t.center),t):new n(e.minimum,e.maximum)},n.equals=function(e,t){return e===t||a(e)&&a(t)&&i.equals(e.center,t.center)&&i.equals(e.minimum,t.minimum)&&i.equals(e.maximum,t.maximum)};var l=new i;n.intersectPlane=function(e,t){if(!a(e))throw new s("box is required.");if(!a(t))throw new s("plane is required.");l=i.subtract(e.maximum,e.minimum,l);var r=i.multiplyByScalar(l,.5,l),n=t.normal,o=r.x*Math.abs(n.x)+r.y*Math.abs(n.y)+r.z*Math.abs(n.z),c=i.dot(e.center,n)+t.distance;return c-o>0?u.INSIDE:c+o<0?u.OUTSIDE:u.INTERSECTING},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.intersectPlane=function(e){return n.intersectPlane(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},e.exports=n},function(e,t){"use strict";var r={NONE:0,TRIANGLES:1,LINES:2,POLYLINES:3};e.exports=Object.freeze(r)},function(e,t,r){"use strict";function n(e,t){this.start=i(e,0),this.stop=i(t,0)}var i=r(3);e.exports=n},function(e,t){"use strict";function r(e,t){this.julianDate=e,this.offset=t}e.exports=r},function(e,t,r){"use strict";function n(e,t,r,n){this[0]=o(e,0),this[1]=o(r,0),this[2]=o(t,0),this[3]=o(n,0)}var i=r(9),o=r(3),a=r(1),s=r(2);n.packedLength=4,n.pack=function(e,t,r){if(!a(e))throw new s("value is required");if(!a(t))throw new s("array is required");return r=o(r,0),t[r++]=e[0],t[r++]=e[1],t[r++]=e[2],t[r++]=e[3],t},n.unpack=function(e,t,r){if(!a(e))throw new s("array is required");return t=o(t,0),a(r)||(r=new n),r[0]=e[t++],r[1]=e[t++],r[2]=e[t++],r[3]=e[t++],r},n.clone=function(e,t){if(a(e))return a(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):new n(e[0],e[2],e[1],e[3])},n.fromArray=function(e,t,r){if(!a(e))throw new s("array is required");return t=o(t,0),a(r)||(r=new n),r[0]=e[t],r[1]=e[t+1],r[2]=e[t+2],r[3]=e[t+3],r},n.fromColumnMajorArray=function(e,t){if(!a(e))throw new s("values parameter is required");return n.clone(e,t)},n.fromRowMajorArray=function(e,t){if(!a(e))throw new s("values is required.");return a(t)?(t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3],t):new n(e[0],e[1],e[2],e[3])},n.fromScale=function(e,t){if(!a(e))throw new s("scale is required.");return a(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=e.y,t):new n(e.x,0,0,e.y)},n.fromUniformScale=function(e,t){if("number"!=typeof e)throw new s("scale is required.");return a(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=e,t):new n(e,0,0,e)},n.fromRotation=function(e,t){if(!a(e))throw new s("angle is required.");var r=Math.cos(e),i=Math.sin(e);return a(t)?(t[0]=r,t[1]=i,t[2]=-i,t[3]=r,t):new n(r,-i,i,r)},n.toArray=function(e,t){if(!a(e))throw new s("matrix is required");return a(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):[e[0],e[1],e[2],e[3]]},n.getElementIndex=function(e,t){if("number"!=typeof t||t<0||t>1)throw new s("row must be 0 or 1.");if("number"!=typeof e||e<0||e>1)throw new s("column must be 0 or 1.");return 2*e+t},n.getColumn=function(e,t,r){if(!a(e))throw new s("matrix is required.");if("number"!=typeof t||t<0||t>1)throw new s("index must be 0 or 1.");if(!a(r))throw new s("result is required");var n=2*t,i=e[n],o=e[n+1];return r.x=i,r.y=o,r},n.setColumn=function(e,t,r,i){if(!a(e))throw new s("matrix is required");if(!a(r))throw new s("cartesian is required");if("number"!=typeof t||t<0||t>1)throw new s("index must be 0 or 1.");if(!a(i))throw new s("result is required");i=n.clone(e,i);var o=2*t;return i[o]=r.x,i[o+1]=r.y,i},n.getRow=function(e,t,r){if(!a(e))throw new s("matrix is required.");if("number"!=typeof t||t<0||t>1)throw new s("index must be 0 or 1.");if(!a(r))throw new s("result is required");var n=e[t],i=e[t+2];return r.x=n,r.y=i,r},n.setRow=function(e,t,r,i){if(!a(e))throw new s("matrix is required");if(!a(r))throw new s("cartesian is required");if("number"!=typeof t||t<0||t>1)throw new s("index must be 0 or 1.");if(!a(i))throw new s("result is required");return i=n.clone(e,i),i[t]=r.x,i[t+2]=r.y,i};var u=new i;n.getScale=function(e,t){if(!a(e))throw new s("matrix is required.");if(!a(t))throw new s("result is required");return t.x=i.magnitude(i.fromElements(e[0],e[1],u)),t.y=i.magnitude(i.fromElements(e[2],e[3],u)),t};var l=new i;n.getMaximumScale=function(e){return n.getScale(e,l),i.maximumComponent(l)},n.multiply=function(e,t,r){if(!a(e))throw new s("left is required");if(!a(t))throw new s("right is required");if(!a(r))throw new s("result is required");var n=e[0]*t[0]+e[2]*t[1],i=e[0]*t[2]+e[2]*t[3],o=e[1]*t[0]+e[3]*t[1],u=e[1]*t[2]+e[3]*t[3];return r[0]=n,r[1]=o,r[2]=i,r[3]=u,r},n.add=function(e,t,r){if(!a(e))throw new s("left is required");if(!a(t))throw new s("right is required");if(!a(r))throw new s("result is required");return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r},n.subtract=function(e,t,r){if(!a(e))throw new s("left is required");if(!a(t))throw new s("right is required");if(!a(r))throw new s("result is required");return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r},n.multiplyByVector=function(e,t,r){if(!a(e))throw new s("matrix is required");if(!a(t))throw new s("cartesian is required");if(!a(r))throw new s("result is required");var n=e[0]*t.x+e[2]*t.y,i=e[1]*t.x+e[3]*t.y;return r.x=n,r.y=i,r},n.multiplyByScalar=function(e,t,r){if(!a(e))throw new s("matrix is required");if("number"!=typeof t)throw new s("scalar is required and must be a number");if(!a(r))throw new s("result is required");return r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r},n.multiplyByScale=function(e,t,r){if(!a(e))throw new s("matrix is required");if(!a(t))throw new s("scale is required");if(!a(r))throw new s("result is required");return r[0]=e[0]*t.x,r[1]=e[1]*t.x,r[2]=e[2]*t.y,r[3]=e[3]*t.y,r},n.negate=function(e,t){if(!a(e))throw new s("matrix is required");if(!a(t))throw new s("result is required");return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},n.transpose=function(e,t){if(!a(e))throw new s("matrix is required");if(!a(t))throw new s("result is required");var r=e[0],n=e[2],i=e[1],o=e[3];return t[0]=r,t[1]=n,t[2]=i,t[3]=o,t},n.abs=function(e,t){if(!a(e))throw new s("matrix is required");if(!a(t))throw new s("result is required");return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t},n.equals=function(e,t){return e===t||a(e)&&a(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},n.equalsArray=function(e,t,r){return e[0]===t[r]&&e[1]===t[r+1]&&e[2]===t[r+2]&&e[3]===t[r+3]},n.equalsEpsilon=function(e,t,r){if("number"!=typeof r)throw new s("epsilon must be a number");return e===t||a(e)&&a(t)&&Math.abs(e[0]-t[0])<=r&&Math.abs(e[1]-t[1])<=r&&Math.abs(e[2]-t[2])<=r&&Math.abs(e[3]-t[3])<=r},n.IDENTITY=Object.freeze(new n(1,0,0,1)),n.ZERO=Object.freeze(new n(0,0,0,0)),n.COLUMN0ROW0=0,n.COLUMN0ROW1=1,n.COLUMN1ROW0=2,n.COLUMN1ROW1=3,Object.defineProperties(n.prototype,{length:{get:function(){return n.packedLength}}}),n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.prototype.equalsEpsilon=function(e,t){return n.equalsEpsilon(this,e,t)},n.prototype.toString=function(){return"("+this[0]+", "+this[2]+")\n("+this[1]+", "+this[3]+")"},e.exports=n},function(e,t,r){"use strict";function n(e,t){this.center=s.clone(l(e,s.ZERO)),this.halfAxes=w.clone(l(t,w.ZERO))}function i(e,t,r,i,o,a,u,l){if(!(c(t)&&c(r)&&c(i)&&c(o)&&c(a)&&c(u)))throw new h("all extents (minimum/maximum X/Y/Z) are required.");c(l)||(l=new n);var f=l.halfAxes;w.setColumn(f,0,e.xAxis,f),w.setColumn(f,1,e.yAxis,f),w.setColumn(f,2,e.zAxis,f);var d=I;d.x=(t+r)/2,d.y=(i+o)/2,d.z=(a+u)/2;var p=R;p.x=(r-t)/2,p.y=(o-i)/2,p.z=(u-a)/2;var m=l.center;return d=w.multiplyByVector(f,d,d),s.add(e.origin,d,m),w.multiplyByScale(f,p,f),l}var o=r(7),a=r(9),s=r(4),u=r(15),l=r(3),c=r(1),h=r(2),f=r(6),d=r(32),p=r(34),m=r(60),g=r(5),w=r(17),v=r(39),y=r(16),_=new s,E=new s,b=new s,T=new s,x=new s,A=new s,S=new w,O={unitary:new w,diagonal:new w};n.fromPoints=function(e,t){if(c(t)||(t=new n),!c(e)||0===e.length)return t.halfAxes=w.ZERO,t.center=s.ZERO,t;var r,i=e.length,o=s.clone(e[0],_);for(r=1;r<i;r++)s.add(o,e[r],o);var a=1/i;s.multiplyByScalar(o,a,o);var u,l=0,h=0,f=0,d=0,p=0,m=0;for(r=0;r<i;r++)u=s.subtract(e[r],o,E),l+=u.x*u.x,h+=u.x*u.y,f+=u.x*u.z,d+=u.y*u.y,p+=u.y*u.z,m+=u.z*u.z;l*=a,h*=a,f*=a,d*=a,p*=a,m*=a;var g=S;g[0]=l,g[1]=h,g[2]=f,g[3]=h,g[4]=d,g[5]=p,g[6]=f,g[7]=p,g[8]=m;var v=w.computeEigenDecomposition(g,O),y=w.clone(v.unitary,t.halfAxes),I=w.getColumn(y,0,T),R=w.getColumn(y,1,x),P=w.getColumn(y,2,A),C=-Number.MAX_VALUE,M=-Number.MAX_VALUE,N=-Number.MAX_VALUE,q=Number.MAX_VALUE,L=Number.MAX_VALUE,F=Number.MAX_VALUE;for(r=0;r<i;r++)u=e[r],C=Math.max(s.dot(I,u),C),M=Math.max(s.dot(R,u),M),N=Math.max(s.dot(P,u),N),q=Math.min(s.dot(I,u),q),L=Math.min(s.dot(R,u),L),F=Math.min(s.dot(P,u),F);I=s.multiplyByScalar(I,.5*(q+C),I),R=s.multiplyByScalar(R,.5*(L+M),R),P=s.multiplyByScalar(P,.5*(F+N),P);var D=s.add(I,R,t.center);D=s.add(D,P,D);var z=b;return z.x=C-q,z.y=M-L,z.z=N-F,s.multiplyByScalar(z,.5,z),w.multiplyByScale(t.halfAxes,z,t.halfAxes),t};var I=new s,R=new s,P=new u,C=new s,M=[new u,new u,new u,new u,new u,new u,new u,new u],N=[new s,new s,new s,new s,new s,new s,new s,new s],q=[new a,new a,new a,new a,new a,new a,new a,new a];n.fromRectangle=function(e,t,r,n,o){if(!c(e))throw new h("rectangle is required");if(e.width<0||e.width>g.PI)throw new h("Rectangle width must be between 0 and pi");if(e.height<0||e.height>g.PI)throw new h("Rectangle height must be between 0 and pi");if(c(n)&&!g.equalsEpsilon(n.radii.x,n.radii.y,g.EPSILON15))throw new h("Ellipsoid must be an ellipsoid of revolution (radii.x == radii.y)");t=l(t,0),r=l(r,0),n=l(n,f.WGS84);var a=y.center(e,P),s=n.cartographicToCartesian(a,C),u=new d(s,n),p=u.plane,m=M[0],w=M[1],_=M[2],E=M[3],b=M[4],T=M[5],x=M[6],A=M[7],S=a.longitude,O=e.south<0&&e.north>0?0:a.latitude;x.latitude=T.latitude=b.latitude=e.south,A.latitude=E.latitude=O,m.latitude=w.latitude=_.latitude=e.north,x.longitude=A.longitude=m.longitude=e.west,T.longitude=w.longitude=S,b.longitude=E.longitude=_.longitude=e.east,_.height=w.height=m.height=A.height=x.height=T.height=b.height=E.height=r,n.cartographicArrayToCartesianArray(M,N),u.projectPointsToNearestOnPlane(N,q);var I=Math.min(q[6].x,q[7].x,q[0].x),R=Math.max(q[2].x,q[3].x,q[4].x),L=Math.min(q[4].y,q[5].y,q[6].y),F=Math.max(q[0].y,q[1].y,q[2].y);_.height=m.height=b.height=x.height=t,n.cartographicArrayToCartesianArray(M,N);var D=Math.min(v.getPointDistance(p,N[0]),v.getPointDistance(p,N[2]),v.getPointDistance(p,N[4]),v.getPointDistance(p,N[6])),z=r;return i(u,I,R,L,F,D,z,o)},n.clone=function(e,t){if(c(e))return c(t)?(s.clone(e.center,t.center),w.clone(e.halfAxes,t.halfAxes),t):new n(e.center,e.halfAxes)},n.intersectPlane=function(e,t){if(!c(e))throw new h("box is required.");if(!c(t))throw new h("plane is required.");var r=e.center,n=t.normal,i=e.halfAxes,o=n.x,a=n.y,u=n.z,l=Math.abs(o*i[w.COLUMN0ROW0]+a*i[w.COLUMN0ROW1]+u*i[w.COLUMN0ROW2])+Math.abs(o*i[w.COLUMN1ROW0]+a*i[w.COLUMN1ROW1]+u*i[w.COLUMN1ROW2])+Math.abs(o*i[w.COLUMN2ROW0]+a*i[w.COLUMN2ROW1]+u*i[w.COLUMN2ROW2]),f=s.dot(n,r)+t.distance;return f<=-l?p.OUTSIDE:f>=l?p.INSIDE:p.INTERSECTING};var L=new s,F=new s,D=new s,z=new s;n.distanceSquaredTo=function(e,t){if(!c(e))throw new h("box is required.");if(!c(t))throw new h("cartesian is required.");var r=s.subtract(t,e.center,I),n=e.halfAxes,i=w.getColumn(n,0,L),o=w.getColumn(n,1,F),a=w.getColumn(n,2,D),u=s.magnitude(i),l=s.magnitude(o),f=s.magnitude(a);s.normalize(i,i),s.normalize(o,o),s.normalize(a,a);var d=z;d.x=s.dot(r,i),d.y=s.dot(r,o),d.z=s.dot(r,a);var p,m=0;return d.x<-u?(p=d.x+u,m+=p*p):d.x>u&&(p=d.x-u,m+=p*p),d.y<-l?(p=d.y+l,m+=p*p):d.y>l&&(p=d.y-l,m+=p*p),d.z<-f?(p=d.z+f,m+=p*p):d.z>f&&(p=d.z-f,m+=p*p),m};var k=new s,U=new s;n.computePlaneDistances=function(e,t,r,n){if(!c(e))throw new h("box is required.");if(!c(t))throw new h("position is required.");if(!c(r))throw new h("direction is required.");c(n)||(n=new m);var i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,a=e.center,u=e.halfAxes,l=w.getColumn(u,0,L),f=w.getColumn(u,1,F),d=w.getColumn(u,2,D),p=s.add(l,f,k);s.add(p,d,p),s.add(p,a,p);var g=s.subtract(p,t,U),v=s.dot(r,g);return i=Math.min(v,i),o=Math.max(v,o),s.add(a,l,p),s.add(p,f,p),s.subtract(p,d,p),s.subtract(p,t,g),v=s.dot(r,g),i=Math.min(v,i),o=Math.max(v,o),s.add(a,l,p),s.subtract(p,f,p),s.add(p,d,p),s.subtract(p,t,g),v=s.dot(r,g),i=Math.min(v,i),o=Math.max(v,o),s.add(a,l,p),s.subtract(p,f,p),s.subtract(p,d,p),s.subtract(p,t,g),v=s.dot(r,g),i=Math.min(v,i),o=Math.max(v,o),s.subtract(a,l,p),s.add(p,f,p),s.add(p,d,p),s.subtract(p,t,g),v=s.dot(r,g),i=Math.min(v,i),o=Math.max(v,o),s.subtract(a,l,p),s.add(p,f,p),s.subtract(p,d,p),s.subtract(p,t,g),v=s.dot(r,g),i=Math.min(v,i),o=Math.max(v,o),s.subtract(a,l,p),s.subtract(p,f,p),s.add(p,d,p),s.subtract(p,t,g),v=s.dot(r,g),i=Math.min(v,i),o=Math.max(v,o),s.subtract(a,l,p),s.subtract(p,f,p),s.subtract(p,d,p),s.subtract(p,t,g),v=s.dot(r,g),i=Math.min(v,i),o=Math.max(v,o),n.start=i,n.stop=o,n};var B=new o;n.isOccluded=function(e,t){if(!c(e))throw new h("box is required.");if(!c(t))throw new h("occluder is required.");var r=o.fromOrientedBoundingBox(e,B);return!t.isBoundingSphereVisible(r)},n.prototype.intersectPlane=function(e){return n.intersectPlane(this,e)},n.prototype.distanceSquaredTo=function(e){return n.distanceSquaredTo(this,e)},n.prototype.computePlaneDistances=function(e,t,r){return n.computePlaneDistances(this,e,t,r)},n.prototype.isOccluded=function(e){return n.isOccluded(this,e)},n.equals=function(e,t){return e===t||c(e)&&c(t)&&s.equals(e.center,t.center)&&w.equals(e.halfAxes,t.halfAxes)},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},e.exports=n},function(e,t,r){"use strict";function n(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++){var i=e[n];F=t.cartesianToCartographic(i,F),r[n]=F.height,e[n]=t.scaleToGeodeticSurface(i,i)}return r}function i(e,t,r,n){var i,o=e[0],a=e[1],s=f.angleBetween(o,a),u=Math.ceil(s/n),l=new Array(u);if(t===r){for(i=0;i<u;i++)l[i]=t;return l.push(r),l}var c=r-t,h=c/u;for(i=1;i<u;i++){var d=t+i*h;l[i]=d}return l[0]=t,l.push(r),l}function o(e,t,r,n){var i=new g(r,n),o=i.projectPointOntoPlane(f.add(r,e,Q),Q),a=i.projectPointOntoPlane(f.add(r,t,Z),Z),s=h.angleBetween(o,a);return a.x*o.y-a.y*o.x>=0?-s:s}function a(e,t,r,n,i,a,s,u){var l=j,c=G;z=b.eastNorthUpToFixedFrame(e,i,z),l=y.multiplyByPointAsVector(z,D,l),l=f.normalize(l,l);var h=o(l,t,e,i);U=v.fromRotationZ(h,U),H.z=a,z=y.multiplyTransformation(z,y.fromRotationTranslation(U,H,k),z);var d=B;d[0]=s;for(var p=0;p<u;p++)for(var m=0;m<r.length;m+=3)c=f.fromArray(r,m,c),c=v.multiplyByVector(d,c,c),c=y.multiplyByPoint(z,c,c),n.push(c.x,c.y,c.z);return n}function s(e,t,r,n,i,o,s){for(var u=0;u<e.length;u+=3){var l=f.fromArray(e,u,V);n=a(l,t,r,n,i,o[u/3],s,1)}return n}function u(e,t){var r=e.length,n=new Array(6*r),i=0,o=t.x+t.width/2,a=t.y+t.height/2,s=e[0];n[i++]=s.x-o,n[i++]=0,n[i++]=s.y-a;for(var u=1;u<r;u++){s=e[u];var l=s.x-o,c=s.y-a;n[i++]=l,n[i++]=0,n[i++]=c,n[i++]=l,n[i++]=0,n[i++]=c}return s=e[0],n[i++]=s.x-o,n[i++]=0,n[i++]=s.y-a,n}function l(e,t){for(var r=e.length,n=new Array(3*r),i=0,o=t.x+t.width/2,a=t.y+t.height/2,s=0;s<r;s++)n[i++]=e[s].x-o,n[i++]=0,n[i++]=e[s].y-a;return n}function c(e,t,r,n,i,o,s,u,l,c){var h,d=f.angleBetween(f.subtract(t,e,N),f.subtract(r,e,q)),p=n===m.BEVELED?0:Math.ceil(d/w.toRadians(5));h=i?v.fromQuaternion(E.fromAxisAngle(f.negate(e,N),d/(p+1),W),X):v.fromQuaternion(E.fromAxisAngle(e,d/(p+1),W),X);var g,y;if(t=f.clone(t,Y),p>0)for(var _=c?2:1,b=0;b<p;b++)t=v.multiplyByVector(h,t,t),g=f.subtract(t,e,N),g=f.normalize(g,g),i||(g=f.negate(g,g)),y=o.scaleToGeodeticSurface(t,q),s=a(y,g,u,s,o,l,1,_);else g=f.subtract(t,e,N),g=f.normalize(g,g),i||(g=f.negate(g,g)),y=o.scaleToGeodeticSurface(t,q),s=a(y,g,u,s,o,l,1,1),r=f.clone(r,Y),g=f.subtract(r,e,N),g=f.normalize(g,g),i||(g=f.negate(g,g)),y=o.scaleToGeodeticSurface(r,q),s=a(y,g,u,s,o,l,1,1);return s}var h=r(9),f=r(4),d=r(24),p=r(15),m=r(26),g=r(32),w=r(5),v=r(17),y=r(19),_=r(40),E=r(22),b=r(46),T=[new f,new f],x=new f,A=new f,S=new f,O=new f,I=new f,R=new f,P=new f,C=new f,M=new f,N=new f,q=new f,L={},F=new p,D=new f(-1,0,0),z=new y,k=new y,U=new v,B=v.IDENTITY.clone(),j=new f,G=new d,H=new f,V=new f,W=new E,Y=new f,X=new v;L.removeDuplicatesFromShape=function(e){for(var t=e.length,r=[],n=t-1,i=0;i<t;n=i++){var o=e[n],a=e[i];h.equals(o,a)||r.push(a)}return r};var Q=new f,Z=new f;L.angleIsGreaterThanPi=function(e,t,r,n){var i=new g(r,n),o=i.projectPointOntoPlane(f.add(r,e,Q),Q),a=i.projectPointOntoPlane(f.add(r,t,Z),Z);return a.x*o.y-a.y*o.x>=0};var K=new f,J=new f;L.computePositions=function(e,t,r,o,h){var d=o._ellipsoid,p=n(e,d),g=o._granularity,v=o._cornerType,y=h?u(t,r):l(t,r),E=h?l(t,r):void 0,b=r.height/2,q=r.width/2,F=e.length,D=[],z=h?[]:void 0,k=x,U=A,B=S,j=O,G=I,H=R,V=P,W=C,Y=M,X=e[0],Q=e[1];j=d.geodeticSurfaceNormal(X,j),k=f.subtract(Q,X,k),k=f.normalize(k,k),W=f.cross(j,k,W),W=f.normalize(W,W);var Z=p[0],$=p[1];h&&(z=a(X,W,E,z,d,Z+b,1,1)),Y=f.clone(X,Y),X=Q,U=f.negate(k,U);for(var ee,te,re=1;re<F-1;re++){var ne=h?2:1;Q=e[re+1],k=f.subtract(Q,X,k),k=f.normalize(k,k),B=f.add(k,U,B),B=f.normalize(B,B),j=d.geodeticSurfaceNormal(X,j);var ie=f.multiplyByScalar(j,f.dot(k,j),K);f.subtract(k,ie,ie),f.normalize(ie,ie);var oe=f.multiplyByScalar(j,f.dot(U,j),J);f.subtract(U,oe,oe),f.normalize(oe,oe);var ae=!w.equalsEpsilon(Math.abs(f.dot(ie,oe)),1,w.EPSILON7);if(ae){B=f.cross(B,j,B),B=f.cross(j,B,B),B=f.normalize(B,B);var se=1/Math.max(.25,f.magnitude(f.cross(B,U,N))),ue=L.angleIsGreaterThanPi(k,U,X,d);ue?(G=f.add(X,f.multiplyByScalar(B,se*q,B),G),H=f.add(G,f.multiplyByScalar(W,q,H),H),T[0]=f.clone(Y,T[0]),T[1]=f.clone(H,T[1]),ee=i(T,Z+b,$+b,g),te=_.generateArc({positions:T,granularity:g,ellipsoid:d}),D=s(te,W,y,D,d,ee,1),W=f.cross(j,k,W),W=f.normalize(W,W),V=f.add(G,f.multiplyByScalar(W,q,V),V),v===m.ROUNDED||v===m.BEVELED?c(G,H,V,v,ue,d,D,y,$+b,h):(B=f.negate(B,B),D=a(X,B,y,D,d,$+b,se,ne)),Y=f.clone(V,Y)):(G=f.add(X,f.multiplyByScalar(B,se*q,B),G),H=f.add(G,f.multiplyByScalar(W,-q,H),H),T[0]=f.clone(Y,T[0]),T[1]=f.clone(H,T[1]),ee=i(T,Z+b,$+b,g),te=_.generateArc({positions:T,granularity:g,ellipsoid:d}),D=s(te,W,y,D,d,ee,1),W=f.cross(j,k,W),W=f.normalize(W,W),V=f.add(G,f.multiplyByScalar(W,-q,V),V),v===m.ROUNDED||v===m.BEVELED?c(G,H,V,v,ue,d,D,y,$+b,h):D=a(X,B,y,D,d,$+b,se,ne),Y=f.clone(V,Y)),U=f.negate(k,U)}else D=a(Y,W,y,D,d,Z+b,1,1),Y=X;Z=$,$=p[re+1],X=Q}T[0]=f.clone(Y,T[0]),T[1]=f.clone(X,T[1]),ee=i(T,Z+b,$+b,g),te=_.generateArc({positions:T,granularity:g,ellipsoid:d}),D=s(te,W,y,D,d,ee,1),h&&(z=a(X,W,E,z,d,$+b,1,1)),F=D.length;var le=h?F+z.length:F,ce=new Float64Array(le);return ce.set(D),h&&ce.set(z,F),ce},e.exports=L},function(e,t){"use strict";function r(){this._array=[],this._offset=0,this._length=0}Object.defineProperties(r.prototype,{length:{get:function(){return this._length}}}),r.prototype.enqueue=function(e){this._array.push(e),this._length++},r.prototype.dequeue=function(){if(0!==this._length){var e=this._array,t=this._offset,r=e[t];return e[t]=void 0,t++,t>10&&2*t>e.length&&(this._array=e.slice(t),t=0),this._offset=t,this._length--,r}},r.prototype.peek=function(){if(0!==this._length)return this._array[this._offset]},r.prototype.contains=function(e){return this._array.indexOf(e)!==-1},r.prototype.clear=function(){this._array.length=this._offset=this._length=0},r.prototype.sort=function(e){this._offset>0&&(this._array=this._array.slice(this._offset),this._offset=0),this._array.sort(e)},e.exports=r},function(e,t,r){"use strict";function n(e,t){t=i.clone(o(t,i.ZERO)),i.equals(t,i.ZERO)||i.normalize(t,t),this.origin=i.clone(o(e,i.ZERO)),this.direction=t}var i=r(4),o=r(3),a=r(1),s=r(2);n.getPoint=function(e,t,r){if(!a(e))throw new s("ray is requred");if("number"!=typeof t)throw new s("t is a required number");return a(r)||(r=new i),r=i.multiplyByScalar(e.direction,t,r),i.add(e.origin,r,r)},e.exports=n},function(e,t,r){"use strict";function n(){if(!d(u._canTransferArrayBuffer)){var e=new Worker(o("Workers/transferTypedArrayTest.js"));e.postMessage=f(e.webkitPostMessage,e.postMessage);var t=99,r=new Int8Array([t]);try{e.postMessage({array:r},[r.buffer])}catch(e){return u._canTransferArrayBuffer=!1,u._canTransferArrayBuffer}var n=c.defer();e.onmessage=function(r){var i=r.data.array,o=d(i)&&i[0]===t;n.resolve(o),e.terminate(),u._canTransferArrayBuffer=o},u._canTransferArrayBuffer=n.promise}return u._canTransferArrayBuffer}function i(e,t){--e._activeTasks;var r=t.id;if(d(r)){var n=e._deferreds,i=n[r];if(d(t.error)){var o=t.error;"RuntimeError"===o.name?(o=new v(t.error.message),o.stack=t.error.stack):"DeveloperError"===o.name&&(o=new m(t.error.message),o.stack=t.error.stack),i.reject(o)}else i.resolve(t.result);delete n[r]}}function o(e){var t=h(e);if(w(t)){var r,n='importScripts("'+t+'");';try{r=new Blob([n],{type:"application/javascript"})}catch(e){var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,o=new i;o.append(n),r=o.getBlob("application/javascript")}var a=window.URL||window.webkitURL;t=a.createObjectURL(r)}return t}function a(){return d(l)||(l=o("Workers/cesiumWorkerBootstrapper.js")),l}function s(e){var t=new Worker(a());t.postMessage=f(t.webkitPostMessage,t.postMessage);var n={loaderConfig:{},workerModule:u._workerModulePrefix+e._workerName};return d(u._loaderConfig)?n.loaderConfig=u._loaderConfig:d(r(127).toUrl)?n.loaderConfig.baseUrl=g("..",h("Workers/cesiumWorkerBootstrapper.js")):n.loaderConfig.paths={Workers:h("Workers")},t.postMessage(n),t.onmessage=function(t){i(e,t.data)},t}function u(e,t){this._workerName=e,this._maximumActiveTasks=f(t,5),this._activeTasks=0,this._deferreds={},this._nextID=0}var l,c=r(18),h=r(55),f=r(3),d=r(1),p=r(56),m=r(2),g=r(74),w=r(116),v=r(41),y=[];u.prototype.scheduleTask=function(e,t){d(this._worker)||(this._worker=s(this)),this._activeTasks>=this._maximumActiveTasks&&resolve(promise),++this._activeTasks;var r=this;return when(n(),function(n){d(t)?n||(t.length=0):t=y;var i=r._nextID++,o=c.defer();return r._deferreds[i]=o,r._worker.postMessage({id:i,parameters:e,canTransferArrayBuffer:n},t),o.promise})},u.prototype.isDestroyed=function(){return!1},u.prototype.destroy=function(){return d(this._worker)&&this._worker.terminate(),p(this)},u._defaultWorkerModulePrefix="Workers/",u._workerModulePrefix=u._defaultWorkerModulePrefix,u._loaderConfig=void 0,u._canTransferArrayBuffer=void 0,e.exports=u},function(e,t,r){"use strict";function n(e,t,r,n,i,o){var s,c,m,y;if(l(e)&&l(t)&&l(r)&&l(n)){var _=e.minimum,E=e.maximum,b=a.subtract(E,_,p),T=r-t,x=Math.max(a.maximumComponent(b),T);s=x<v-1?f.BITS12:f.NONE,c=e.center,m=h.inverseTransformation(n,new h);var A=a.negate(_,d);h.multiply(h.fromTranslation(A,g),m,m);var S=d;S.x=1/b.x,S.y=1/b.y,S.z=1/b.z,h.multiply(h.fromScale(S,g),m,m),y=h.clone(n),h.setTranslation(y,a.ZERO,y),n=h.clone(n,new h);var O=h.fromTranslation(_,g),I=h.fromScale(b,w),R=h.multiply(O,I,g);h.multiply(n,R,n),h.multiply(y,R,y)}this.quantization=s,this.minimumHeight=t,this.maximumHeight=r,this.center=c,this.toScaledENU=m,this.fromScaledENU=n,this.matrix=y,this.hasVertexNormals=i,this.hasWebMercatorT=u(o,!1)}var i=r(81),o=r(9),a=r(4),s=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),u=r(3),l=r(1),c=r(5),h=r(19),f=r(188),d=new a,p=new a,m=new o,g=new h,w=new h,v=Math.pow(2,12);n.prototype.encode=function(e,t,r,n,s,u,l){var p=n.x,g=n.y;if(this.quantization===f.BITS12){r=h.multiplyByPoint(this.toScaledENU,r,d),r.x=c.clamp(r.x,0,1),r.y=c.clamp(r.y,0,1),r.z=c.clamp(r.z,0,1);var w=this.maximumHeight-this.minimumHeight,v=c.clamp((s-this.minimumHeight)/w,0,1);o.fromElements(r.x,r.y,m);var y=i.compressTextureCoordinates(m);o.fromElements(r.z,v,m);var _=i.compressTextureCoordinates(m);o.fromElements(p,g,m);var E=i.compressTextureCoordinates(m);if(e[t++]=y,e[t++]=_,e[t++]=E,this.hasWebMercatorT){o.fromElements(l,0,m);var b=i.compressTextureCoordinates(m);e[t++]=b}}else a.subtract(r,this.center,d),e[t++]=d.x,e[t++]=d.y,e[t++]=d.z,e[t++]=s,e[t++]=p,e[t++]=g,this.hasWebMercatorT&&(e[t++]=l);return this.hasVertexNormals&&(e[t++]=i.octPackFloat(u)),t},n.prototype.decodePosition=function(e,t,r){if(l(r)||(r=new a),t*=this.getStride(),this.quantization===f.BITS12){var n=i.decompressTextureCoordinates(e[t],m);r.x=n.x,r.y=n.y;var o=i.decompressTextureCoordinates(e[t+1],m);return r.z=o.x,h.multiplyByPoint(this.fromScaledENU,r,r)}return r.x=e[t],r.y=e[t+1],r.z=e[t+2],a.add(r,this.center,r)},n.prototype.decodeTextureCoordinates=function(e,t,r){return l(r)||(r=new o),t*=this.getStride(),this.quantization===f.BITS12?i.decompressTextureCoordinates(e[t+2],r):o.fromElements(e[t+4],e[t+5],r)},n.prototype.decodeHeight=function(e,t){if(t*=this.getStride(),this.quantization===f.BITS12){var r=i.decompressTextureCoordinates(e[t+1],m);return r.y*(this.maximumHeight-this.minimumHeight)+this.minimumHeight}return e[t+3]},n.prototype.getOctEncodedNormal=function(e,t,r){var n=this.getStride();t=(t+1)*n-1;var i=e[t]/256,a=Math.floor(i),s=256*(i-a);return o.fromElements(a,s,r)},n.prototype.getStride=function(){var e;switch(this.quantization){case f.BITS12:e=3;break;default:e=6}return this.hasWebMercatorT&&++e,this.hasVertexNormals&&++e,e};var y={position3DAndHeight:0,textureCoordAndEncodedNormals:1},_={compressed0:0,compressed1:1};n.prototype.getAttributes=function(e){var t,r=s.FLOAT,n=s.getSizeInBytes(r);if(this.quantization===f.NONE){var i=4,o=2;return this.hasWebMercatorT&&++o,this.hasVertexNormals&&++o,t=(i+o)*n,[{index:y.position3DAndHeight,vertexBuffer:e,componentDatatype:r,componentsPerAttribute:i,offsetInBytes:0,strideInBytes:t},{index:y.textureCoordAndEncodedNormals,vertexBuffer:e,componentDatatype:r,componentsPerAttribute:o,offsetInBytes:i*n,strideInBytes:t}]}var a=3,u=0;return(this.hasWebMercatorT||this.hasVertexNormals)&&++a,this.hasWebMercatorT&&this.hasVertexNormals?(++u,t=(a+u)*n,[{index:_.compressed0,vertexBuffer:e,componentDatatype:r,componentsPerAttribute:a,
offsetInBytes:0,strideInBytes:t},{index:_.compressed1,vertexBuffer:e,componentDatatype:r,componentsPerAttribute:u,offsetInBytes:a*n,strideInBytes:t}]):[{index:_.compressed0,vertexBuffer:e,componentDatatype:r,componentsPerAttribute:a}]},n.prototype.getAttributeLocations=function(){return this.quantization===f.NONE?y:_},n.clone=function(e,t){return l(t)||(t=new n),t.quantization=e.quantization,t.minimumHeight=e.minimumHeight,t.maximumHeight=e.maximumHeight,t.center=a.clone(e.center),t.toScaledENU=h.clone(e.toScaledENU),t.fromScaledENU=h.clone(e.fromScaledENU),t.matrix=h.clone(e.matrix),t.hasVertexNormals=e.hasVertexNormals,t.hasWebMercatorT=e.hasWebMercatorT,t},e.exports=n},function(e,t,r){"use strict";function n(e){e=i(e,i.EMPTY_OBJECT),this.start=o(e.start)?s.clone(e.start):new s,this.stop=o(e.stop)?s.clone(e.stop):new s,this.data=e.data,this.isStartIncluded=i(e.isStartIncluded,!0),this.isStopIncluded=i(e.isStopIncluded,!0)}var i=r(3),o=r(1),a=r(2),s=r(21);Object.defineProperties(n.prototype,{isEmpty:{get:function(){var e=s.compare(this.stop,this.start);return e<0||0===e&&(!this.isStartIncluded||!this.isStopIncluded)}}});var u={start:void 0,stop:void 0,isStartIncluded:void 0,isStopIncluded:void 0,data:void 0};n.fromIso8601=function(e,t){if(!o(e))throw new a("options is required.");if(!o(e.iso8601))throw new a("options.iso8601 is required.");var r=e.iso8601.split("/"),l=s.fromIso8601(r[0]),c=s.fromIso8601(r[1]),h=i(e.isStartIncluded,!0),f=i(e.isStopIncluded,!0),d=e.data;return o(t)?(t.start=l,t.stop=c,t.isStartIncluded=h,t.isStopIncluded=f,t.data=d,t):(u.start=l,u.stop=c,u.isStartIncluded=h,u.isStopIncluded=f,u.data=d,new n(u))},n.toIso8601=function(e,t){if(!o(e))throw new a("timeInterval is required.");return s.toIso8601(e.start,t)+"/"+s.toIso8601(e.stop,t)},n.clone=function(e,t){if(o(e))return o(t)?(t.start=e.start,t.stop=e.stop,t.isStartIncluded=e.isStartIncluded,t.isStopIncluded=e.isStopIncluded,t.data=e.data,t):new n(e)},n.equals=function(e,t,r){return e===t||o(e)&&o(t)&&(e.isEmpty&&t.isEmpty||e.isStartIncluded===t.isStartIncluded&&e.isStopIncluded===t.isStopIncluded&&s.equals(e.start,t.start)&&s.equals(e.stop,t.stop)&&(e.data===t.data||o(r)&&r(e.data,t.data)))},n.equalsEpsilon=function(e,t,r,n){if("number"!=typeof r)throw new a("epsilon is required and must be a number.");return e===t||o(e)&&o(t)&&(e.isEmpty&&t.isEmpty||e.isStartIncluded===t.isStartIncluded&&e.isStopIncluded===t.isStopIncluded&&s.equalsEpsilon(e.start,t.start,r)&&s.equalsEpsilon(e.stop,t.stop,r)&&(e.data===t.data||o(n)&&n(e.data,t.data)))},n.intersect=function(e,t,r,i){if(!o(e))throw new a("left is required.");if(!o(r))throw new a("result is required.");if(!o(t))return n.clone(n.EMPTY,r);var u=e.start,l=e.stop,c=t.start,h=t.stop,f=s.greaterThanOrEquals(c,u)&&s.greaterThanOrEquals(l,c),d=!f&&s.lessThanOrEquals(c,u)&&s.lessThanOrEquals(u,h);if(!f&&!d)return n.clone(n.EMPTY,r);var p=e.isStartIncluded,m=e.isStopIncluded,g=t.isStartIncluded,w=t.isStopIncluded,v=s.lessThan(l,h);return r.start=f?c:u,r.isStartIncluded=p&&g||!s.equals(c,u)&&(f&&g||d&&p),r.stop=v?l:h,r.isStopIncluded=v?m:m&&w||!s.equals(h,l)&&w,r.data=o(i)?i(e.data,t.data):e.data,r},n.contains=function(e,t){if(!o(e))throw new a("timeInterval is required.");if(!o(t))throw new a("julianDate is required.");if(e.isEmpty)return!1;var r=s.compare(e.start,t);if(0===r)return e.isStartIncluded;var n=s.compare(t,e.stop);return 0===n?e.isStopIncluded:r<0&&n<0},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e,t){return n.equals(this,e,t)},n.prototype.equalsEpsilon=function(e,t,r){return n.equalsEpsilon(this,e,t,r)},n.prototype.toString=function(){return n.toIso8601(this)},n.EMPTY=Object.freeze(new n({start:new s,stop:new s,isStartIncluded:!1,isStopIncluded:!1})),e.exports=n},function(e,t,r){"use strict";function n(e){var t=new i(e);t.normalizeQuery();var r=t.getAuthority();if(o(r)){if(r.indexOf("@")!==-1){var n=r.split("@");r=n[1]}if(r.indexOf(":")===-1){var a=t.getScheme();if(o(a)||(a=window.location.protocol,a=a.substring(0,a.length-1)),"http"===a)r+=":80";else{if("https"!==a)return;r+=":443"}}return r}}var i=r(30),o=r(1),a=r(2),s={},u={};s.add=function(e,t){if(!o(e))throw new a("host is required.");if(!o(t)||t<=0)throw new a("port is required to be greater than 0.");var r=e.toLowerCase()+":"+t;o(u[r])||(u[r]=!0)},s.remove=function(e,t){if(!o(e))throw new a("host is required.");if(!o(t)||t<=0)throw new a("port is required to be greater than 0.");var r=e.toLowerCase()+":"+t;o(u[r])&&delete u[r]},s.contains=function(e){if(!o(e))throw new a("url is required.");var t=n(e);return!(!o(t)||!o(u[t]))},s.clear=function(){u={}},e.exports=s},function(e,t,r){"use strict";function n(e,t){return u.equalsEpsilon(e.latitude,t.latitude,u.EPSILON14)&&u.equalsEpsilon(e.longitude,t.longitude,u.EPSILON14)}function i(e,t,r,i){var s=t.length;if(!(s<2)){var u=a(i),l=a(r),c=!0,h=new Array(s),f=new Array(s),m=new Array(s),g=t[0];h[0]=g;var w=e.cartesianToCartographic(g,d);l&&(w.height=r[0]),c=c&&w.height<=0,f[0]=w.height,u?m[0]=i[0]:m[0]=0;for(var v=1,y=1;y<s;++y){var _=t[y],E=e.cartesianToCartographic(_,p);l&&(E.height=r[y]),c=c&&E.height<=0,n(w,E)?w.height<E.height&&(f[v-1]=E.height):(h[v]=_,f[v]=E.height,u?m[v]=i[y]:m[v]=0,o.clone(E,w),++v)}if(!(c||v<2))return h.length=v,f.length=v,m.length=v,{positions:h,topHeights:f,bottomHeights:m}}}var o=r(15),a=r(1),s=r(32),u=r(5),l=r(23),c=r(40),h=r(25),f={},d=new o,p=new o,m=new Array(2),g=new Array(2),w={positions:void 0,height:void 0,granularity:void 0,ellipsoid:void 0};f.computePositions=function(e,t,r,n,o,f){var d=i(e,t,r,n);if(a(d)){if(t=d.positions,r=d.topHeights,n=d.bottomHeights,t.length>=3){var p=s.fromPoints(t,e),v=p.projectPointsOntoPlane(t);l.computeWindingOrder2D(v)===h.CLOCKWISE&&(t.reverse(),r.reverse(),n.reverse())}var y,_,E=t.length,b=E-2,T=u.chordLength(o,e.maximumRadius),x=w;if(x.minDistance=T,x.ellipsoid=e,f){var A,S=0;for(A=0;A<E-1;A++)S+=c.numberOfPoints(t[A],t[A+1],T)+1;y=new Float64Array(3*S),_=new Float64Array(3*S);var O=m,I=g;x.positions=O,x.height=I;var R=0;for(A=0;A<E-1;A++){O[0]=t[A],O[1]=t[A+1],I[0]=r[A],I[1]=r[A+1];var P=c.generateArc(x);y.set(P,R),I[0]=n[A],I[1]=n[A+1],_.set(c.generateArc(x),R),R+=P.length}}else x.positions=t,x.height=r,y=new Float64Array(c.generateArc(x)),x.height=n,_=new Float64Array(c.generateArc(x));return{bottomPositions:_,topPositions:y,numCorners:b}}},e.exports=f},function(e,t,r){"use strict";function n(e){this._ellipsoid=a(e,l.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}var i=r(4),o=r(15),a=r(3),s=r(1),u=r(2),l=r(6),c=r(5);Object.defineProperties(n.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),n.mercatorAngleToGeodeticLatitude=function(e){return c.PI_OVER_TWO-2*Math.atan(Math.exp(-e))},n.geodeticLatitudeToMercatorAngle=function(e){e>n.MaximumLatitude?e=n.MaximumLatitude:e<-n.MaximumLatitude&&(e=-n.MaximumLatitude);var t=Math.sin(e);return.5*Math.log((1+t)/(1-t))},n.MaximumLatitude=n.mercatorAngleToGeodeticLatitude(Math.PI),n.prototype.project=function(e,t){var r=this._semimajorAxis,o=e.longitude*r,a=n.geodeticLatitudeToMercatorAngle(e.latitude)*r,u=e.height;return s(t)?(t.x=o,t.y=a,t.z=u,t):new i(o,a,u)},n.prototype.unproject=function(e,t){if(!s(e))throw new u("cartesian is required");var r=this._oneOverSemimajorAxis,i=e.x*r,a=n.mercatorAngleToGeodeticLatitude(e.y*r),l=e.z;return s(t)?(t.longitude=i,t.latitude=a,t.height=l,t):new o(i,a,l)},e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n,h){if(!(a(e)&&a(t)&&a(r)&&a(n)))throw new s("point, p0, p1, and p2 are required.");a(h)||(h=new o);var f,d,p,m,g,w,v,y;a(t.z)?(f=o.subtract(r,t,u),d=o.subtract(n,t,l),p=o.subtract(e,t,c),m=o.dot(f,f),g=o.dot(f,d),w=o.dot(f,p),v=o.dot(d,d),y=o.dot(d,p)):(f=i.subtract(r,t,u),d=i.subtract(n,t,l),p=i.subtract(e,t,c),m=i.dot(f,f),g=i.dot(f,d),w=i.dot(f,p),v=i.dot(d,d),y=i.dot(d,p));var _=1/(m*v-g*g);return h.y=(v*w-g*y)*_,h.z=(m*y-g*w)*_,h.x=1-h.y-h.z,h}var i=r(9),o=r(4),a=r(1),s=r(2),u=new o,l=new o,c=new o;e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!a(e))throw new s("relative uri is required.");t=o(t,document.location.href);var r=(new i(t),new i(e));return r.relativeTo(i)}var i=r(30),o=r(3),a=r(1),s=r(2);e.exports=n},function(e,t,r){"use strict";function n(e,t,r){i(t)||(t=e.width),i(r)||(r=e.height);var n=o[t];i(n)||(n={},o[t]=n);var a=n[r];if(!i(a)){var s=document.createElement("canvas");s.width=t,s.height=r,a=s.getContext("2d"),a.globalCompositeOperation="copy",n[r]=a}return a.drawImage(e,0,0,t,r),a.getImageData(0,0,t,r).data}var i=r(1),o={};e.exports=n},function(e,t,r){"use strict";var n,i=r(1);n="undefined"!=typeof performance&&i(performance.now)?function(){return performance.now()}:function(){return Date.now()},e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!o(e))throw new a("url is required.");return o(t)?o(t.Accept)||(t=i(t),t.Accept=u.Accept):t=u,s(e,t).then(function(e){return JSON.parse(e)})}var i=r(112),o=r(1),a=r(2),s=r(119),u={Accept:"application/json,*/*;q=0.01"};e.exports=n},function(e,t,r){"use strict";function n(e){var t=new o(e).relativeTo(t);t.normalizeQuery();var r=t.authority();return/:/.test(r)||(r=r+":"+("https"===t.protocol()?"443":"80")),r}function i(e,t){var r=n(e),o=s(u[r],0);if(!(o>=i.maximumRequestsPerServer))return u[r]=o+1,new a(function(n){u[r]--,n(t(e))}).catch(function(e){return u[r]--,a.reject(e)})}var o=r(30),a=r(18),s=r(3),u={};"undefined"!=typeof document?new o(document.location.href):new o,i.maximumRequestsPerServer=6,e.exports=i},function(e,t,r){e.exports={ArcGisImageServerTerrainProvider:r(128),AssociativeArray:r(80),barycentricCoordinates:r(73),binarySearch:r(54),BoundingSphere:r(7),BingMapsApi:r(129),BoxGeometry:r(130),BoxOutlineGeometry:r(131),buildModuleUrl:r(55),Cartesian3:r(4),cancelAnimationFrame:r(!function(){var e=new Error('Cannot find module "./lib/cancelAnimationFrame.js"');throw e.code="MODULE_NOT_FOUND",e}()),CatmullRomSpline:r(132),BoundingRectangle:r(49),CircleGeometry:r(133),Cartesian4:r(24),Cartesian2:r(9),ClockStep:r(83),Clock:r(135),Cartographic:r(15),clone:r(112),Color:r(31),ComponentDatatype:r(!function(){var e=new Error('Cannot find module "./lib/ComponentDatatype.js"');throw e.code="MODULE_NOT_FOUND",e}()),ColorGeometryInstanceAttribute:r(136),ClockRange:r(82),CorridorGeometry:r(137),CircleOutlineGeometry:r(134),CesiumTerrainProvider:r(!function(){var e=new Error('Cannot find module "./lib/CesiumTerrainProvider.js"');throw e.code="MODULE_NOT_FOUND",e}()),combine:r(113),createGuid:r(198),Credit:r(36),CubicRealPolynomial:r(85),CorridorOutlineGeometry:r(138),CylinderOutlineGeometry:r(140),DefaultProxy:r(141),CornerType:r(26),defaultValue:r(3),CylinderGeometry:r(139),AxisAlignedBoundingBox:r(58),DeveloperError:r(2),destroyObject:r(56),DistanceDisplayCondition:r(142),defined:r(1),EasingFunction:r(145),EllipseGeometry:r(88),EllipseOutlineGeometry:r(90),EllipsoidGeodesic:r(91),DistanceDisplayConditionGeometryInstanceAttribute:r(143),EllipsoidGeometry:r(92),EllipsoidTerrainProvider:r(146),Ellipsoid:r(6),EventHelper:r(149),ExtrapolationType:r(150),EllipsoidOutlineGeometry:r(93),formatError:r(114),EllipsoidTangentPlane:r(32),GeographicProjection:r(27),Event:r(33),Geometry:r(10),GeographicTilingScheme:r(37),GeometryInstanceAttribute:r(151),GeometryInstance:r(38),GeometryPipeline:r(28),GeometryAttribute:r(11),getAbsoluteUri:r(74),getBaseUri:r(200),getExtensionFromUri:r(201),getFilenameFromUri:r(202),Fullscreen:r(94),getTimestamp:r(76),HeadingPitchRange:r(152),getStringFromTypedArray:r(115),FeatureDetection:r(50),HeadingPitchRoll:r(96),getImagePixels:r(75),GeometryAttributes:r(13),HermitePolynomialApproximation:r(154),HermiteSpline:r(97),GregorianDate:r(95),IndexDatatype:r(14),InterpolationAlgorithm:r(158),isLeapYear:r(117),Intersections2D:r(99),Iso8601:r(100),Intersect:r(34),HeightmapTerrainData:r(51),KeyboardEventModifier:r(101),IntersectionTests:r(52),isArray:r(57),Interval:r(60),LinearApproximation:r(160),LinearSpline:r(102),JulianDate:r(21),LagrangePolynomialApproximation:r(159),loadImage:r(35),LeapSecond:r(61),loadBlob:r(118),loadXML:r(120),loadWithXhr:r(48),loadImageViaBlob:r(205),MapProjection:r(161),loadJsonp:r(206),MapboxApi:r(162),Matrix2:r(62),loadJson:r(77),Matrix4:r(19),mergeSort:r(207),objectToQuery:r(121),NearFarScalar:r(163),Occluder:r(164),Matrix3:r(17),loadText:r(119),Packable:r(165),PackableForInterpolation:r(166),OrientedBoundingBox:r(63),loadArrayBuffer:r(204),PixelFormat:r(168),PinBuilder:r(167),Plane:r(39),pointInsideTriangle:r(209),PolygonGeometry:r(169),Math:r(5),PolylineGeometry:r(172),PolygonHierarchy:r(170),PolygonOutlineGeometry:r(171),PrimitiveType:r(12),Quaternion:r(22),QuaternionSpline:r(176),QuantizedMeshTerrainData:r(175),QuadraticRealPolynomial:r(53),QuarticRealPolynomial:r(104),Queue:r(65),PolylineVolumeOutlineGeometry:r(174),Rectangle:r(16),RectangleGeometry:r(177),RectangleOutlineGeometry:r(178),PolylineVolumeGeometry:r(173),requestAnimationFrame:r(!function(){var e=new Error('Cannot find module "./lib/requestAnimationFrame.js"');throw e.code="MODULE_NOT_FOUND",e}()),sampleTerrain:r(210),RuntimeError:r(41),queryToObject:r(123),ScreenSpaceEventHandler:r(180),Ray:r(66),Simon1994PlanetaryPositions:r(182),SimplePolylineGeometry:r(183),ShowGeometryInstanceAttribute:r(181),ReferenceFrame:r(179),Spherical:r(186),RequestErrorEvent:r(106),subdivideArray:r(211),ScreenSpaceEventType:r(107),TaskProcessor:r(67),TerrainData:r(187),throttleRequestByServer:r(78),SphereGeometry:r(184),TerrainProvider:r(43),TileProviderError:r(109),TilingScheme:r(189),SphereOutlineGeometry:r(185),TimeIntervalCollection:r(190),Spline:r(42),TimeInterval:r(69),TimeStandard:r(45),VertexFormat:r(20),TranslationRotationScale:r(192),Transforms:r(46),Visibility:r(111),TridiagonalSystemSolver:r(110),TrustedServers:r(70),VRTheWorldTerrainProvider:r(193),VideoSynchronizer:r(194),WebGLConstants:r(47),WallOutlineGeometry:r(196),WindingOrder:r(25),WebMercatorProjection:r(72),WallGeometryLibrary:r(71),writeTextToCanvas:r(125),WallGeometry:r(195),WebMercatorTilingScheme:r(197)}},function(e,t,r){"use strict";function n(){this._array=[],this._hash={}}var i=r(1),o=r(2);Object.defineProperties(n.prototype,{length:{get:function(){return this._array.length}},values:{get:function(){return this._array}}}),n.prototype.contains=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new o("key is required to be a string or number.");return i(this._hash[e])},n.prototype.set=function(e,t){if("string"!=typeof e&&"number"!=typeof e)throw new o("key is required to be a string or number.");var r=this._hash[e];t!==r&&(this.remove(e),this._hash[e]=t,this._array.push(t))},n.prototype.get=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new o("key is required to be a string or number.");return this._hash[e]},n.prototype.remove=function(e){if(i(e)&&"string"!=typeof e&&"number"!=typeof e)throw new o("key is required to be a string or number.");var t=this._hash[e],r=i(t);if(r){var n=this._array;n.splice(n.indexOf(t),1),delete this._hash[e]}return r},n.prototype.removeAll=function(){var e=this._array;e.length>0&&(this._hash={},e.length=0)},e.exports=n},function(e,t,r){"use strict";var n=r(9),i=r(4),o=r(1),a=r(2),s=r(5),u={};u.octEncodeInRange=function(e,t,r){if(!o(e))throw new a("vector is required.");if(!o(r))throw new a("result is required.");var n=i.magnitudeSquared(e);if(Math.abs(n-1)>s.EPSILON6)throw new a("vector must be normalized.");if(r.x=e.x/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),r.y=e.y/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),e.z<0){var u=r.x,l=r.y;r.x=(1-Math.abs(l))*s.signNotZero(u),r.y=(1-Math.abs(u))*s.signNotZero(l)}return r.x=s.toSNorm(r.x,t),r.y=s.toSNorm(r.y,t),r},u.octEncode=function(e,t){return u.octEncodeInRange(e,255,t)},u.octDecodeInRange=function(e,t,r,n){if(!o(n))throw new a("result is required.");if(e<0||e>r||t<0||t>r)throw new a("x and y must be a signed normalized integer between 0 and "+r);if(n.x=s.fromSNorm(e,r),n.y=s.fromSNorm(t,r),n.z=1-(Math.abs(n.x)+Math.abs(n.y)),n.z<0){var u=n.x;n.x=(1-Math.abs(n.y))*s.signNotZero(u),n.y=(1-Math.abs(u))*s.signNotZero(n.y)}return i.normalize(n,n)},u.octDecode=function(e,t,r){return u.octDecodeInRange(e,t,255,r)},u.octPackFloat=function(e){if(!o(e))throw new a("encoded is required.");return 256*e.x+e.y};var l=new n;u.octEncodeFloat=function(e){return u.octEncode(e,l),u.octPackFloat(l)},u.octDecodeFloat=function(e,t){if(!o(e))throw new a("value is required.");var r=e/256,n=Math.floor(r),i=256*(r-n);return u.octDecode(n,i,t)},u.octPack=function(e,t,r,n){if(!o(e))throw new a("v1 is required.");if(!o(t))throw new a("v2 is required.");if(!o(r))throw new a("v3 is required.");if(!o(n))throw new a("result is required.");var i=u.octEncodeFloat(e),s=u.octEncodeFloat(t),c=u.octEncode(r,l);return n.x=65536*c.x+i,n.y=65536*c.y+s,n},u.octUnpack=function(e,t,r,n){if(!o(e))throw new a("packed is required.");if(!o(t))throw new a("v1 is required.");if(!o(r))throw new a("v2 is required.");if(!o(n))throw new a("v3 is required.");var i=e.x/65536,s=Math.floor(i),l=65536*(i-s);i=e.y/65536;var c=Math.floor(i),h=65536*(i-c);u.octDecodeFloat(l,t),u.octDecodeFloat(h,r),u.octDecode(s,c,n)},u.compressTextureCoordinates=function(e){if(!o(e))throw new a("textureCoordinates is required.");var t=4095*e.x|0,r=4095*e.y|0;return 4096*t+r},u.decompressTextureCoordinates=function(e,t){if(!o(e))throw new a("compressed is required.");if(!o(t))throw new a("result is required.");var r=e/4096,n=Math.floor(r);return t.x=n/4095,t.y=(e-4096*n)/4095,t},e.exports=u},function(e,t){"use strict";var r={UNBOUNDED:0,CLAMPED:1,LOOP_STOP:2};e.exports=Object.freeze(r)},function(e,t){"use strict";var r={TICK_DEPENDENT:0,SYSTEM_CLOCK_MULTIPLIER:1,SYSTEM_CLOCK:2};e.exports=Object.freeze(r)},function(e,t,r){"use strict";function n(e,t,r,n,i){var o=u.angleBetween(u.subtract(t,e,w),u.subtract(r,e,v)),a=n===l.BEVELED?1:Math.ceil(o/h.toRadians(5))+1,s=3*a,c=new Array(s);c[s-3]=r.x,c[s-2]=r.y,c[s-1]=r.z;var d;d=i?f.fromQuaternion(m.fromAxisAngle(u.negate(e,w),o/a,M),N):f.fromQuaternion(m.fromAxisAngle(e,o/a,M),N);var p=0;t=u.clone(t,w);for(var g=0;g<a;g++)t=f.multiplyByVector(d,t,t),c[p++]=t.x,c[p++]=t.y,c[p++]=t.z;return c}function i(e){var t=b,r=T,i=x,o=e[1];r=u.fromArray(e[1],o.length-3,r),i=u.fromArray(e[0],0,i),t=u.multiplyByScalar(u.add(r,i,t),.5,t);var a=n(t,r,i,l.ROUNDED,!1),s=e.length-1,c=e[s-1];o=e[s],r=u.fromArray(c,c.length-3,r),i=u.fromArray(o,0,i),t=u.multiplyByScalar(u.add(r,i,t),.5,t);var h=n(t,r,i,l.ROUNDED,!1);return[a,h]}function o(e,t,r,n){var i=w;return n?i=u.add(e,t,i):(t=u.negate(t,t),i=u.add(e,t,i)),[i.x,i.y,i.z,r.x,r.y,r.z]}function a(e,t,r,n){for(var i=new Array(e.length),o=new Array(e.length),a=u.multiplyByScalar(t,r,w),s=u.negate(a,v),l=0,c=e.length-1,h=0;h<e.length;h+=3){var f=u.fromArray(e,h,y),d=u.add(f,s,_);i[l++]=d.x,i[l++]=d.y,i[l++]=d.z;var p=u.add(f,a,_);o[c--]=p.z,o[c--]=p.y,o[c--]=p.x}return n.push(i,o),n}function s(e,t){for(var r=0;r<e.length;r++)e[r]=t.scaleToGeodeticSurface(e[r],e[r]);return e}var u=r(4),l=r(26),c=r(1),h=r(5),f=r(17),d=r(40),p=r(64),m=r(22),g={},w=new u,v=new u,y=new u,_=new u,E=[new u,new u],b=new u,T=new u,x=new u,A=new u,S=new u,O=new u,I=new u,R=new u,P=new u,C=new u,M=new m,N=new f;g.addAttribute=function(e,t,r,n){var i=t.x,o=t.y,a=t.z;c(r)&&(e[r]=i,e[r+1]=o,e[r+2]=a),c(n)&&(e[n]=a,e[n-1]=o,e[n-2]=i)};var q=new u,L=new u;g.computePositions=function(e){var t=e.granularity,r=e.positions,c=e.ellipsoid;r=s(r,c);var f=e.width/2,m=e.cornerType,g=e.saveAttributes,v=b,y=T,_=x,M=A,N=S,F=O,D=I,z=R,k=P,U=C,B=[],j=g?[]:void 0,G=g?[]:void 0,H=r[0],V=r[1];y=u.normalize(u.subtract(V,H,y),y),v=c.geodeticSurfaceNormal(H,v),M=u.normalize(u.cross(v,y,M),M),g&&(j.push(M.x,M.y,M.z),G.push(v.x,v.y,v.z)),D=u.clone(H,D),H=V,_=u.negate(y,_);var W,Y,X=[],Q=r.length;for(Y=1;Y<Q-1;Y++){v=c.geodeticSurfaceNormal(H,v),V=r[Y+1],y=u.normalize(u.subtract(V,H,y),y),N=u.normalize(u.add(y,_,N),N);var Z=u.multiplyByScalar(v,u.dot(y,v),q);u.subtract(y,Z,Z),u.normalize(Z,Z);var K=u.multiplyByScalar(v,u.dot(_,v),L);u.subtract(_,K,K),u.normalize(K,K);var J=!h.equalsEpsilon(Math.abs(u.dot(Z,K)),1,h.EPSILON7);if(J){N=u.cross(N,v,N),N=u.cross(v,N,N),N=u.normalize(N,N);var $=f/Math.max(.25,u.magnitude(u.cross(N,_,w))),ee=p.angleIsGreaterThanPi(y,_,H,c);N=u.multiplyByScalar(N,$,N),ee?(z=u.add(H,N,z),U=u.add(z,u.multiplyByScalar(M,f,U),U),k=u.add(z,u.multiplyByScalar(M,2*f,k),k),E[0]=u.clone(D,E[0]),E[1]=u.clone(U,E[1]),W=d.generateArc({positions:E,granularity:t,ellipsoid:c}),B=a(W,M,f,B),g&&(j.push(M.x,M.y,M.z),G.push(v.x,v.y,v.z)),F=u.clone(k,F),M=u.normalize(u.cross(v,y,M),M),k=u.add(z,u.multiplyByScalar(M,2*f,k),k),D=u.add(z,u.multiplyByScalar(M,f,D),D),m===l.ROUNDED||m===l.BEVELED?X.push({leftPositions:n(z,F,k,m,ee)}):X.push({leftPositions:o(H,u.negate(N,N),k,ee)})):(k=u.add(H,N,k),U=u.add(k,u.negate(u.multiplyByScalar(M,f,U),U),U),z=u.add(k,u.negate(u.multiplyByScalar(M,2*f,z),z),z),E[0]=u.clone(D,E[0]),E[1]=u.clone(U,E[1]),W=d.generateArc({positions:E,granularity:t,ellipsoid:c}),B=a(W,M,f,B),g&&(j.push(M.x,M.y,M.z),G.push(v.x,v.y,v.z)),F=u.clone(z,F),M=u.normalize(u.cross(v,y,M),M),z=u.add(k,u.negate(u.multiplyByScalar(M,2*f,z),z),z),D=u.add(k,u.negate(u.multiplyByScalar(M,f,D),D),D),m===l.ROUNDED||m===l.BEVELED?X.push({rightPositions:n(k,F,z,m,ee)}):X.push({rightPositions:o(H,N,z,ee)})),_=u.negate(y,_)}H=V}v=c.geodeticSurfaceNormal(H,v),E[0]=u.clone(D,E[0]),E[1]=u.clone(H,E[1]),W=d.generateArc({positions:E,granularity:t,ellipsoid:c}),B=a(W,M,f,B),g&&(j.push(M.x,M.y,M.z),G.push(v.x,v.y,v.z));var te;return m===l.ROUNDED&&(te=i(B)),{positions:B,corners:X,lefts:j,normals:G,endPositions:te}},e.exports=g},function(e,t,r){"use strict";function n(e,t,r,n){var i,o,a=e,s=t/3,u=r/3,l=n,c=a*u,h=s*l,f=s*s,d=u*u,p=a*u-f,m=a*l-s*u,g=s*l-d,w=4*p*g-m*m;if(w<0){var v,y,_;f*h>=c*d?(v=a,y=p,_=-2*s*p+a*m):(v=l,y=g,_=-l*m+2*u*g);var E=_<0?-1:1,b=-E*Math.abs(v)*Math.sqrt(-w);o=-_+b;var T=o/2,x=T<0?-Math.pow(-T,1/3):Math.pow(T,1/3),A=o===b?-x:-y/x;return i=y<=0?x+A:-_/(x*x+A*A+y),f*h>=c*d?[(i-s)/a]:[-l/(i+u)]}var S=p,O=-2*s*p+a*m,I=g,R=-l*m+2*u*g,P=Math.sqrt(w),C=Math.sqrt(3)/2,M=Math.abs(Math.atan2(a*P,-O)/3);i=2*Math.sqrt(-S);var N=Math.cos(M);o=i*N;var q=i*(-N/2-C*Math.sin(M)),L=o+q>2*s?o-s:q-s,F=a,D=L/F;M=Math.abs(Math.atan2(l*P,-R)/3),i=2*Math.sqrt(-I),N=Math.cos(M),o=i*N,q=i*(-N/2-C*Math.sin(M));var z=-l,k=o+q<2*u?o+u:q+u,U=z/k,B=F*k,j=-L*k-F*z,G=L*z,H=(u*j-s*G)/(-s*j+u*B);return D<=H?D<=U?H<=U?[D,H,U]:[D,U,H]:[U,D,H]:D<=U?[H,D,U]:H<=U?[H,U,D]:[U,H,D]}var i=r(2),o=r(53),a={};a.computeDiscriminant=function(e,t,r,n){if("number"!=typeof e)throw new i("a is a required number.");if("number"!=typeof t)throw new i("b is a required number.");if("number"!=typeof r)throw new i("c is a required number.");if("number"!=typeof n)throw new i("d is a required number.");var o=e*e,a=t*t,s=r*r,u=n*n,l=18*e*t*r*n+a*s-27*o*u-4*(e*s*r+a*t*n);return l},a.computeRealRoots=function(e,t,r,a){if("number"!=typeof e)throw new i("a is a required number.");if("number"!=typeof t)throw new i("b is a required number.");if("number"!=typeof r)throw new i("c is a required number.");if("number"!=typeof a)throw new i("d is a required number.");var s,u;if(0===e)return o.computeRealRoots(t,r,a);if(0===t){if(0===r){if(0===a)return[0,0,0];u=-a/e;var l=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3);return[l,l,l]}return 0===a?(s=o.computeRealRoots(e,0,r),0===s.Length?[0]:[s[0],0,s[1]]):n(e,0,r,a)}return 0===r?0===a?(u=-t/e,u<0?[u,0,0]:[0,0,u]):n(e,t,0,a):0===a?(s=o.computeRealRoots(e,t,r),0===s.length?[0]:s[1]<=0?[s[0],s[1],0]:s[0]>=0?[0,s[0],s[1]]:[s[0],0,s[1]]):n(e,t,r,a)},e.exports=a},function(e,t,r){"use strict";var n=r(5),i={};i.computePositions=function(e,t,r,i,o){var a,s=.5*e,u=-s,l=i+i,c=o?2*l:l,h=new Float64Array(3*c),f=0,d=0,p=o?3*l:0,m=o?3*(l+i):3*i;for(a=0;a<i;a++){var g=a/i*n.TWO_PI,w=Math.cos(g),v=Math.sin(g),y=w*r,_=v*r,E=w*t,b=v*t;h[d+p]=y,h[d+p+1]=_,h[d+p+2]=u,h[d+m]=E,h[d+m+1]=b,h[d+m+2]=s,d+=3,o&&(h[f++]=y,h[f++]=_,h[f++]=u,h[f++]=E,h[f++]=b,h[f++]=s)}return h},e.exports=i},function(e,t){"use strict";function r(e,t,r,n,i){this.xPoleWander=e,this.yPoleWander=t,this.xPoleOffset=r,this.yPoleOffset=n,this.ut1MinusUtc=i}e.exports=r},function(e,t,r){"use strict";function n(e,t,r){var n=t.vertexFormat,i=t.center,o=t.semiMajorAxis,a=t.semiMinorAxis,s=t.ellipsoid,u=t.stRotation,l=r?e.length/3*2:e.length/3,c=n.st?new Float32Array(2*l):void 0,h=n.normal?new Float32Array(3*l):void 0,p=n.tangent?new Float32Array(3*l):void 0,g=n.binormal?new Float32Array(3*l):void 0,w=0,v=G,_=H,b=V,A=new E(s),S=A.project(s.cartesianToCartographic(i,W),Y),O=s.scaleToGeodeticSurface(i,F);s.geodeticSurfaceNormal(O,O);for(var I=M.fromAxisAngle(O,u,j),P=R.fromQuaternion(I,B),C=f.fromElements(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,X),N=f.fromElements(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Q),q=e.length,L=r?q:0,k=L/3*2,Z=0;Z<q;Z+=3){var K=Z+1,J=Z+2,$=d.fromArray(e,Z,F);if(n.st){var ee=R.multiplyByVector(P,$,D),te=A.project(s.cartesianToCartographic(ee,W),z);d.subtract(te,S,te),U.x=(te.x+o)/(2*o),U.y=(te.y+a)/(2*a),C.x=Math.min(U.x,C.x),C.y=Math.min(U.y,C.y),N.x=Math.max(U.x,N.x),N.y=Math.max(U.y,N.y),r&&(c[w+k]=U.x,c[w+1+k]=U.y),c[w++]=U.x,c[w++]=U.y}v=s.geodeticSurfaceNormal($,v),(n.normal||n.tangent||n.binormal)&&((n.tangent||n.binormal)&&(_=d.normalize(d.cross(d.UNIT_Z,v,_),_),R.multiplyByVector(P,_,_)),n.normal&&(h[Z]=v.x,h[K]=v.y,h[J]=v.z,r&&(h[Z+L]=-v.x,h[K+L]=-v.y,h[J+L]=-v.z)),n.tangent&&(p[Z]=_.x,p[K]=_.y,p[J]=_.z,r&&(p[Z+L]=-_.x,p[K+L]=-_.y,p[J+L]=-_.z)),n.binormal&&(b=d.normalize(d.cross(v,_,b),b),g[Z]=b.x,g[K]=b.y,g[J]=b.z,r&&(g[Z+L]=b.x,g[K+L]=b.y,g[J+L]=b.z)))}if(n.st){q=c.length;for(var re=0;re<q;re+=2)c[re]=(c[re]-C.x)/(N.x-C.x),c[re+1]=(c[re+1]-C.y)/(N.y-C.y)}var ne=new x;if(n.position){var ie=y.raisePositionsToHeight(e,t,r);ne.position=new T({componentDatatype:m.DOUBLE,componentsPerAttribute:3,values:ie})}return n.st&&(ne.st=new T({componentDatatype:m.FLOAT,componentsPerAttribute:2,values:c})),n.normal&&(ne.normal=new T({componentDatatype:m.FLOAT,componentsPerAttribute:3,values:h})),n.tangent&&(ne.tangent=new T({componentDatatype:m.FLOAT,componentsPerAttribute:3,values:p})),n.binormal&&(ne.binormal=new T({componentDatatype:m.FLOAT,componentsPerAttribute:3,values:g})),ne}function i(e){var t,r,n,i,o,a=new Array(12*(e*(e+1))-6),s=0;for(t=0,n=1,i=0;i<3;i++)a[s++]=n++,a[s++]=t,a[s++]=n;for(i=2;i<e+1;++i){for(n=i*(i+1)-1,t=(i-1)*i-1,a[s++]=n++,a[s++]=t,a[s++]=n,r=2*i,o=0;o<r-1;++o)a[s++]=n,a[s++]=t++,a[s++]=t,a[s++]=n++,a[s++]=t,a[s++]=n;a[s++]=n++,a[s++]=t,a[s++]=n}for(r=2*e,++n,++t,i=0;i<r-1;++i)a[s++]=n,a[s++]=t++,a[s++]=t,a[s++]=n++,a[s++]=t,a[s++]=n;for(a[s++]=n,a[s++]=t++,a[s++]=t,a[s++]=n++,a[s++]=t++,a[s++]=t,++t,i=e-1;i>1;--i){for(a[s++]=t++,a[s++]=t,a[s++]=n,r=2*i,o=0;o<r-1;++o)a[s++]=n,a[s++]=t++,a[s++]=t,a[s++]=n++,a[s++]=t,a[s++]=n;a[s++]=t++,a[s++]=t++,a[s++]=n++}for(i=0;i<3;i++)a[s++]=t++,a[s++]=t,a[s++]=n;return a}function o(e){var t=e.center;Z=d.multiplyByScalar(e.ellipsoid.geodeticSurfaceNormal(t,Z),e.height,Z),Z=d.add(t,Z,Z);var r=new h(Z,e.semiMajorAxis),o=y.computeEllipsePositions(e,!0,!1),a=o.positions,s=o.numPts,u=n(a,e,!1),l=i(s);return l=O.createTypedArray(a.length/3,l),{boundingSphere:r,attributes:u,indices:l}}function a(e,t){var r=t.vertexFormat,n=t.center,i=t.semiMajorAxis,o=t.semiMinorAxis,a=t.ellipsoid,s=t.height,u=t.extrudedHeight,l=t.stRotation,c=e.length/3*2,h=new Float64Array(3*c),p=r.st?new Float32Array(2*c):void 0,g=r.normal?new Float32Array(3*c):void 0,w=r.tangent?new Float32Array(3*c):void 0,v=r.binormal?new Float32Array(3*c):void 0,y=0,_=G,b=H,A=V,S=new E(a),O=S.project(a.cartesianToCartographic(n,W),Y),I=a.scaleToGeodeticSurface(n,F);a.geodeticSurfaceNormal(I,I);for(var P=M.fromAxisAngle(I,l,j),C=R.fromQuaternion(P,B),N=f.fromElements(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,X),q=f.fromElements(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Q),L=e.length,Z=L/3*2,K=0;K<L;K+=3){var J,$=K+1,ee=K+2,te=d.fromArray(e,K,F);if(r.st){var re=R.multiplyByVector(C,te,D),ne=S.project(a.cartesianToCartographic(re,W),z);d.subtract(ne,O,ne),U.x=(ne.x+i)/(2*i),U.y=(ne.y+o)/(2*o),N.x=Math.min(U.x,N.x),N.y=Math.min(U.y,N.y),q.x=Math.max(U.x,q.x),q.y=Math.max(U.y,q.y),p[y+Z]=U.x,p[y+1+Z]=U.y,p[y++]=U.x,p[y++]=U.y}te=a.scaleToGeodeticSurface(te,te),J=d.clone(te,D),_=a.geodeticSurfaceNormal(te,_);var ie=d.multiplyByScalar(_,s,k);if(te=d.add(te,ie,te),ie=d.multiplyByScalar(_,u,ie),J=d.add(J,ie,J),r.position&&(h[K+L]=J.x,h[$+L]=J.y,h[ee+L]=J.z,h[K]=te.x,h[$]=te.y,h[ee]=te.z),r.normal||r.tangent||r.binormal){A=d.clone(_,A);var oe=d.fromArray(e,(K+3)%L,k);d.subtract(oe,te,oe);var ae=d.subtract(J,te,z);_=d.normalize(d.cross(ae,oe,_),_),r.normal&&(g[K]=_.x,g[$]=_.y,g[ee]=_.z,g[K+L]=_.x,g[$+L]=_.y,g[ee+L]=_.z),r.tangent&&(b=d.normalize(d.cross(A,_,b),b),w[K]=b.x,w[$]=b.y,w[ee]=b.z,w[K+L]=b.x,w[K+1+L]=b.y,w[K+2+L]=b.z),r.binormal&&(v[K]=A.x,v[$]=A.y,v[ee]=A.z,v[K+L]=A.x,v[$+L]=A.y,v[ee+L]=A.z)}}if(r.st){L=p.length;for(var se=0;se<L;se+=2)p[se]=(p[se]-N.x)/(q.x-N.x),p[se+1]=(p[se+1]-N.y)/(q.y-N.y)}var ue=new x;return r.position&&(ue.position=new T({componentDatatype:m.DOUBLE,componentsPerAttribute:3,values:h})),r.st&&(ue.st=new T({componentDatatype:m.FLOAT,componentsPerAttribute:2,values:p})),r.normal&&(ue.normal=new T({componentDatatype:m.FLOAT,componentsPerAttribute:3,values:g})),r.tangent&&(ue.tangent=new T({componentDatatype:m.FLOAT,componentsPerAttribute:3,values:w})),r.binormal&&(ue.binormal=new T({componentDatatype:m.FLOAT,componentsPerAttribute:3,values:v})),ue}function s(e){for(var t=e.length/3,r=O.createTypedArray(t,6*t),n=0,i=0;i<t;i++){var o=i,a=i+t,s=(o+1)%t,u=s+t;r[n++]=o,r[n++]=a,r[n++]=s,r[n++]=s,r[n++]=a,r[n++]=u}return r}function u(e){var t=e.center,r=e.ellipsoid,o=e.semiMajorAxis,u=d.multiplyByScalar(r.geodeticSurfaceNormal(t,F),e.height,F);K.center=d.add(t,u,K.center),K.radius=o,u=d.multiplyByScalar(r.geodeticSurfaceNormal(t,u),e.extrudedHeight,u),J.center=d.add(t,u,J.center),J.radius=o;var l=y.computeEllipsePositions(e,!0,!0),c=l.positions,f=l.numPts,p=l.outerPositions,m=h.union(K,J),g=n(c,e,!0),w=i(f),v=w.length;w.length=2*v;for(var _=c.length/3,E=0;E<v;E+=3)w[E+v]=w[E+2]+_,w[E+1+v]=w[E+1]+_,w[E+2+v]=w[E]+_;var T=O.createTypedArray(2*_/3,w),x=new b({attributes:g,indices:T,primitiveType:C.TRIANGLES}),I=a(p,e);w=s(p);var R=O.createTypedArray(2*p.length/3,w),P=new b({attributes:I,indices:R,primitiveType:C.TRIANGLES}),M=S.combineInstances([new A({geometry:x}),new A({geometry:P})]);return{boundingSphere:m,attributes:M[0].attributes,indices:M[0].indices}}function l(e,t,r,n,i){q.eastNorthUpToFixedFrame(e,t,$),P.inverseTransformation($,ee);for(var o=0;o<4;++o)d.clone(d.ZERO,re[o]);for(re[0].x+=r,re[1].x-=r,re[2].y+=n,re[3].y-=n,R.fromRotationZ(i,te),o=0;o<4;++o)R.multiplyByVector(te,re[o],re[o]),P.multiplyByPoint($,re[o],re[o]),t.cartesianToCartographic(re[o],ne[o]);return N.fromCartographicArray(ne)}function c(e){e=g(e,g.EMPTY_OBJECT);var t=e.center,r=g(e.ellipsoid,_.WGS84),n=e.semiMajorAxis,i=e.semiMinorAxis,o=g(e.granularity,I.RADIANS_PER_DEGREE),a=g(e.height,0),s=e.extrudedHeight,u=w(s)&&Math.abs(a-s)>1,c=g(e.vertexFormat,L.DEFAULT);if(!w(t))throw new v("center is required.");if(!w(n))throw new v("semiMajorAxis is required.");if(!w(i))throw new v("semiMinorAxis is required.");if(n<i)throw new v("semiMajorAxis must be greater than or equal to the semiMinorAxis.");if(o<=0)throw new v("granularity must be greater than zero.");this._center=d.clone(t),this._semiMajorAxis=n,this._semiMinorAxis=i,this._ellipsoid=_.clone(r),this._rotation=g(e.rotation,0),this._stRotation=g(e.stRotation,0),this._height=a,this._granularity=o,this._vertexFormat=L.clone(c),this._extrudedHeight=g(s,a),this._extrude=u,this._workerName="createEllipseGeometry",this._rectangle=l(this._center,this._ellipsoid,n,i,this._rotation)}var h=r(7),f=r(9),d=r(4),p=r(15),m=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",
e}()),g=r(3),w=r(1),v=r(2),y=r(89),_=r(6),E=r(27),b=r(10),T=r(11),x=r(13),A=r(38),S=r(28),O=r(14),I=r(5),R=r(17),P=r(19),C=r(12),M=r(22),N=r(16),q=r(46),L=r(20),F=new d,D=new d,z=new d,k=new d,U=new f,B=new R,j=new M,G=new d,H=new d,V=new d,W=new p,Y=new d,X=new f,Q=new f,Z=new d,K=new h,J=new h,$=new P,ee=new P,te=new R,re=[new d,new d,new d,new d],ne=[new p,new p,new p,new p];c.packedLength=d.packedLength+_.packedLength+L.packedLength+N.packedLength+8,c.pack=function(e,t,r){if(!w(e))throw new v("value is required");if(!w(t))throw new v("array is required");return r=g(r,0),d.pack(e._center,t,r),r+=d.packedLength,_.pack(e._ellipsoid,t,r),r+=_.packedLength,L.pack(e._vertexFormat,t,r),r+=L.packedLength,N.pack(e._rectangle,t,r),r+=N.packedLength,t[r++]=e._semiMajorAxis,t[r++]=e._semiMinorAxis,t[r++]=e._rotation,t[r++]=e._stRotation,t[r++]=e._height,t[r++]=e._granularity,t[r++]=e._extrudedHeight,t[r]=e._extrude?1:0,t};var ie=new d,oe=new _,ae=new L,se=new N,ue={center:ie,ellipsoid:oe,vertexFormat:ae,semiMajorAxis:void 0,semiMinorAxis:void 0,rotation:void 0,stRotation:void 0,height:void 0,granularity:void 0,extrudedHeight:void 0};c.unpack=function(e,t,r){if(!w(e))throw new v("array is required");t=g(t,0);var n=d.unpack(e,t,ie);t+=d.packedLength;var i=_.unpack(e,t,oe);t+=_.packedLength;var o=L.unpack(e,t,ae);t+=L.packedLength;var a=N.unpack(e,t,se);t+=N.packedLength;var s=e[t++],u=e[t++],l=e[t++],h=e[t++],f=e[t++],p=e[t++],m=e[t++],y=1===e[t];return w(r)?(r._center=d.clone(n,r._center),r._ellipsoid=_.clone(i,r._ellipsoid),r._vertexFormat=L.clone(o,r._vertexFormat),r._semiMajorAxis=s,r._semiMinorAxis=u,r._rotation=l,r._stRotation=h,r._height=f,r._granularity=p,r._extrudedHeight=m,r._extrude=y,r._rectangle=N.clone(a),r):(ue.height=f,ue.extrudedHeight=m,ue.granularity=p,ue.stRotation=h,ue.rotation=l,ue.semiMajorAxis=s,ue.semiMinorAxis=u,new c(ue))},c.createGeometry=function(e){if(!(e._semiMajorAxis<=0||e._semiMinorAxis<=0)){e._center=e._ellipsoid.scaleToGeodeticSurface(e._center,e._center);var t,r={center:e._center,semiMajorAxis:e._semiMajorAxis,semiMinorAxis:e._semiMinorAxis,ellipsoid:e._ellipsoid,rotation:e._rotation,height:e._height,extrudedHeight:e._extrudedHeight,granularity:e._granularity,vertexFormat:e._vertexFormat,stRotation:e._stRotation};return e._extrude?(r.extrudedHeight=Math.min(e._extrudedHeight,e._height),r.height=Math.max(e._extrudedHeight,e._height),t=u(r)):t=o(r),new b({attributes:t.attributes,indices:t.indices,primitiveType:C.TRIANGLES,boundingSphere:t.boundingSphere})}},c.createShadowVolume=function(e,t,r){var n=e._granularity,i=e._ellipsoid,o=t(n,i),a=r(n,i);return new c({center:e._center,semiMajorAxis:e._semiMajorAxis,semiMinorAxis:e._semiMinorAxis,ellipsoid:i,rotation:e._rotation,stRotation:e._stRotation,granularity:n,extrudedHeight:o,height:a,vertexFormat:L.POSITION_ONLY})},Object.defineProperties(c.prototype,{rectangle:{get:function(){return this._rectangle}}}),e.exports=c},function(e,t,r){"use strict";function n(e,t,r,n,o,u,d,p,m,g){var w=e+t;i.multiplyByScalar(n,Math.cos(w),l),i.multiplyByScalar(r,Math.sin(w),c),i.add(l,c,l);var v=Math.cos(e);v*=v;var y=Math.sin(e);y*=y;var _=u/Math.sqrt(d*v+o*y),E=_/p;return s.fromAxisAngle(l,E,h),a.fromQuaternion(h,f),a.multiplyByVector(f,m,g),i.normalize(g,g),i.multiplyByScalar(g,p,g),g}var i=r(4),o=r(5),a=r(17),s=r(22),u={},l=new i,c=new i,h=new s,f=new a,d=new i,p=new i,m=new i,g=new i;u.raisePositionsToHeight=function(e,t,r){for(var n=t.ellipsoid,o=t.height,a=t.extrudedHeight,s=r?e.length/3*2:e.length/3,u=new Float64Array(3*s),l=e.length,c=r?l:0,h=0;h<l;h+=3){var f=h+1,w=h+2,v=i.fromArray(e,h,d);n.scaleToGeodeticSurface(v,v);var y=i.clone(v,p),_=n.geodeticSurfaceNormal(v,g),E=i.multiplyByScalar(_,o,m);i.add(v,E,v),r&&(i.multiplyByScalar(_,a,E),i.add(y,E,y),u[h+c]=y.x,u[f+c]=y.y,u[w+c]=y.z),u[h]=v.x,u[f]=v.y,u[w]=v.z}return u};var w=new i,v=new i,y=new i;u.computeEllipsePositions=function(e,t,r){var a=e.semiMinorAxis,s=e.semiMajorAxis,u=e.rotation,l=e.center,c=8*e.granularity,h=a*a,f=s*s,g=s*a,_=i.magnitude(l),E=i.normalize(l,w),b=i.cross(i.UNIT_Z,l,v);b=i.normalize(b,b);var T=i.cross(E,b,y),x=1+Math.ceil(o.PI_OVER_TWO/c),A=o.PI_OVER_TWO/(x-1),S=o.PI_OVER_TWO-x*A;S<0&&(x-=Math.ceil(Math.abs(S)/A));var O,I,R,P,C,M=2*(x*(x+2)),N=t?new Array(3*M):void 0,q=0,L=d,F=p,D=4*x*3,z=D-1,k=0,U=r?new Array(D):void 0;for(S=o.PI_OVER_TWO,L=n(S,u,T,b,h,g,f,_,E,L),t&&(N[q++]=L.x,N[q++]=L.y,N[q++]=L.z),r&&(U[z--]=L.z,U[z--]=L.y,U[z--]=L.x),S=o.PI_OVER_TWO-A,O=1;O<x+1;++O){if(L=n(S,u,T,b,h,g,f,_,E,L),F=n(Math.PI-S,u,T,b,h,g,f,_,E,F),t){for(N[q++]=L.x,N[q++]=L.y,N[q++]=L.z,R=2*O+2,I=1;I<R-1;++I)P=I/(R-1),C=i.lerp(L,F,P,m),N[q++]=C.x,N[q++]=C.y,N[q++]=C.z;N[q++]=F.x,N[q++]=F.y,N[q++]=F.z}r&&(U[z--]=L.z,U[z--]=L.y,U[z--]=L.x,U[k++]=F.x,U[k++]=F.y,U[k++]=F.z),S=o.PI_OVER_TWO-(O+1)*A}for(O=x;O>1;--O){if(S=o.PI_OVER_TWO-(O-1)*A,L=n(-S,u,T,b,h,g,f,_,E,L),F=n(S+Math.PI,u,T,b,h,g,f,_,E,F),t){for(N[q++]=L.x,N[q++]=L.y,N[q++]=L.z,R=2*(O-1)+2,I=1;I<R-1;++I)P=I/(R-1),C=i.lerp(L,F,P,m),N[q++]=C.x,N[q++]=C.y,N[q++]=C.z;N[q++]=F.x,N[q++]=F.y,N[q++]=F.z}r&&(U[z--]=L.z,U[z--]=L.y,U[z--]=L.x,U[k++]=F.x,U[k++]=F.y,U[k++]=F.z)}S=o.PI_OVER_TWO,L=n(-S,u,T,b,h,g,f,_,E,L);var B={};return t&&(N[q++]=L.x,N[q++]=L.y,N[q++]=L.z,B.positions=N,B.numPts=x),r&&(U[z--]=L.z,U[z--]=L.y,U[z--]=L.x,B.outerPositions=U),B},e.exports=u},function(e,t,r){"use strict";function n(e){var t=e.center;E=s.multiplyByScalar(e.ellipsoid.geodeticSurfaceNormal(t,E),e.height,E),E=s.add(t,E,E);for(var r=new a(E,e.semiMajorAxis),n=f.computeEllipsePositions(e,!1,!0).outerPositions,i=new g({position:new m({componentDatatype:u.DOUBLE,componentsPerAttribute:3,values:f.raisePositionsToHeight(n,e,!1)})}),o=n.length/3,l=w.createTypedArray(o,2*o),c=0,h=0;h<o;++h)l[c++]=h,l[c++]=(h+1)%o;return{boundingSphere:r,attributes:i,indices:l}}function i(e){var t=e.center,r=e.ellipsoid,n=e.semiMajorAxis,i=s.multiplyByScalar(r.geodeticSurfaceNormal(t,_),e.height,_);b.center=s.add(t,i,b.center),b.radius=n,i=s.multiplyByScalar(r.geodeticSurfaceNormal(t,i),e.extrudedHeight,i),T.center=s.add(t,i,T.center),T.radius=n;var o=f.computeEllipsePositions(e,!1,!0).outerPositions,c=new g({position:new m({componentDatatype:u.DOUBLE,componentsPerAttribute:3,values:f.raisePositionsToHeight(o,e,!0)})});o=c.position.values;var h=a.union(b,T),d=o.length/3,p=l(e.numberOfVerticalLines,16);p=v.clamp(p,0,d/2);var y=w.createTypedArray(d,2*d+2*p);d/=2;var E,x=0;for(E=0;E<d;++E)y[x++]=E,y[x++]=(E+1)%d,y[x++]=E+d,y[x++]=(E+1)%d+d;var A;if(p>0){var S=Math.min(p,d);A=Math.round(d/S);var O=Math.min(A*p,d);for(E=0;E<O;E+=A)y[x++]=E,y[x++]=E+d}return{boundingSphere:h,attributes:c,indices:y}}function o(e){e=l(e,l.EMPTY_OBJECT);var t=e.center,r=l(e.ellipsoid,d.WGS84),n=e.semiMajorAxis,i=e.semiMinorAxis,o=l(e.granularity,v.RADIANS_PER_DEGREE),a=l(e.height,0),u=e.extrudedHeight,f=c(u)&&Math.abs(a-u)>1;if(!c(t))throw new h("center is required.");if(!c(n))throw new h("semiMajorAxis is required.");if(!c(i))throw new h("semiMinorAxis is required.");if(n<i)throw new h("semiMajorAxis must be greater than or equal to the semiMinorAxis.");if(o<=0)throw new h("granularity must be greater than zero.");this._center=s.clone(t),this._semiMajorAxis=n,this._semiMinorAxis=i,this._ellipsoid=d.clone(r),this._rotation=l(e.rotation,0),this._height=a,this._granularity=o,this._extrudedHeight=u,this._extrude=f,this._numberOfVerticalLines=Math.max(l(e.numberOfVerticalLines,16),0),this._workerName="createEllipseOutlineGeometry"}var a=r(7),s=r(4),u=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),l=r(3),c=r(1),h=r(2),f=r(89),d=r(6),p=r(10),m=r(11),g=r(13),w=r(14),v=r(5),y=r(12),_=new s,E=new s,b=new a,T=new a;o.packedLength=s.packedLength+d.packedLength+9,o.pack=function(e,t,r){if(!c(e))throw new h("value is required");if(!c(t))throw new h("array is required");return r=l(r,0),s.pack(e._center,t,r),r+=s.packedLength,d.pack(e._ellipsoid,t,r),r+=d.packedLength,t[r++]=e._semiMajorAxis,t[r++]=e._semiMinorAxis,t[r++]=e._rotation,t[r++]=e._height,t[r++]=e._granularity,t[r++]=c(e._extrudedHeight)?1:0,t[r++]=l(e._extrudedHeight,0),t[r++]=e._extrude?1:0,t[r]=e._numberOfVerticalLines,t};var x=new s,A=new d,S={center:x,ellipsoid:A,semiMajorAxis:void 0,semiMinorAxis:void 0,rotation:void 0,height:void 0,granularity:void 0,extrudedHeight:void 0,numberOfVerticalLines:void 0};o.unpack=function(e,t,r){if(!c(e))throw new h("array is required");t=l(t,0);var n=s.unpack(e,t,x);t+=s.packedLength;var i=d.unpack(e,t,A);t+=d.packedLength;var a=e[t++],u=e[t++],f=e[t++],p=e[t++],m=e[t++],g=e[t++],w=e[t++],v=1===e[t++],y=e[t];return c(r)?(r._center=s.clone(n,r._center),r._ellipsoid=d.clone(i,r._ellipsoid),r._semiMajorAxis=a,r._semiMinorAxis=u,r._rotation=f,r._height=p,r._granularity=m,r._extrudedHeight=g?w:void 0,r._extrude=v,r._numberOfVerticalLines=y,r):(S.height=p,S.extrudedHeight=g?w:void 0,S.granularity=m,S.rotation=f,S.semiMajorAxis=a,S.semiMinorAxis=u,S.numberOfVerticalLines=y,new o(S))},o.createGeometry=function(e){if(!(e._semiMajorAxis<=0||e._semiMinorAxis<=0)){e._center=e._ellipsoid.scaleToGeodeticSurface(e._center,e._center);var t,r={center:e._center,semiMajorAxis:e._semiMajorAxis,semiMinorAxis:e._semiMinorAxis,ellipsoid:e._ellipsoid,rotation:e._rotation,height:e._height,extrudedHeight:e._extrudedHeight,granularity:e._granularity,numberOfVerticalLines:e._numberOfVerticalLines};return e._extrude?(r.extrudedHeight=Math.min(e._extrudedHeight,e._height),r.height=Math.max(e._extrudedHeight,e._height),t=i(r)):t=n(r),new p({attributes:t.attributes,indices:t.indices,primitiveType:y.LINES,boundingSphere:t.boundingSphere})}},e.exports=o},function(e,t,r){"use strict";function n(e){var t=e._uSquared,r=e._ellipsoid.maximumRadius,n=e._ellipsoid.minimumRadius,i=(r-n)/r,o=Math.cos(e._startHeading),a=Math.sin(e._startHeading),s=(1-i)*Math.tan(e._start.latitude),u=1/Math.sqrt(1+s*s),l=u*s,c=Math.atan2(s,o),h=u*a,f=h*h,d=1-f,p=Math.sqrt(d),m=t/4,g=m*m,w=g*m,v=g*g,y=1+m-3*g/4+5*w/4-175*v/64,_=1-m+15*g/8-35*w/8,E=1-3*m+35*g/4,b=1-5*m,T=y*c-_*Math.sin(2*c)*m/2-E*Math.sin(4*c)*g/16-b*Math.sin(6*c)*w/48-5*Math.sin(8*c)*v/512,x=e._constants;x.a=r,x.b=n,x.f=i,x.cosineHeading=o,x.sineHeading=a,x.tanU=s,x.cosineU=u,x.sineU=l,x.sigma=c,x.sineAlpha=h,x.sineSquaredAlpha=f,x.cosineSquaredAlpha=d,x.cosineAlpha=p,x.u2Over4=m,x.u4Over16=g,x.u6Over64=w,x.u8Over256=v,x.a0=y,x.a1=_,x.a2=E,x.a3=b,x.distanceRatio=T}function i(e,t){return e*t*(4+e*(4-3*t))/16}function o(e,t,r,n,o,a,s){var u=i(e,r);return(1-u)*e*t*(n+u*o*(s+u*a*(2*s*s-1)))}function a(e,t,r,n,i,a,s){var u,l,c,h,f,d=(t-r)/t,p=a-n,g=Math.atan((1-d)*Math.tan(i)),w=Math.atan((1-d)*Math.tan(s)),v=Math.cos(g),y=Math.sin(g),_=Math.cos(w),E=Math.sin(w),b=v*_,T=v*E,x=y*E,A=y*_,S=p,O=m.TWO_PI,I=Math.cos(S),R=Math.sin(S);do{I=Math.cos(S),R=Math.sin(S);var P=T-A*I;c=Math.sqrt(_*_*R*R+P*P),l=x+b*I,u=Math.atan2(c,l);var C;0===c?(C=0,h=1):(C=b*R/c,h=1-C*C),O=S,f=l-2*x/h,isNaN(f)&&(f=0),S=p+o(d,C,h,u,c,l,f)}while(Math.abs(S-O)>m.EPSILON12);var M=h*(t*t-r*r)/(r*r),N=1+M*(4096+M*(M*(320-175*M)-768))/16384,q=M*(256+M*(M*(74-47*M)-128))/1024,L=f*f,F=q*c*(f+q*(l*(2*L-1)-q*f*(4*c*c-3)*(4*L-3)/6)/4),D=r*N*(u-F),z=Math.atan2(_*R,T-A*I),k=Math.atan2(v*R,T*I-A);e._distance=D,e._startHeading=z,e._endHeading=k,e._uSquared=M}function s(e,t,r,i){var o=l.normalize(i.cartographicToCartesian(t,w),g),s=l.normalize(i.cartographicToCartesian(r,w),w);if(Math.abs(Math.abs(l.angleBetween(o,s))-Math.PI)<.0125)throw new d("geodesic position is not unique");a(e,i.maximumRadius,i.minimumRadius,t.longitude,t.latitude,r.longitude,r.latitude),e._start=c.clone(t,e._start),e._end=c.clone(r,e._end),e._start.height=0,e._end.height=0,n(e)}function u(e,t,r){var n=h(r,p.WGS84);this._ellipsoid=n,this._start=new c,this._end=new c,this._constants={},this._startHeading=void 0,this._endHeading=void 0,this._distance=void 0,this._uSquared=void 0,f(e)&&f(t)&&s(this,e,t,n)}var l=r(4),c=r(15),h=r(3),f=r(1),d=r(2),p=r(6),m=r(5),g=new l,w=new l;Object.defineProperties(u.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},surfaceDistance:{get:function(){if(!f(this._distance))throw new d("set end positions before getting surfaceDistance");return this._distance}},start:{get:function(){return this._start}},end:{get:function(){return this._end}},startHeading:{get:function(){if(!f(this._distance))throw new d("set end positions before getting startHeading");return this._startHeading}},endHeading:{get:function(){if(!f(this._distance))throw new d("set end positions before getting endHeading");return this._endHeading}}}),u.prototype.setEndPoints=function(e,t){if(!f(e))throw new d("start cartographic position is required");if(!f(t))throw new d("end cartgraphic position is required");s(this,e,t,this._ellipsoid)},u.prototype.interpolateUsingFraction=function(e,t){return this.interpolateUsingSurfaceDistance(this._distance*e,t)},u.prototype.interpolateUsingSurfaceDistance=function(e,t){if(!f(this._distance))throw new d("start and end must be set before calling function interpolateUsingSurfaceDistance");var r=this._constants,n=r.distanceRatio+e/r.b,i=Math.cos(2*n),a=Math.cos(4*n),s=Math.cos(6*n),u=Math.sin(2*n),l=Math.sin(4*n),h=Math.sin(6*n),p=Math.sin(8*n),m=n*n,g=n*m,w=r.u8Over256,v=r.u2Over4,y=r.u6Over64,_=r.u4Over16,E=2*g*w*i/3+n*(1-v+7*_/4-15*y/4+579*w/64-(_-15*y/4+187*w/16)*i-(5*y/4-115*w/16)*a-29*w*s/16)+(v/2-_+71*y/32-85*w/16)*u+(5*_/16-5*y/4+383*w/96)*l-m*((y-11*w/2)*u+5*w*l/2)+(29*y/96-29*w/16)*h+539*w*p/1536,b=Math.asin(Math.sin(E)*r.cosineAlpha),T=Math.atan(r.a/r.b*Math.tan(b));E-=r.sigma;var x=Math.cos(2*r.sigma+E),A=Math.sin(E),S=Math.cos(E),O=r.cosineU*S,I=r.sineU*A,R=Math.atan2(A*r.sineHeading,O-I*r.cosineHeading),P=R-o(r.f,r.sineAlpha,r.cosineSquaredAlpha,E,A,S,x);return f(t)?(t.longitude=this._start.longitude+P,t.latitude=T,t.height=0,t):new c(this._start.longitude+P,T,0)},e.exports=u},function(e,t,r){"use strict";function n(e){e=u(e,u.EMPTY_OBJECT);var t=u(e.radii,x),r=u(e.stackPartitions,64),n=u(e.slicePartitions,64),i=u(e.vertexFormat,v.DEFAULT);if(n<3)throw new c("options.slicePartitions cannot be less than three.");if(r<3)throw new c("options.stackPartitions cannot be less than three.");this._radii=a.clone(t),this._stackPartitions=r,this._slicePartitions=n,this._vertexFormat=v.clone(i),this._workerName="createEllipsoidGeometry"}var i=r(7),o=r(9),a=r(4),s=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),u=r(3),l=r(1),c=r(2),h=r(6),f=r(10),d=r(11),p=r(13),m=r(14),g=r(5),w=r(12),v=r(20),y=new a,_=new a,E=new a,b=new a,T=new a,x=new a(1,1,1),A=Math.cos,S=Math.sin;n.packedLength=a.packedLength+v.packedLength+2,n.pack=function(e,t,r){if(!l(e))throw new c("value is required");if(!l(t))throw new c("array is required");return r=u(r,0),a.pack(e._radii,t,r),r+=a.packedLength,v.pack(e._vertexFormat,t,r),r+=v.packedLength,t[r++]=e._stackPartitions,t[r]=e._slicePartitions,t};var O=new a,I=new v,R={radii:O,vertexFormat:I,stackPartitions:void 0,slicePartitions:void 0};n.unpack=function(e,t,r){if(!l(e))throw new c("array is required");t=u(t,0);var i=a.unpack(e,t,O);t+=a.packedLength;var o=v.unpack(e,t,I);t+=v.packedLength;var s=e[t++],h=e[t];return l(r)?(r._radii=a.clone(i,r._radii),r._vertexFormat=v.clone(o,r._vertexFormat),r._stackPartitions=s,r._slicePartitions=h,r):(R.stackPartitions=s,R.slicePartitions=h,new n(R))},n.createGeometry=function(e){var t=e._radii;if(!(t.x<=0||t.y<=0||t.z<=0)){var r,n,u=h.fromCartesian3(t),l=e._vertexFormat,c=e._slicePartitions+1,v=e._stackPartitions+1,x=v*c,O=new Float64Array(3*x),I=6*(c-1)*(v-2),R=m.createTypedArray(x,I),P=l.normal?new Float32Array(3*x):void 0,C=l.tangent?new Float32Array(3*x):void 0,M=l.binormal?new Float32Array(3*x):void 0,N=l.st?new Float32Array(2*x):void 0,q=new Array(c),L=new Array(c),F=0;for(r=0;r<c;r++){var D=g.TWO_PI*r/(c-1);q[r]=A(D),L[r]=S(D),O[F++]=0,O[F++]=0,O[F++]=t.z}for(r=1;r<v-1;r++){var z=Math.PI*r/(v-1),k=S(z),U=t.x*k,B=t.y*k,j=t.z*A(z);for(n=0;n<c;n++)O[F++]=q[n]*U,O[F++]=L[n]*B,O[F++]=j}for(r=0;r<c;r++)O[F++]=0,O[F++]=0,O[F++]=-t.z;var G=new p;l.position&&(G.position=new d({componentDatatype:s.DOUBLE,componentsPerAttribute:3,values:O}));var H=0,V=0,W=0,Y=0;if(l.st||l.normal||l.tangent||l.binormal){for(r=0;r<x;r++){var X=a.fromArray(O,3*r,y),Q=u.geodeticSurfaceNormal(X,_);if(l.st){var Z=o.negate(Q,T);o.magnitude(Z)<g.EPSILON6&&(F=3*(r+c*Math.floor(.5*v)),F>O.length&&(F=3*(r-c*Math.floor(.5*v))),a.fromArray(O,F,Z),u.geodeticSurfaceNormal(Z,Z),o.negate(Z,Z)),N[H++]=Math.atan2(Z.y,Z.x)/g.TWO_PI+.5,N[H++]=Math.asin(Q.z)/Math.PI+.5}if(l.normal&&(P[V++]=Q.x,P[V++]=Q.y,P[V++]=Q.z),l.tangent||l.binormal){var K=E;if(r<c||r>x-c-1?(a.cross(a.UNIT_X,Q,K),a.normalize(K,K)):(a.cross(a.UNIT_Z,Q,K),a.normalize(K,K)),l.tangent&&(C[W++]=K.x,C[W++]=K.y,C[W++]=K.z),l.binormal){var J=a.cross(Q,K,b);a.normalize(J,J),M[Y++]=J.x,M[Y++]=J.y,M[Y++]=J.z}}}l.st&&(G.st=new d({componentDatatype:s.FLOAT,componentsPerAttribute:2,values:N})),l.normal&&(G.normal=new d({componentDatatype:s.FLOAT,componentsPerAttribute:3,values:P})),l.tangent&&(G.tangent=new d({componentDatatype:s.FLOAT,componentsPerAttribute:3,values:C})),l.binormal&&(G.binormal=new d({componentDatatype:s.FLOAT,componentsPerAttribute:3,values:M}))}for(F=0,n=0;n<c-1;n++)R[F++]=c+n,R[F++]=c+n+1,R[F++]=n+1;var $,ee;for(r=1;r<v-2;r++)for($=r*c,ee=(r+1)*c,n=0;n<c-1;n++)R[F++]=ee+n,R[F++]=ee+n+1,R[F++]=$+n+1,R[F++]=ee+n,R[F++]=$+n+1,R[F++]=$+n;for(r=v-2,$=r*c,ee=(r+1)*c,n=0;n<c-1;n++)R[F++]=ee+n,R[F++]=$+n+1,R[F++]=$+n;return new f({attributes:G,indices:R,primitiveType:w.TRIANGLES,boundingSphere:i.fromEllipsoid(u)})}},e.exports=n},function(e,t,r){"use strict";function n(e){e=s(e,s.EMPTY_OBJECT);var t=s(e.radii,w),r=s(e.stackPartitions,10),n=s(e.slicePartitions,8),i=s(e.subdivisions,128);if(r<1)throw new l("options.stackPartitions cannot be less than 1");if(n<0)throw new l("options.slicePartitions cannot be less than 0");if(i<0)throw new l("options.subdivisions must be greater than or equal to zero.");this._radii=o.clone(t),this._stackPartitions=r,this._slicePartitions=n,this._subdivisions=i,this._workerName="createEllipsoidOutlineGeometry"}var i=r(7),o=r(4),a=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),s=r(3),u=r(1),l=r(2),c=r(6),h=r(10),f=r(11),d=r(13),p=r(14),m=r(5),g=r(12),w=new o(1,1,1),v=Math.cos,y=Math.sin;n.packedLength=o.packedLength+3,n.pack=function(e,t,r){if(!u(e))throw new l("value is required");if(!u(t))throw new l("array is required");return r=s(r,0),o.pack(e._radii,t,r),r+=o.packedLength,t[r++]=e._stackPartitions,t[r++]=e._slicePartitions,t[r]=e._subdivisions,t};var _=new o,E={radii:_,stackPartitions:void 0,slicePartitions:void 0,subdivisions:void 0};n.unpack=function(e,t,r){if(!u(e))throw new l("array is required");t=s(t,0);var i=o.unpack(e,t,_);t+=o.packedLength;var a=e[t++],c=e[t++],h=e[t++];return u(r)?(r._radii=o.clone(i,r._radii),r._stackPartitions=a,r._slicePartitions=c,r._subdivisions=h,r):(E.stackPartitions=a,E.slicePartitions=c,E.subdivisions=h,new n(E))},n.createGeometry=function(e){var t=e._radii;if(!(t.x<=0||t.y<=0||t.z<=0)){var r,n,o,s,u,l,w=c.fromCartesian3(t),_=e._stackPartitions,E=e._slicePartitions,b=e._subdivisions,T=b*(_+E-1),x=T-E+2,A=new Float64Array(3*x),S=p.createTypedArray(x,2*T),O=0,I=new Array(b),R=new Array(b);for(r=0;r<b;r++)o=m.TWO_PI*r/b,I[r]=v(o),R[r]=y(o);for(r=1;r<_;r++)for(s=Math.PI*r/_,u=v(s),l=y(s),n=0;n<b;n++)A[O++]=t.x*I[n]*l,A[O++]=t.y*R[n]*l,A[O++]=t.z*u;for(I.length=E,R.length=E,r=0;r<E;r++)o=m.TWO_PI*r/E,I[r]=v(o),R[r]=y(o);for(A[O++]=0,A[O++]=0,A[O++]=t.z,r=1;r<b;r++)for(s=Math.PI*r/b,u=v(s),l=y(s),n=0;n<E;n++)A[O++]=t.x*I[n]*l,A[O++]=t.y*R[n]*l,A[O++]=t.z*u;for(A[O++]=0,A[O++]=0,A[O++]=-t.z,O=0,r=0;r<_-1;++r){var P=r*b;for(n=0;n<b-1;++n)S[O++]=P+n,S[O++]=P+n+1;S[O++]=P+b-1,S[O++]=P}var C=b*(_-1);for(n=1;n<E+1;++n)S[O++]=C,S[O++]=C+n;for(r=0;r<b-2;++r){var M=r*E+1+C,N=(r+1)*E+1+C;for(n=0;n<E-1;++n)S[O++]=N+n,S[O++]=M+n;S[O++]=N+E-1,S[O++]=M+E-1}var q=A.length/3-1;for(n=q-1;n>q-E-1;--n)S[O++]=q,S[O++]=n;var L=new d({position:new f({componentDatatype:a.DOUBLE,componentsPerAttribute:3,values:A})});return new h({attributes:L,indices:S,primitiveType:g.LINES,boundingSphere:i.fromEllipsoid(w)})}},e.exports=n},function(e,t,r){"use strict";var n,i=r(1),o={requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0},a={};Object.defineProperties(a,{element:{get:function(){if(a.supportsFullscreen())return document[o.fullscreenElement]}},changeEventName:{get:function(){if(a.supportsFullscreen())return o.fullscreenchange}},errorEventName:{get:function(){if(a.supportsFullscreen())return o.fullscreenerror}},enabled:{get:function(){if(a.supportsFullscreen())return document[o.fullscreenEnabled]}},fullscreen:{get:function(){if(a.supportsFullscreen())return null!==a.element}}}),a.supportsFullscreen=function(){if(i(n))return n;n=!1;var e=document.body;if("function"==typeof e.requestFullscreen)return o.requestFullscreen="requestFullscreen",o.exitFullscreen="exitFullscreen",o.fullscreenEnabled="fullscreenEnabled",o.fullscreenElement="fullscreenElement",o.fullscreenchange="fullscreenchange",o.fullscreenerror="fullscreenerror",n=!0;for(var t,r=["webkit","moz","o","ms","khtml"],a=0,s=r.length;a<s;++a){var u=r[a];t=u+"RequestFullscreen","function"==typeof e[t]?(o.requestFullscreen=t,n=!0):(t=u+"RequestFullScreen","function"==typeof e[t]&&(o.requestFullscreen=t,n=!0)),t=u+"ExitFullscreen","function"==typeof document[t]?o.exitFullscreen=t:(t=u+"CancelFullScreen","function"==typeof document[t]&&(o.exitFullscreen=t)),t=u+"FullscreenEnabled",void 0!==document[t]?o.fullscreenEnabled=t:(t=u+"FullScreenEnabled",void 0!==document[t]&&(o.fullscreenEnabled=t)),t=u+"FullscreenElement",void 0!==document[t]?o.fullscreenElement=t:(t=u+"FullScreenElement",void 0!==document[t]&&(o.fullscreenElement=t)),t=u+"fullscreenchange",void 0!==document["on"+t]&&("ms"===u&&(t="MSFullscreenChange"),o.fullscreenchange=t),t=u+"fullscreenerror",void 0!==document["on"+t]&&("ms"===u&&(t="MSFullscreenError"),o.fullscreenerror=t)}return n},a.requestFullscreen=function(e,t){a.supportsFullscreen()&&e[o.requestFullscreen]({vrDisplay:t})},a.exitFullscreen=function(){a.supportsFullscreen()&&document[o.exitFullscreen]()},e.exports=a},function(e,t){"use strict";function r(e,t,r,n,i,o,a,s){this.year=e,this.month=t,this.day=r,this.hour=n,this.minute=i,this.second=o,this.millisecond=a,this.isLeapSecond=s}e.exports=r},function(e,t,r){"use strict";function n(e,t,r){this.heading=i(e,0),this.pitch=i(t,0),this.roll=i(r,0)}var i=r(3),o=r(1),a=r(2),s=r(5);n.fromQuaternion=function(e,t){if(!o(e))throw new a("quaternion is required");o(t)||(t=new n);var r=2*(e.w*e.y-e.z*e.x),i=1-2*(e.x*e.x+e.y*e.y),s=2*(e.w*e.x+e.y*e.z),u=1-2*(e.y*e.y+e.z*e.z),l=2*(e.w*e.z+e.x*e.y);return t.heading=-Math.atan2(l,u),t.roll=Math.atan2(s,i),t.pitch=-Math.asin(r),t},n.fromDegrees=function(e,t,r,i){if(!o(e))throw new a("heading is required");if(!o(t))throw new a("pitch is required");if(!o(r))throw new a("roll is required");return o(i)||(i=new n),i.heading=e*s.RADIANS_PER_DEGREE,i.pitch=t*s.RADIANS_PER_DEGREE,i.roll=r*s.RADIANS_PER_DEGREE,i},n.clone=function(e,t){if(o(e))return o(t)?(t.heading=e.heading,t.pitch=e.pitch,t.roll=e.roll,t):new n(e.heading,e.pitch,e.roll)},n.equals=function(e,t){return e===t||o(e)&&o(t)&&e.heading===t.heading&&e.pitch===t.pitch&&e.roll===t.roll},n.equalsEpsilon=function(e,t,r,n){return e===t||o(e)&&o(t)&&s.equalsEpsilon(e.heading,t.heading,r,n)&&s.equalsEpsilon(e.pitch,t.pitch,r,n)&&s.equalsEpsilon(e.roll,t.roll,r,n)},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.prototype.equalsEpsilon=function(e,t,r){return n.equalsEpsilon(this,e,t,r)},n.prototype.toString=function(){return"("+this.heading+", "+this.pitch+", "+this.roll+")"},e.exports=n},function(e,t,r){"use strict";function n(e,t,r){var n=m,i=w,o=g,s=v;n.length=i.length=e.length-1,o.length=s.length=e.length;var u;n[0]=o[0]=1,i[0]=0;var c=s[0];for(l(c)||(c=s[0]=new a),a.clone(t,c),u=1;u<n.length-1;++u)n[u]=i[u]=1,o[u]=4,c=s[u],l(c)||(c=s[u]=new a),a.subtract(e[u+1],e[u-1],c),a.multiplyByScalar(c,3,c);return n[u]=0,i[u]=1,o[u]=4,c=s[u],l(c)||(c=s[u]=new a),a.subtract(e[u+1],e[u-1],c),a.multiplyByScalar(c,3,c),o[u+1]=1,c=s[u+1],l(c)||(c=s[u+1]=new a),a.clone(r,c),p.solve(n,o,i,s)}function i(e){var t=m,r=w,n=g,i=v;t.length=r.length=e.length-1,n.length=i.length=e.length;var o;t[0]=r[0]=1,n[0]=2;var s=i[0];for(l(s)||(s=i[0]=new a),a.subtract(e[1],e[0],s),a.multiplyByScalar(s,3,s),o=1;o<t.length;++o)t[o]=r[o]=1,n[o]=4,s=i[o],l(s)||(s=i[o]=new a),a.subtract(e[o+1],e[o-1],s),a.multiplyByScalar(s,3,s);return n[o]=2,s=i[o],l(s)||(s=i[o]=new a),a.subtract(e[o],e[o-1],s),a.multiplyByScalar(s,3,s),p.solve(t,n,r,i)}function o(e){e=u(e,u.EMPTY_OBJECT);var t=e.points,r=e.times,n=e.inTangents,i=e.outTangents;if(!(l(t)&&l(r)&&l(n)&&l(i)))throw new c("times, points, inTangents, and outTangents are required.");if(t.length<2)throw new c("points.length must be greater than or equal to 2.");if(r.length!==t.length)throw new c("times.length must be equal to points.length.");if(n.length!==i.length||n.length!==t.length-1)throw new c("inTangents and outTangents must have a length equal to points.length - 1.");this._times=r,this._points=t,this._inTangents=n,this._outTangents=i,this._lastTimeIndex=0}var a=r(4),s=r(24),u=r(3),l=r(1),c=r(2),h=r(102),f=r(19),d=r(42),p=r(110),m=[],g=[],w=[],v=[];Object.defineProperties(o.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}},inTangents:{get:function(){return this._inTangents}},outTangents:{get:function(){return this._outTangents}}}),o.createC1=function(e){e=u(e,u.EMPTY_OBJECT);var t=e.times,r=e.points,n=e.tangents;if(!l(r)||!l(t)||!l(n))throw new c("points, times and tangents are required.");if(r.length<2)throw new c("points.length must be greater than or equal to 2.");if(t.length!==r.length||t.length!==n.length)throw new c("times, points and tangents must have the same length.");var i=n.slice(0,n.length-1),a=n.slice(1,n.length);return new o({times:t,points:r,inTangents:a,outTangents:i})},o.createNaturalCubic=function(e){e=u(e,u.EMPTY_OBJECT);var t=e.times,r=e.points;if(!l(r)||!l(t))throw new c("points and times are required.");if(r.length<2)throw new c("points.length must be greater than or equal to 2.");if(t.length!==r.length)throw new c("times.length must be equal to points.length.");if(r.length<3)return new h({points:r,times:t});var n=i(r),a=n.slice(0,n.length-1),s=n.slice(1,n.length);return new o({times:t,points:r,inTangents:s,outTangents:a})},o.createClampedCubic=function(e){e=u(e,u.EMPTY_OBJECT);var t=e.times,r=e.points,i=e.firstTangent,a=e.lastTangent;if(!(l(r)&&l(t)&&l(i)&&l(a)))throw new c("points, times, firstTangent and lastTangent are required.");if(r.length<2)throw new c("points.length must be greater than or equal to 2.");if(t.length!==r.length)throw new c("times.length must be equal to points.length.");if(r.length<3)return new h({points:r,times:t});var s=n(r,i,a),f=s.slice(0,s.length-1),d=s.slice(1,s.length);return new o({times:t,points:r,inTangents:d,outTangents:f})},o.hermiteCoefficientMatrix=new f(2,-3,0,1,-2,3,0,0,1,-2,1,0,1,-1,0,0),o.prototype.findTimeInterval=d.prototype.findTimeInterval;var y=new s,_=new a;o.prototype.evaluate=function(e,t){l(t)||(t=new a);var r=this.points,n=this.times,i=this.inTangents,s=this.outTangents,u=this._lastTimeIndex=this.findTimeInterval(e,this._lastTimeIndex),c=(e-n[u])/(n[u+1]-n[u]),h=y;h.z=c,h.y=c*c,h.x=h.y*c,h.w=1;var d=f.multiplyByVector(o.hermiteCoefficientMatrix,h,h);return t=a.multiplyByScalar(r[u],d.x,t),a.multiplyByScalar(r[u+1],d.y,_),a.add(t,_,t),a.multiplyByScalar(s[u],d.z,_),a.add(t,_,t),a.multiplyByScalar(i[u],d.w,_),a.add(t,_,t)},e.exports=o},function(e,t){"use strict";function r(e,t,r){this.x=e,this.y=t,this.s=r}e.exports=r},function(e,t,r){"use strict";var n=r(4),i=r(1),o=r(2),a={};a.clipTriangleAtAxisAlignedThreshold=function(e,t,r,n,a,s){if(!i(e))throw new o("threshold is required.");if(!i(t))throw new o("keepAbove is required.");if(!i(r))throw new o("u0 is required.");if(!i(n))throw new o("u1 is required.");if(!i(a))throw new o("u2 is required.");i(s)?s.length=0:s=[];var u,l,c;t?(u=r<e,l=n<e,c=a<e):(u=r>e,l=n>e,c=a>e);var h,f,d,p,m,g,w=u+l+c;return 1===w?u?(h=(e-r)/(n-r),f=(e-r)/(a-r),s.push(1),s.push(2),1!==f&&(s.push(-1),s.push(0),s.push(2),s.push(f)),1!==h&&(s.push(-1),s.push(0),s.push(1),s.push(h))):l?(d=(e-n)/(a-n),p=(e-n)/(r-n),s.push(2),s.push(0),1!==p&&(s.push(-1),s.push(1),s.push(0),s.push(p)),1!==d&&(s.push(-1),s.push(1),s.push(2),s.push(d))):c&&(m=(e-a)/(r-a),g=(e-a)/(n-a),s.push(0),s.push(1),1!==g&&(s.push(-1),s.push(2),s.push(1),s.push(g)),1!==m&&(s.push(-1),s.push(2),s.push(0),s.push(m))):2===w?u||r===e?l||n===e?c||a===e||(f=(e-r)/(a-r),d=(e-n)/(a-n),s.push(2),s.push(-1),s.push(0),s.push(2),s.push(f),s.push(-1),s.push(1),s.push(2),s.push(d)):(g=(e-a)/(n-a),h=(e-r)/(n-r),s.push(1),s.push(-1),s.push(2),s.push(1),s.push(g),s.push(-1),s.push(0),s.push(1),s.push(h)):(p=(e-n)/(r-n),m=(e-a)/(r-a),s.push(0),s.push(-1),s.push(1),s.push(0),s.push(p),s.push(-1),s.push(2),s.push(0),s.push(m)):3!==w&&(s.push(0),s.push(1),s.push(2)),s},a.computeBarycentricCoordinates=function(e,t,r,a,s,u,l,c,h){if(!i(e))throw new o("x is required.");if(!i(t))throw new o("y is required.");if(!i(r))throw new o("x1 is required.");if(!i(a))throw new o("y1 is required.");if(!i(s))throw new o("x2 is required.");if(!i(u))throw new o("y2 is required.");if(!i(l))throw new o("x3 is required.");if(!i(c))throw new o("y3 is required.");var f=r-l,d=l-s,p=u-c,m=a-c,g=1/(p*f+d*m),w=t-c,v=e-l,y=(p*v+d*w)*g,_=(-m*v+f*w)*g,E=1-y-_;return i(h)?(h.x=y,h.y=_,h.z=E,h):new n(y,_,E)},e.exports=a},function(e,t,r){"use strict";var n=r(21),i=r(69),o=Object.freeze(n.fromIso8601("0000-01-01T00:00:00Z")),a=Object.freeze(n.fromIso8601("9999-12-31T24:00:00Z")),s=Object.freeze(new i({start:o,stop:a})),u={MINIMUM_VALUE:o,MAXIMUM_VALUE:a,MAXIMUM_INTERVAL:s};e.exports=u},function(e,t){"use strict";var r={SHIFT:0,CTRL:1,ALT:2};e.exports=Object.freeze(r)},function(e,t,r){"use strict";function n(e){e=o(e,o.EMPTY_OBJECT);var t=e.points,r=e.times;if(!a(t)||!a(r))throw new s("points and times are required.");if(t.length<2)throw new s("points.length must be greater than or equal to 2.");if(r.length!==t.length)throw new s("times.length must be equal to points.length.");this._times=r,this._points=t,this._lastTimeIndex=0}var i=r(4),o=r(3),a=r(1),s=r(2),u=r(42);Object.defineProperties(n.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}}}),n.prototype.findTimeInterval=u.prototype.findTimeInterval,n.prototype.evaluate=function(e,t){var r=this.points,n=this.times,o=this._lastTimeIndex=this.findTimeInterval(e,this._lastTimeIndex),s=(e-n[o])/(n[o+1]-n[o]);return a(t)||(t=new i),i.lerp(r[o],r[o+1],s,t)},e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n){return o.subtract(t,e,E),o.multiplyByScalar(E,r/n,E),o.add(e,E,E),[E.x,E.y,E.z]}var i=r(29),o=r(4),a=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),s=r(3),u=r(1),l=r(6),c=r(10),h=r(11),f=r(13),d=r(28),p=r(14),m=r(5),g=r(23),w=r(12),v=r(65),y=r(25),_={};_.computeHierarchyPackedLength=function(e){for(var t=0,r=[e];r.length>0;){var n=r.pop();if(u(n)){t+=2;var i=n.positions,a=n.holes;if(u(i)&&(t+=i.length*o.packedLength),u(a))for(var s=a.length,l=0;l<s;++l)r.push(a[l])}}return t},_.packPolygonHierarchy=function(e,t,r){for(var n=[e];n.length>0;){var i=n.pop();if(u(i)){var a=i.positions,s=i.holes;if(t[r++]=u(a)?a.length:0,t[r++]=u(s)?s.length:0,u(a))for(var l=a.length,c=0;c<l;++c,r+=3)o.pack(a[c],t,r);if(u(s))for(var h=s.length,f=0;f<h;++f)n.push(s[f])}}return r},_.unpackPolygonHierarchy=function(e,t){for(var r=e[t++],n=e[t++],i=new Array(r),a=n>0?new Array(n):void 0,s=0;s<r;++s,
t+=o.packedLength)i[s]=o.unpack(e,t);for(var u=0;u<n;++u)a[u]=_.unpackPolygonHierarchy(e,t),t=a[u].startingIndex,delete a[u].startingIndex;return{positions:i,holes:a,startingIndex:t}};var E=new o;_.subdivideLineCount=function(e,t,r){var n=o.distance(e,t),i=n/r,a=Math.max(0,Math.ceil(Math.log(i)/Math.log(2)));return Math.pow(2,a)},_.subdivideLine=function(e,t,r,i){var a=_.subdivideLineCount(e,t,r),s=o.distance(e,t),l=s/a;u(i)||(i=[]);var c=i;c.length=3*a;for(var h=0,f=0;f<a;f++){var d=n(e,t,f*l,s);c[h++]=d[0],c[h++]=d[1],c[h++]=d[2]}return c};var b=new o,T=new o,x=new o,A=new o;_.scaleToGeodeticHeightExtruded=function(e,t,r,n,i){n=s(n,l.WGS84);var a=b,c=T,h=x,f=A;if(u(e)&&u(e.attributes)&&u(e.attributes.position))for(var d=e.attributes.position.values,p=d.length/2,m=0;m<p;m+=3)o.fromArray(d,m,h),n.geodeticSurfaceNormal(h,a),f=n.scaleToGeodeticSurface(h,f),c=o.multiplyByScalar(a,r,c),c=o.add(f,c,c),d[m+p]=c.x,d[m+1+p]=c.y,d[m+2+p]=c.z,i&&(f=o.clone(h,f)),c=o.multiplyByScalar(a,t,c),c=o.add(f,c,c),d[m]=c.x,d[m+1]=c.y,d[m+2]=c.z;return e},_.polygonsFromHierarchy=function(e,t,r,n){var a=[],s=[],l=new v;for(l.enqueue(e);0!==l.length;){var c=l.dequeue(),h=c.positions,f=c.holes;if(h=i(h,o.equalsEpsilon,!0),!(h.length<3)){var d=r.projectPointsOntoPlane(h),p=[],m=g.computeWindingOrder2D(d);m===y.CLOCKWISE&&(d.reverse(),h=h.slice().reverse());var w,_,E=h.slice(),b=u(f)?f.length:0,T=[];for(w=0;w<b;w++){var x=f[w],A=i(x.positions,o.equalsEpsilon,!0);if(!(A.length<3)){var S=r.projectPointsOntoPlane(A);m=g.computeWindingOrder2D(S),m===y.CLOCKWISE&&(S.reverse(),A=A.slice().reverse()),T.push(A),p.push(E.length),E=E.concat(A),d=d.concat(S);var O=0;for(u(x.holes)&&(O=x.holes.length),_=0;_<O;_++)l.enqueue(x.holes[_])}}if(!t){for(w=0;w<h.length;w++)n.scaleToGeodeticSurface(h[w],h[w]);for(w=0;w<T.length;w++){var I=T[w];for(_=0;_<I.length;++_)n.scaleToGeodeticSurface(I[_],I[_])}}a.push({outerRing:h,holes:T}),s.push({positions:E,positions2D:d,holes:p})}}return{hierarchy:a,polygons:s}},_.createGeometryFromPositions=function(e,t,r,n,i){var o=g.triangulate(t.positions2D,t.holes);o.length<3&&(o=[0,1,2]);var s=t.positions;if(n){for(var u=s.length,l=new Array(3*u),f=0,p=0;p<u;p++){var m=s[p];l[f++]=m.x,l[f++]=m.y,l[f++]=m.z}var v=new c({attributes:{position:new h({componentDatatype:a.DOUBLE,componentsPerAttribute:3,values:l})},indices:o,primitiveType:w.TRIANGLES});return i.normal?d.computeNormal(v):v}return g.computeSubdivision(e,s,o,r)};var S=[],O=new o,I=new o;_.computeWallGeometry=function(e,t,r,n){var i,s,u,l,d,g=e.length,v=0;if(n)for(s=3*g*2,i=new Array(2*s),u=0;u<g;u++)l=e[u],d=e[(u+1)%g],i[v]=i[v+s]=l.x,++v,i[v]=i[v+s]=l.y,++v,i[v]=i[v+s]=l.z,++v,i[v]=i[v+s]=d.x,++v,i[v]=i[v+s]=d.y,++v,i[v]=i[v+s]=d.z,++v;else{var y=m.chordLength(r,t.maximumRadius),E=0;for(u=0;u<g;u++)E+=_.subdivideLineCount(e[u],e[(u+1)%g],y);for(s=3*(E+g),i=new Array(2*s),u=0;u<g;u++){l=e[u],d=e[(u+1)%g];for(var b=_.subdivideLine(l,d,y,S),T=b.length,x=0;x<T;++x,++v)i[v]=b[x],i[v+s]=b[x];i[v]=d.x,i[v+s]=d.x,++v,i[v]=d.y,i[v+s]=d.y,++v,i[v]=d.z,i[v+s]=d.z,++v}}g=i.length;var A=p.createTypedArray(g/3,g-6*e.length),R=0;for(g/=6,u=0;u<g;u++){var P=u,C=P+1,M=P+g,N=M+1;l=o.fromArray(i,3*P,O),d=o.fromArray(i,3*C,I),o.equalsEpsilon(l,d,m.EPSILON14)||(A[R++]=P,A[R++]=M,A[R++]=C,A[R++]=C,A[R++]=M,A[R++]=N)}return new c({attributes:new f({position:new h({componentDatatype:a.DOUBLE,componentsPerAttribute:3,values:i})}),indices:A,primitiveType:w.TRIANGLES})},e.exports=_},function(e,t,r){"use strict";function n(e,t,r,n){var i=e*e,a=t-3*i/8,l=r-t*e/2+i*e/8,c=n-r*e/4+t*i/16-3*i*i/256,h=o.computeRealRoots(1,2*a,a*a-4*c,-l*l);if(h.length>0){var f=-e/4,d=h[h.length-1];if(Math.abs(d)<s.EPSILON14){var p=u.computeRealRoots(1,a,c);if(2===p.length){var m,g=p[0],w=p[1];if(g>=0&&w>=0){var v=Math.sqrt(g),y=Math.sqrt(w);return[f-y,f-v,f+v,f+y]}if(g>=0&&w<0)return m=Math.sqrt(g),[f-m,f+m];if(g<0&&w>=0)return m=Math.sqrt(w),[f-m,f+m]}return[]}if(d>0){var _=Math.sqrt(d),E=(a+d-l/_)/2,b=(a+d+l/_)/2,T=u.computeRealRoots(1,_,E),x=u.computeRealRoots(1,-_,b);return 0!==T.length?(T[0]+=f,T[1]+=f,0!==x.length?(x[0]+=f,x[1]+=f,T[1]<=x[0]?[T[0],T[1],x[0],x[1]]:x[1]<=T[0]?[x[0],x[1],T[0],T[1]]:T[0]>=x[0]&&T[1]<=x[1]?[x[0],T[0],T[1],x[1]]:x[0]>=T[0]&&x[1]<=T[1]?[T[0],x[0],x[1],T[1]]:T[0]>x[0]&&T[0]<x[1]?[x[0],T[0],x[1],T[1]]:[T[0],x[0],T[1],x[1]]):T):0!==x.length?(x[0]+=f,x[1]+=f,x):[]}}return[]}function i(e,t,r,n){var i=r*r,a=t*t,l=e*e,c=-2*t,h=r*e+a-4*n,f=l*n-r*t*e+i,d=o.computeRealRoots(1,c,h,f);if(d.length>0){var p,m,g=d[0],w=t-g,v=w*w,y=e/2,_=w/2,E=v-4*n,b=v+4*Math.abs(n),T=l-4*g,x=l+4*Math.abs(g);if(g<0||E*x<T*b){var A=Math.sqrt(T);p=A/2,m=0===A?0:(e*_-r)/A}else{var S=Math.sqrt(E);p=0===S?0:(e*_-r)/S,m=S/2}var O,I;0===y&&0===p?(O=0,I=0):s.sign(y)===s.sign(p)?(O=y+p,I=g/O):(I=y-p,O=g/I);var R,P;0===_&&0===m?(R=0,P=0):s.sign(_)===s.sign(m)?(R=_+m,P=n/R):(P=_-m,R=n/P);var C=u.computeRealRoots(1,O,R),M=u.computeRealRoots(1,I,P);if(0!==C.length)return 0!==M.length?C[1]<=M[0]?[C[0],C[1],M[0],M[1]]:M[1]<=C[0]?[M[0],M[1],C[0],C[1]]:C[0]>=M[0]&&C[1]<=M[1]?[M[0],C[0],C[1],M[1]]:M[0]>=C[0]&&M[1]<=C[1]?[C[0],M[0],M[1],C[1]]:C[0]>M[0]&&C[0]<M[1]?[M[0],C[0],M[1],C[1]]:[C[0],M[0],C[1],M[1]]:C;if(0!==M.length)return M}return[]}var o=r(85),a=r(2),s=r(5),u=r(53),l={};l.computeDiscriminant=function(e,t,r,n,i){if("number"!=typeof e)throw new a("a is a required number.");if("number"!=typeof t)throw new a("b is a required number.");if("number"!=typeof r)throw new a("c is a required number.");if("number"!=typeof n)throw new a("d is a required number.");if("number"!=typeof i)throw new a("e is a required number.");var o=e*e,s=o*e,u=t*t,l=u*t,c=r*r,h=c*r,f=n*n,d=f*n,p=i*i,m=p*i,g=u*c*f-4*l*d-4*e*h*f+18*e*t*r*d-27*o*f*f+256*s*m+i*(18*l*r*n-4*u*h+16*e*c*c-80*e*t*c*n-6*e*u*f+144*o*r*f)+p*(144*e*u*r-27*u*u-128*o*c-192*o*t*n);return g},l.computeRealRoots=function(e,t,r,u,l){if("number"!=typeof e)throw new a("a is a required number.");if("number"!=typeof t)throw new a("b is a required number.");if("number"!=typeof r)throw new a("c is a required number.");if("number"!=typeof u)throw new a("d is a required number.");if("number"!=typeof l)throw new a("e is a required number.");if(Math.abs(e)<s.EPSILON15)return o.computeRealRoots(t,r,u,l);var c=t/e,h=r/e,f=u/e,d=l/e,p=c<0?1:0;switch(p+=h<0?p+1:p,p+=f<0?p+1:p,p+=d<0?p+1:p){case 0:return n(c,h,f,d);case 1:return i(c,h,f,d);case 2:return i(c,h,f,d);case 3:return n(c,h,f,d);case 4:return n(c,h,f,d);case 5:return i(c,h,f,d);case 6:return n(c,h,f,d);case 7:return n(c,h,f,d);case 8:return i(c,h,f,d);case 9:return n(c,h,f,d);case 10:return n(c,h,f,d);case 11:return i(c,h,f,d);case 12:return n(c,h,f,d);case 13:return n(c,h,f,d);case 14:return n(c,h,f,d);case 15:return n(c,h,f,d);default:return}},e.exports=l},function(e,t,r){"use strict";function n(e,t,r,n,o,a,s){var u=Math.cos(t),l=n*u,h=r*u,f=Math.sin(t),d=n*f,p=r*f;w=_.project(e,w),w=i.subtract(w,y,w);var m=c.fromRotation(t,g);w=c.multiplyByVector(m,w,w),w=i.add(w,y,w),e=_.unproject(w,e),a-=1,s-=1;var v=e.latitude,E=v+a*p,b=v-l*s,T=v-l*s+a*p,x=Math.max(v,E,b,T),A=Math.min(v,E,b,T),S=e.longitude,O=S+a*h,I=S+s*d,R=S+s*d+a*h,P=Math.max(S,O,I,R),C=Math.min(S,O,I,R);return{north:x,south:A,east:P,west:C,granYCos:l,granYSin:d,granXCos:h,granXSin:p,nwCorner:e}}var i=r(4),o=r(15),a=r(1),s=r(2),u=r(27),l=r(5),c=r(62),h=r(16),f=Math.cos,d=Math.sin,p=Math.sqrt,m={};m.computePosition=function(e,t,r,n,i){var o=e.ellipsoid.radiiSquared,s=e.nwCorner,u=e.rectangle,l=s.latitude-e.granYCos*t+r*e.granXSin,c=f(l),h=d(l),m=o.z*h,g=s.longitude+t*e.granYSin+r*e.granXCos,w=c*f(g),v=c*d(g),y=o.x*w,_=o.y*v,E=p(y*w+_*v+m*h);if(n.x=y/E,n.y=_/E,n.z=m/E,a(e.vertexFormat)&&e.vertexFormat.st){var b=e.stNwCorner;a(b)?(l=b.latitude-e.stGranYCos*t+r*e.stGranXSin,g=b.longitude+t*e.stGranYSin+r*e.stGranXCos,i.x=(g-e.stWest)*e.lonScalar,i.y=(l-e.stSouth)*e.latScalar):(i.x=(g-u.west)*e.lonScalar,i.y=(l-u.south)*e.latScalar)}};var g=new c,w=new i,v=new o,y=new i,_=new u;m.computeOptions=function(e,t,r,i){var o,a,u,c,f,d=e._granularity,p=e._ellipsoid,m=e._surfaceHeight,g=e._rotation,w=e._stRotation,E=e._extrudedHeight,b=t.east,T=t.west,x=t.north,A=t.south,S=x-A;T>b?(f=l.TWO_PI-T+b,o=Math.ceil(f/d)+1,a=Math.ceil(S/d)+1,u=f/(o-1),c=S/(a-1)):(f=b-T,o=Math.ceil(f/d)+1,a=Math.ceil(S/d)+1,u=f/(o-1),c=S/(a-1)),r=h.northwest(t,r);var O=h.center(t,v);0===g&&0===w||(O.longitude<r.longitude&&(O.longitude+=l.TWO_PI),y=_.project(O,y));var I=c,R=u,P=0,C=0,M={granYCos:I,granYSin:P,granXCos:R,granXSin:C,ellipsoid:p,surfaceHeight:m,extrudedHeight:E,nwCorner:r,rectangle:t,width:o,height:a};if(0!==g){var N=n(r,g,u,c,O,o,a);if(x=N.north,A=N.south,b=N.east,T=N.west,x<-l.PI_OVER_TWO||x>l.PI_OVER_TWO||A<-l.PI_OVER_TWO||A>l.PI_OVER_TWO)throw new s("Rotated rectangle is invalid.  It crosses over either the north or south pole.");M.granYCos=N.granYCos,M.granYSin=N.granYSin,M.granXCos=N.granXCos,M.granXSin=N.granXSin,t.north=x,t.south=A,t.east=b,t.west=T}if(0!==w){g-=w,i=h.northwest(t,i);var q=n(i,g,u,c,O,o,a);M.stGranYCos=q.granYCos,M.stGranXCos=q.granXCos,M.stGranYSin=q.granYSin,M.stGranXSin=q.granXSin,M.stNwCorner=i,M.stWest=q.west,M.stSouth=q.south}return M},e.exports=m},function(e,t,r){"use strict";function n(e,t,r){this.statusCode=e,this.response=t,this.responseHeaders=r,"string"==typeof this.responseHeaders&&(this.responseHeaders=o(this.responseHeaders))}var i=r(1),o=r(208);n.prototype.toString=function(){var e="Request has failed.";return i(this.statusCode)&&(e+=" Status Code: "+this.statusCode),e},e.exports=n},function(e,t){"use strict";var r={LEFT_DOWN:0,LEFT_UP:1,LEFT_CLICK:2,LEFT_DOUBLE_CLICK:3,RIGHT_DOWN:5,RIGHT_UP:6,RIGHT_CLICK:7,RIGHT_DOUBLE_CLICK:8,MIDDLE_DOWN:10,MIDDLE_UP:11,MIDDLE_CLICK:12,MIDDLE_DOUBLE_CLICK:13,MOUSE_MOVE:15,WHEEL:16,PINCH_START:17,PINCH_END:18,PINCH_MOVE:19};e.exports=Object.freeze(r)},function(e,t,r){"use strict";function n(e,t,r,n,o,a,s,u,l,c,h){this.center=e,this.vertices=t,this.stride=i(u,6),this.indices=r,this.minimumHeight=n,this.maximumHeight=o,this.boundingSphere3D=a,this.occludeePointInScaledSpace=s,this.orientedBoundingBox=l,this.encoding=c,this.exaggeration=h}var i=r(3);e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n,o,a,s){this.provider=e,this.message=t,this.x=r,this.y=n,this.level=o,this.timesRetried=i(a,0),this.retry=!1,this.error=s}var i=r(3),o=r(1),a=r(114);n.handleError=function(e,t,r,i,s,u,l,c,h){var f=e;return o(e)?(f.provider=t,f.message=i,f.x=s,f.y=u,f.level=l,f.retry=!1,f.error=h,++f.timesRetried):f=new n(t,i,s,u,l,0,h),r.numberOfListeners>0?r.raiseEvent(f):console.log('An error occurred in "'+t.constructor.name+'": '+a(i)),f.retry&&o(c)&&c(),f},n.handleSuccess=function(e){o(e)&&(e.timesRetried=-1)},e.exports=n},function(e,t,r){"use strict";var n=r(4),i=r(1),o=r(2),a={};a.solve=function(e,t,r,a){if(!(i(e)&&e instanceof Array))throw new o("The array lower is required.");if(!(i(t)&&t instanceof Array))throw new o("The array diagonal is required.");if(!(i(r)&&r instanceof Array))throw new o("The array upper is required.");if(!(i(a)&&a instanceof Array))throw new o("The array right is required.");if(t.length!==a.length)throw new o("diagonal and right must have the same lengths.");if(e.length!==r.length)throw new o("lower and upper must have the same lengths.");if(e.length!==t.length-1)throw new o("lower and upper must be one less than the length of diagonal.");var s,u=new Array(r.length),l=new Array(a.length),c=new Array(a.length);for(s=0;s<l.length;s++)l[s]=new n,c[s]=new n;u[0]=r[0]/t[0],l[0]=n.multiplyByScalar(a[0],1/t[0],l[0]);var h;for(s=1;s<u.length;++s)h=1/(t[s]-u[s-1]*e[s-1]),u[s]=r[s]*h,l[s]=n.subtract(a[s],n.multiplyByScalar(l[s-1],e[s-1],l[s]),l[s]),l[s]=n.multiplyByScalar(l[s],h,l[s]);for(h=1/(t[s]-u[s-1]*e[s-1]),l[s]=n.subtract(a[s],n.multiplyByScalar(l[s-1],e[s-1],l[s]),l[s]),l[s]=n.multiplyByScalar(l[s],h,l[s]),c[c.length-1]=l[l.length-1],s=c.length-2;s>=0;--s)c[s]=n.subtract(l[s],n.multiplyByScalar(c[s+1],u[s],c[s]),c[s]);return c},e.exports=a},function(e,t){"use strict";var r={NONE:-1,PARTIAL:0,FULL:1};e.exports=Object.freeze(r)},function(e,t,r){"use strict";function n(e,t){if(null===e||"object"!=typeof e)return e;t=i(t,!1);var r=new e.constructor;for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];t&&(a=n(a,t)),r[o]=a}return r}var i=r(3);e.exports=n},function(e,t,r){"use strict";function n(e,t,r){r=i(r,!1);var a,s,u,l={},c=o(e),h=o(t);if(c)for(a in e)e.hasOwnProperty(a)&&(s=e[a],h&&r&&"object"==typeof s&&t.hasOwnProperty(a)?(u=t[a],"object"==typeof u?l[a]=n(s,u,r):l[a]=s):l[a]=s);if(h)for(a in t)t.hasOwnProperty(a)&&!l.hasOwnProperty(a)&&(u=t[a],l[a]=u);return l}var i=r(3),o=r(1);e.exports=n},function(e,t,r){"use strict";function n(e){var t,r=e.name,n=e.message;t=i(r)&&i(n)?r+": "+n:e.toString();var o=e.stack;return i(o)&&(t+="\n"+o),t}var i=r(1);e.exports=n},function(e,t,r){"use strict";function n(e,t,r){if(!o(e))throw new a("uint8Array is required.");if(t<0)throw new a("byteOffset cannot be negative.");if(r<0)throw new a("byteLength cannot be negative.");if(t+r>e.byteLength)throw new a("sub-region exceeds array bounds.");return t=i(t,0),r=i(r,e.byteLength-t),e=e.subarray(t,t+r),n.decode(e)}var i=r(3),o=r(1),a=r(2);n.decodeWithTextDecoder=function(e){var t=new TextDecoder("utf-8");return t.decode(e)},n.decodeWithFromCharCode=function(e){for(var t="",r=e.length,n=0;n<r;++n)t+=String.fromCharCode(e[n]);return t},"undefined"!=typeof TextDecoder?n.decode=n.decodeWithTextDecoder:n.decode=n.decodeWithFromCharCode,e.exports=n},function(e,t,r){"use strict";function n(e){o(i)||(i=document.createElement("a")),i.href=window.location.href;var t=i.host,r=i.protocol;return i.href=e,i.href=i.href,r!==i.protocol||t!==i.host}var i,o=r(1);e.exports=n},function(e,t,r){"use strict";function n(e){if(null===e||isNaN(e))throw new i("year is required and must be a number.");return e%4===0&&e%100!==0||e%400===0}var i=r(2);e.exports=n},function(e,t,r){"use strict";function n(e,t){return i({url:e,responseType:"blob",headers:t})}var i=r(48);e.exports=n},function(e,t,r){"use strict";function n(e,t){return i({url:e,headers:t})}var i=r(48);e.exports=n},function(e,t,r){"use strict";function n(e,t){return i({url:e,responseType:"document",headers:t,overrideMimeType:"text/xml"})}var i=r(48);e.exports=n},function(e,t,r){"use strict";function n(e){if(!i(e))throw new o("obj is required.");var t="";for(var r in e)if(e.hasOwnProperty(r)){var n=e[r],s=encodeURIComponent(r)+"=";if(a(n))for(var u=0,l=n.length;u<l;++u)t+=s+encodeURIComponent(n[u])+"&";else t+=s+encodeURIComponent(n)+"&"}return t=t.slice(0,-1)}var i=r(1),o=r(2),a=r(57);e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!o(e))throw new a("identifier is required.");o(s[e])||(s[e]=!0,console.log(i(t,e)))}var i=r(3),o=r(1),a=r(2),s={};n.geometryOutlines="Entity geometry outlines are unsupported on terrain. Outlines will be disabled. To enable outlines, disable geometry terrain clamping by explicitly setting height to 0.",e.exports=n},function(e,t,r){"use strict";function n(e){if(!i(e))throw new o("queryString is required.");var t={};if(""===e)return t;for(var r=e.replace(/\+/g,"%20").split("&"),n=0,s=r.length;n<s;++n){var u=r[n].split("="),l=decodeURIComponent(u[0]),c=u[1];c=i(c)?decodeURIComponent(c):"";var h=t[l];"string"==typeof h?t[l]=[h,c]:a(h)?h.push(c):t[l]=c}return t}var i=r(1),o=r(2),a=r(57);e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n,c){if(!o(e))throw new a("cartesian is required.");if(!o(t))throw new a("oneOverRadii is required.");if(!o(r))throw new a("oneOverRadiiSquared is required.");if(!o(n))throw new a("centerToleranceSquared is required.");var h=e.x,f=e.y,d=e.z,p=t.x,m=t.y,g=t.z,w=h*h*p*p,v=f*f*m*m,y=d*d*g*g,_=w+v+y,E=Math.sqrt(1/_),b=i.multiplyByScalar(e,E,u);if(_<n)return isFinite(E)?i.clone(b,c):void 0;var T=r.x,x=r.y,A=r.z,S=l;S.x=b.x*T*2,S.y=b.y*x*2,S.z=b.z*A*2;var O,I,R,P,C,M,N,q,L,F,D,z=(1-E)*i.magnitude(e)/(.5*i.magnitude(S)),k=0;do{z-=k,R=1/(1+z*T),P=1/(1+z*x),C=1/(1+z*A),M=R*R,N=P*P,q=C*C,L=M*R,F=N*P,D=q*C,O=w*M+v*N+y*q-1,I=w*L*T+v*F*x+y*D*A;var U=-2*I;k=O/U}while(Math.abs(O)>s.EPSILON12);return o(c)?(c.x=h*R,c.y=f*P,c.z=d*C,c):new i(h*R,f*P,d*C)}var i=r(4),o=r(1),a=r(2),s=r(5),u=new i,l=new i;e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!s(e))throw new u("text is required.");if(""!==e){t=a(t,a.EMPTY_OBJECT);var r=a(t.font,"10px sans-serif"),n=a(t.stroke,!1),l=a(t.fill,!0),c=a(t.strokeWidth,1),h=a(t.backgroundColor,o.TRANSPARENT),f=a(t.padding,0),d=2*f,p=document.createElement("canvas");p.width=1,p.height=1,p.style.font=r;var m=p.getContext("2d");s(i)||(s(m.imageSmoothingEnabled)?i="imageSmoothingEnabled":s(m.mozImageSmoothingEnabled)?i="mozImageSmoothingEnabled":s(m.webkitImageSmoothingEnabled)?i="webkitImageSmoothingEnabled":s(m.msImageSmoothingEnabled)&&(i="msImageSmoothingEnabled")),m.font=r,m.lineJoin="round",m.lineWidth=c,m[i]=!1,m.textBaseline=a(t.textBaseline,"bottom"),p.style.visibility="hidden",document.body.appendChild(p);var g=m.measureText(e);p.dimensions=g,document.body.removeChild(p),p.style.visibility="";var w=-g.bounds.minx,v=Math.ceil(g.width)+w+d,y=g.height+d,_=y-g.ascent+d,E=y-_+d;if(p.width=v,p.height=y,m.font=r,m.lineJoin="round",m.lineWidth=c,m[i]=!1,h!==o.TRANSPARENT&&(m.fillStyle=h.toCssColorString(),m.fillRect(0,0,p.width,p.height)),n){var b=a(t.strokeColor,o.BLACK);m.strokeStyle=b.toCssColorString(),m.strokeText(e,w+f,E)}if(l){var T=a(t.fillColor,o.WHITE);m.fillStyle=T.toCssColorString(),m.fillText(e,w+f,E)}return p}}var i,o=r(31),a=r(3),s=r(1),u=r(2);e.exports=n},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(h===clearTimeout)return clearTimeout(e);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function a(){m&&d&&(m=!1,d.length?p=d.concat(p):g=-1,p.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=p.length;t;){for(d=p,p=[];++g<t;)d&&d[g].run();g=-1,t=p.length}d=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,h,f=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(e){c=r}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(e){h=n}}();var d,p=[],m=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new u(e,t)),1!==p.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,r){function n(e){return r(i(e))}function i(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./ArcGisImageServerTerrainProvider":128,"./ArcGisImageServerTerrainProvider.js":128,"./AssociativeArray":80,"./AssociativeArray.js":80,"./AttributeCompression":81,"./AttributeCompression.js":81,"./AxisAlignedBoundingBox":58,"./AxisAlignedBoundingBox.js":58,"./BingMapsApi":129,"./BingMapsApi.js":129,"./BoundingRectangle":49,"./BoundingRectangle.js":49,"./BoundingSphere":7,"./BoundingSphere.js":7,"./BoxGeometry":130,"./BoxGeometry.js":130,"./BoxOutlineGeometry":131,"./BoxOutlineGeometry.js":131,"./Cartesian2":9,"./Cartesian2.js":9,"./Cartesian3":4,"./Cartesian3.js":4,"./Cartesian4":24,"./Cartesian4.js":24,"./Cartographic":15,"./Cartographic.js":15,"./CatmullRomSpline":132,"./CatmullRomSpline.js":132,"./CircleGeometry":133,"./CircleGeometry.js":133,"./CircleOutlineGeometry":134,"./CircleOutlineGeometry.js":134,"./Clock":135,"./Clock.js":135,"./ClockRange":82,"./ClockRange.js":82,"./ClockStep":83,"./ClockStep.js":83,"./Color":31,"./Color.js":31,"./ColorGeometryInstanceAttribute":136,"./ColorGeometryInstanceAttribute.js":136,"./CornerType":26,"./CornerType.js":26,"./CorridorGeometry":137,"./CorridorGeometry.js":137,"./CorridorGeometryLibrary":84,"./CorridorGeometryLibrary.js":84,"./CorridorOutlineGeometry":138,"./CorridorOutlineGeometry.js":138,"./Credit":36,"./Credit.js":36,"./CubicRealPolynomial":85,"./CubicRealPolynomial.js":85,"./CylinderGeometry":139,"./CylinderGeometry.js":139,"./CylinderGeometryLibrary":86,"./CylinderGeometryLibrary.js":86,"./CylinderOutlineGeometry":140,"./CylinderOutlineGeometry.js":140,"./DefaultProxy":141,"./DefaultProxy.js":141,"./DeveloperError":2,"./DeveloperError.js":2,"./DistanceDisplayCondition":142,"./DistanceDisplayCondition.js":142,"./DistanceDisplayConditionGeometryInstanceAttribute":143,"./DistanceDisplayConditionGeometryInstanceAttribute.js":143,"./EarthOrientationParameters":144,"./EarthOrientationParameters.js":144,"./EarthOrientationParametersSample":87,"./EarthOrientationParametersSample.js":87,"./EasingFunction":145,"./EasingFunction.js":145,"./EllipseGeometry":88,"./EllipseGeometry.js":88,"./EllipseGeometryLibrary":89,"./EllipseGeometryLibrary.js":89,"./EllipseOutlineGeometry":90,"./EllipseOutlineGeometry.js":90,"./Ellipsoid":6,"./Ellipsoid.js":6,"./EllipsoidGeodesic":91,"./EllipsoidGeodesic.js":91,"./EllipsoidGeometry":92,"./EllipsoidGeometry.js":92,"./EllipsoidOutlineGeometry":93,"./EllipsoidOutlineGeometry.js":93,"./EllipsoidTangentPlane":32,"./EllipsoidTangentPlane.js":32,"./EllipsoidTerrainProvider":146,"./EllipsoidTerrainProvider.js":146,"./EllipsoidalOccluder":147,"./EllipsoidalOccluder.js":147,"./EncodedCartesian3":148,"./EncodedCartesian3.js":148,"./Event":33,"./Event.js":33,"./EventHelper":149,"./EventHelper.js":149,"./ExtrapolationType":150,"./ExtrapolationType.js":150,"./FeatureDetection":50,"./FeatureDetection.js":50,"./Fullscreen":94,"./Fullscreen.js":94,"./GeographicProjection":27,"./GeographicProjection.js":27,"./GeographicTilingScheme":37,"./GeographicTilingScheme.js":37,"./Geometry":10,"./Geometry.js":10,"./GeometryAttribute":11,"./GeometryAttribute.js":11,"./GeometryAttributes":13,"./GeometryAttributes.js":13,"./GeometryInstance":38,"./GeometryInstance.js":38,"./GeometryInstanceAttribute":151,"./GeometryInstanceAttribute.js":151,"./GeometryPipeline":28,"./GeometryPipeline.js":28,"./GeometryType":59,"./GeometryType.js":59,"./GregorianDate":95,"./GregorianDate.js":95,"./HeadingPitchRange":152,"./HeadingPitchRange.js":152,"./HeadingPitchRoll":96,"./HeadingPitchRoll.js":96,"./HeightmapTerrainData":51,"./HeightmapTerrainData.js":51,"./HeightmapTessellator":153,"./HeightmapTessellator.js":153,"./HermitePolynomialApproximation":154,"./HermitePolynomialApproximation.js":154,"./HermiteSpline":97,"./HermiteSpline.js":97,"./Iau2000Orientation":155,"./Iau2000Orientation.js":155,"./Iau2006XysData":156,"./Iau2006XysData.js":156,"./Iau2006XysSample":98,"./Iau2006XysSample.js":98,"./IauOrientationAxes":214,"./IauOrientationAxes.js":214,"./IauOrientationParameters":157,"./IauOrientationParameters.js":157,"./IndexDatatype":14,"./IndexDatatype.js":14,"./InterpolationAlgorithm":158,"./InterpolationAlgorithm.js":158,"./Intersect":34,"./Intersect.js":34,"./IntersectionTests":52,"./IntersectionTests.js":52,"./Intersections2D":99,"./Intersections2D.js":99,"./Interval":60,"./Interval.js":60,"./Iso8601":100,"./Iso8601.js":100,"./JulianDate":21,"./JulianDate.js":21,"./KeyboardEventModifier":101,"./KeyboardEventModifier.js":101,"./LagrangePolynomialApproximation":159,"./LagrangePolynomialApproximation.js":159,"./LeapSecond":61,"./LeapSecond.js":61,"./LinearApproximation":160,"./LinearApproximation.js":160,"./LinearSpline":102,"./LinearSpline.js":102,"./MapProjection":161,"./MapProjection.js":161,"./MapboxApi":162,"./MapboxApi.js":162,"./Math":5,"./Math.js":5,"./Matrix2":62,"./Matrix2.js":62,"./Matrix3":17,"./Matrix3.js":17,"./Matrix4":19,"./Matrix4.js":19,"./NearFarScalar":163,"./NearFarScalar.js":163,"./Occluder":164,"./Occluder.js":164,"./OrientedBoundingBox":63,"./OrientedBoundingBox.js":63,"./Packable":165,"./Packable.js":165,"./PackableForInterpolation":166,"./PackableForInterpolation.js":166,"./PinBuilder":167,"./PinBuilder.js":167,"./PixelFormat":168,"./PixelFormat.js":168,"./Plane":39,"./Plane.js":39,"./PointGeometry":215,"./PointGeometry.js":215,"./PolygonGeometry":169,"./PolygonGeometry.js":169,"./PolygonGeometryLibrary":103,"./PolygonGeometryLibrary.js":103,"./PolygonHierarchy":170,"./PolygonHierarchy.js":170,"./PolygonOutlineGeometry":171,"./PolygonOutlineGeometry.js":171,"./PolygonPipeline":23,"./PolygonPipeline.js":23,"./PolylineGeometry":172,"./PolylineGeometry.js":172,"./PolylinePipeline":40,"./PolylinePipeline.js":40,"./PolylineVolumeGeometry":173,"./PolylineVolumeGeometry.js":173,"./PolylineVolumeGeometryLibrary":64,"./PolylineVolumeGeometryLibrary.js":64,"./PolylineVolumeOutlineGeometry":174,"./PolylineVolumeOutlineGeometry.js":174,"./PrimitiveType":12,"./PrimitiveType.js":12,"./QuadraticRealPolynomial":53,"./QuadraticRealPolynomial.js":53,"./QuantizedMeshTerrainData":175,"./QuantizedMeshTerrainData.js":175,"./QuarticRealPolynomial":104,"./QuarticRealPolynomial.js":104,"./Quaternion":22,"./Quaternion.js":22,"./QuaternionSpline":176,"./QuaternionSpline.js":176,"./Queue":65,"./Queue.js":65,"./Ray":66,"./Ray.js":66,"./Rectangle":16,"./Rectangle.js":16,"./RectangleGeometry":177,"./RectangleGeometry.js":177,"./RectangleGeometryLibrary":105,"./RectangleGeometryLibrary.js":105,"./RectangleOutlineGeometry":178,"./RectangleOutlineGeometry.js":178,"./ReferenceFrame":179,"./ReferenceFrame.js":179,"./RequestErrorEvent":106,"./RequestErrorEvent.js":106,"./RuntimeError":41,"./RuntimeError.js":41,"./ScreenSpaceEventHandler":180,"./ScreenSpaceEventHandler.js":180,"./ScreenSpaceEventType":107,"./ScreenSpaceEventType.js":107,"./ShowGeometryInstanceAttribute":181,"./ShowGeometryInstanceAttribute.js":181,"./Simon1994PlanetaryPositions":182,"./Simon1994PlanetaryPositions.js":182,"./SimplePolylineGeometry":183,"./SimplePolylineGeometry.js":183,"./SphereGeometry":184,"./SphereGeometry.js":184,"./SphereOutlineGeometry":185,"./SphereOutlineGeometry.js":185,"./Spherical":186,"./Spherical.js":186,"./Spline":42,"./Spline.js":42,"./TaskProcessor":67,"./TaskProcessor.js":67,"./TerrainData":187,"./TerrainData.js":187,"./TerrainEncoding":68,"./TerrainEncoding.js":68,"./TerrainMesh":108,"./TerrainMesh.js":108,"./TerrainProvider":43,"./TerrainProvider.js":43,"./TerrainQuantization":188,"./TerrainQuantization.js":188,"./TileProviderError":109,"./TileProviderError.js":109,"./TilingScheme":189,"./TilingScheme.js":189,"./TimeConstants":44,"./TimeConstants.js":44,"./TimeInterval":69,"./TimeInterval.js":69,"./TimeIntervalCollection":190,"./TimeIntervalCollection.js":190,"./TimeStandard":45,"./TimeStandard.js":45,"./Tipsify":191,"./Tipsify.js":191,"./Transforms":46,"./Transforms.js":46,"./TranslationRotationScale":192,"./TranslationRotationScale.js":192,"./TridiagonalSystemSolver":110,"./TridiagonalSystemSolver.js":110,"./TrustedServers":70,"./TrustedServers.js":70,"./VRTheWorldTerrainProvider":193,"./VRTheWorldTerrainProvider.js":193,"./VertexFormat":20,"./VertexFormat.js":20,"./VideoSynchronizer":194,"./VideoSynchronizer.js":194,"./Visibility":111,"./Visibility.js":111,"./WallGeometry":195,"./WallGeometry.js":195,"./WallGeometryLibrary":71,"./WallGeometryLibrary.js":71,"./WallOutlineGeometry":196,"./WallOutlineGeometry.js":196,"./WebGLConstants":47,"./WebGLConstants.js":47,"./WebMercatorProjection":72,"./WebMercatorProjection.js":72,"./WebMercatorTilingScheme":197,"./WebMercatorTilingScheme.js":197,"./WindingOrder":25,"./WindingOrder.js":25,"./appendForwardSlash":216,"./appendForwardSlash.js":216,"./arrayRemoveDuplicates":29,"./arrayRemoveDuplicates.js":29,"./barycentricCoordinates":73,"./barycentricCoordinates.js":73,"./binarySearch":54,"./binarySearch.js":54,"./buildModuleUrl":55,"./buildModuleUrl.js":55,"./clone":112,"./clone.js":112,"./combine":113,"./combine.js":113,"./createGuid":198,"./createGuid.js":198,"./defaultValue":3,"./defaultValue.js":3,"./defined":1,"./defined.js":1,"./deprecationWarning":199,"./deprecationWarning.js":199,"./destroyObject":56,"./destroyObject.js":56,"./formatError":114,"./formatError.js":114,"./getAbsoluteUri":74,"./getAbsoluteUri.js":74,"./getBaseUri":200,"./getBaseUri.js":200,"./getExtensionFromUri":201,"./getExtensionFromUri.js":201,"./getFilenameFromUri":202,"./getFilenameFromUri.js":202,"./getImagePixels":75,"./getImagePixels.js":75,"./getMagic":218,"./getMagic.js":218,"./getStringFromTypedArray":115,"./getStringFromTypedArray.js":115,"./getTimestamp":76,"./getTimestamp.js":76,"./isArray":57,"./isArray.js":57,"./isCrossOriginUrl":116,"./isCrossOriginUrl.js":116,"./isLeapYear":117,"./isLeapYear.js":117,"./joinUrls":203,"./joinUrls.js":203,"./loadArrayBuffer":204,"./loadArrayBuffer.js":204,"./loadBlob":118,"./loadBlob.js":118,"./loadImage":35,"./loadImage.js":35,"./loadImageFromTypedArray":219,"./loadImageFromTypedArray.js":219,"./loadImageViaBlob":205,"./loadImageViaBlob.js":205,"./loadJson":77,"./loadJson.js":77,"./loadJsonp":206,"./loadJsonp.js":206,"./loadText":119,"./loadText.js":119,"./loadWithXhr":48,"./loadWithXhr.js":48,"./loadXML":120,"./loadXML.js":120,"./mergeSort":207,"./mergeSort.js":207,"./objectToQuery":121,"./objectToQuery.js":121,"./oneTimeWarning":122,"./oneTimeWarning.js":122,"./parseResponseHeaders":208,"./parseResponseHeaders.js":208,"./pointInsideTriangle":209,"./pointInsideTriangle.js":209,"./queryToObject":123,"./queryToObject.js":123,"./sampleTerrain":210,"./sampleTerrain.js":210,"./scaleToGeodeticSurface":124,"./scaleToGeodeticSurface.js":124,"./subdivideArray":211,"./subdivideArray.js":211,"./throttleRequestByServer":78,"./throttleRequestByServer.js":78,"./wrapFunction":221,"./wrapFunction.js":221,"./writeTextToCanvas":125,"./writeTextToCanvas.js":125};n.keys=function(){return Object.keys(o)},n.resolve=i,e.exports=n,n.id=127},function(e,t,r){"use strict";function n(e){if(!s(e)||!s(e.url))throw new u("options.url is required.");this._url=e.url,this._token=e.token,this._tilingScheme=e.tilingScheme,s(this._tilingScheme)||(this._tilingScheme=new h({ellipsoid:a(e.ellipsoid,l.WGS84)})),this._heightmapWidth=65,this._levelZeroMaximumGeometricError=g.getEstimatedLevelZeroGeometricErrorForAHeightmap(this._tilingScheme.ellipsoid,this._heightmapWidth,this._tilingScheme.getNumberOfXTilesAtLevel(0)),this._proxy=e.proxy,this._terrainDataStructure={heightScale:.001,heightOffset:-1e3,elementsPerHeight:3,stride:4,elementMultiplier:256,isBigEndian:!0,lowestEncodedHeight:0,highestEncodedHeight:16777215},this._errorEvent=new c;var t=e.credit;"string"==typeof t&&(t=new o(t)),this._credit=t,this._readyPromise=i.resolve(!0)}var i=r(18),o=r(36),a=r(3),s=r(1),u=r(2),l=r(6),c=r(33),h=r(37),f=r(75),d=r(51),p=r(35),m=r(5),g=r(43),w=r(78);Object.defineProperties(n.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},tilingScheme:{get:function(){return this._tilingScheme}},ready:{get:function(){return!0}},readyPromise:{get:function(){return this._readyPromise}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}}}),n.prototype.requestTileGeometry=function(e,t,r){var n=this._tilingScheme.tileXYToRectangle(e,t,r),i=(n.east-n.west)/(this._heightmapWidth-1),o=(n.north-n.south)/(this._heightmapWidth-1);n.west-=.5*i,n.east+=.5*i,n.south-=.5*o,n.north+=.5*o;var a=m.toDegrees(n.west)+"%2C"+m.toDegrees(n.south)+"%2C"+m.toDegrees(n.east)+"%2C"+m.toDegrees(n.north),u=this._url+"/exportImage?interpolation=RSP_BilinearInterpolation&format=tiff&f=image&size="+this._heightmapWidth+"%2C"+this._heightmapWidth+"&bboxSR=4326&imageSR=4326&bbox="+a;this._token&&(u+="&token="+this._token);var l=this._proxy;
s(l)&&(u=l.getURL(u));var c=w(u,p);if(s(c)){var h=this;return when(c,function(e){return new d({buffer:f(e),width:h._heightmapWidth,height:h._heightmapWidth,childTileMask:15,structure:h._terrainDataStructure})})}},n.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},n.prototype.getTileDataAvailable=function(e,t,r){},e.exports=n},function(e,t,r){"use strict";var n=r(36),i=r(1),o={};o.defaultKey=void 0;var a,s=!1,u="This application is using Cesium's default Bing Maps key.  Please create a new key for the application as soon as possible and prior to deployment by visiting https://www.bingmapsportal.com/, and provide your key to Cesium by setting the Cesium.BingMapsApi.defaultKey property before constructing the CesiumWidget or any other object that uses the Bing Maps API.";o.getKey=function(e){return i(e)?e:i(o.defaultKey)?o.defaultKey:(s||(console.log(u),s=!0),"AhiQlDaPOwKbStA_3nJIdimUj4PRYkp0yHwcNpvxVlLNPRo5ZJWY5oX_h6B_dMbm")},o.getErrorCredit=function(e){if(!i(e)&&!i(o.defaultKey))return i(a)||(a=new n(u)),a},e.exports=o},function(e,t,r){"use strict";function n(e){e=s(e,s.EMPTY_OBJECT);var t=e.minimum,r=e.maximum;if(!u(t))throw new l("options.minimum is required.");if(!u(r))throw new l("options.maximum is required");var n=s(e.vertexFormat,p.DEFAULT);this._minimum=o.clone(t),this._maximum=o.clone(r),this._vertexFormat=n,this._workerName="createBoxGeometry"}var i=r(7),o=r(4),a=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),s=r(3),u=r(1),l=r(2),c=r(10),h=r(11),f=r(13),d=r(12),p=r(20),m=new o;n.fromDimensions=function(e){e=s(e,s.EMPTY_OBJECT);var t=e.dimensions;if(!u(t))throw new l("options.dimensions is required.");if(t.x<0||t.y<0||t.z<0)throw new l("All dimensions components must be greater than or equal to zero.");var r=o.multiplyByScalar(t,.5,new o);return new n({minimum:o.negate(r,new o),maximum:r,vertexFormat:e.vertexFormat})},n.fromAxisAlignedBoundingBox=function(e){if(!u(e))throw new l("boundingBox is required.");return new n({minimum:e.minimum,maximum:e.maximum})},n.packedLength=2*o.packedLength+p.packedLength,n.pack=function(e,t,r){if(!u(e))throw new l("value is required");if(!u(t))throw new l("array is required");return r=s(r,0),o.pack(e._minimum,t,r),o.pack(e._maximum,t,r+o.packedLength),p.pack(e._vertexFormat,t,r+2*o.packedLength),t};var g=new o,w=new o,v=new p,y={minimum:g,maximum:w,vertexFormat:v};n.unpack=function(e,t,r){if(!u(e))throw new l("array is required");t=s(t,0);var i=o.unpack(e,t,g),a=o.unpack(e,t+o.packedLength,w),c=p.unpack(e,t+2*o.packedLength,v);return u(r)?(r._minimum=o.clone(i,r._minimum),r._maximum=o.clone(a,r._maximum),r._vertexFormat=p.clone(c,r._vertexFormat),r):new n(y)},n.createGeometry=function(e){var t=e._minimum,r=e._maximum,n=e._vertexFormat;if(!o.equals(t,r)){var s,u,l=new f;if(n.position&&(n.st||n.normal||n.binormal||n.tangent)){if(n.position&&(u=new Float64Array(72),u[0]=t.x,u[1]=t.y,u[2]=r.z,u[3]=r.x,u[4]=t.y,u[5]=r.z,u[6]=r.x,u[7]=r.y,u[8]=r.z,u[9]=t.x,u[10]=r.y,u[11]=r.z,u[12]=t.x,u[13]=t.y,u[14]=t.z,u[15]=r.x,u[16]=t.y,u[17]=t.z,u[18]=r.x,u[19]=r.y,u[20]=t.z,u[21]=t.x,u[22]=r.y,u[23]=t.z,u[24]=r.x,u[25]=t.y,u[26]=t.z,u[27]=r.x,u[28]=r.y,u[29]=t.z,u[30]=r.x,u[31]=r.y,u[32]=r.z,u[33]=r.x,u[34]=t.y,u[35]=r.z,u[36]=t.x,u[37]=t.y,u[38]=t.z,u[39]=t.x,u[40]=r.y,u[41]=t.z,u[42]=t.x,u[43]=r.y,u[44]=r.z,u[45]=t.x,u[46]=t.y,u[47]=r.z,u[48]=t.x,u[49]=r.y,u[50]=t.z,u[51]=r.x,u[52]=r.y,u[53]=t.z,u[54]=r.x,u[55]=r.y,u[56]=r.z,u[57]=t.x,u[58]=r.y,u[59]=r.z,u[60]=t.x,u[61]=t.y,u[62]=t.z,u[63]=r.x,u[64]=t.y,u[65]=t.z,u[66]=r.x,u[67]=t.y,u[68]=r.z,u[69]=t.x,u[70]=t.y,u[71]=r.z,l.position=new h({componentDatatype:a.DOUBLE,componentsPerAttribute:3,values:u})),n.normal){var p=new Float32Array(72);p[0]=0,p[1]=0,p[2]=1,p[3]=0,p[4]=0,p[5]=1,p[6]=0,p[7]=0,p[8]=1,p[9]=0,p[10]=0,p[11]=1,p[12]=0,p[13]=0,p[14]=-1,p[15]=0,p[16]=0,p[17]=-1,p[18]=0,p[19]=0,p[20]=-1,p[21]=0,p[22]=0,p[23]=-1,p[24]=1,p[25]=0,p[26]=0,p[27]=1,p[28]=0,p[29]=0,p[30]=1,p[31]=0,p[32]=0,p[33]=1,p[34]=0,p[35]=0,p[36]=-1,p[37]=0,p[38]=0,p[39]=-1,p[40]=0,p[41]=0,p[42]=-1,p[43]=0,p[44]=0,p[45]=-1,p[46]=0,p[47]=0,p[48]=0,p[49]=1,p[50]=0,p[51]=0,p[52]=1,p[53]=0,p[54]=0,p[55]=1,p[56]=0,p[57]=0,p[58]=1,p[59]=0,p[60]=0,p[61]=-1,p[62]=0,p[63]=0,p[64]=-1,p[65]=0,p[66]=0,p[67]=-1,p[68]=0,p[69]=0,p[70]=-1,p[71]=0,l.normal=new h({componentDatatype:a.FLOAT,componentsPerAttribute:3,values:p})}if(n.st){var g=new Float32Array(48);g[0]=0,g[1]=0,g[2]=1,g[3]=0,g[4]=1,g[5]=1,g[6]=0,g[7]=1,g[8]=1,g[9]=0,g[10]=0,g[11]=0,g[12]=0,g[13]=1,g[14]=1,g[15]=1,g[16]=0,g[17]=0,g[18]=1,g[19]=0,g[20]=1,g[21]=1,g[22]=0,g[23]=1,g[24]=1,g[25]=0,g[26]=0,g[27]=0,g[28]=0,g[29]=1,g[30]=1,g[31]=1,g[32]=1,g[33]=0,g[34]=0,g[35]=0,g[36]=0,g[37]=1,g[38]=1,g[39]=1,g[40]=0,g[41]=0,g[42]=1,g[43]=0,g[44]=1,g[45]=1,g[46]=0,g[47]=1,l.st=new h({componentDatatype:a.FLOAT,componentsPerAttribute:2,values:g})}if(n.tangent){var w=new Float32Array(72);w[0]=1,w[1]=0,w[2]=0,w[3]=1,w[4]=0,w[5]=0,w[6]=1,w[7]=0,w[8]=0,w[9]=1,w[10]=0,w[11]=0,w[12]=-1,w[13]=0,w[14]=0,w[15]=-1,w[16]=0,w[17]=0,w[18]=-1,w[19]=0,w[20]=0,w[21]=-1,w[22]=0,w[23]=0,w[24]=0,w[25]=1,w[26]=0,w[27]=0,w[28]=1,w[29]=0,w[30]=0,w[31]=1,w[32]=0,w[33]=0,w[34]=1,w[35]=0,w[36]=0,w[37]=-1,w[38]=0,w[39]=0,w[40]=-1,w[41]=0,w[42]=0,w[43]=-1,w[44]=0,w[45]=0,w[46]=-1,w[47]=0,w[48]=-1,w[49]=0,w[50]=0,w[51]=-1,w[52]=0,w[53]=0,w[54]=-1,w[55]=0,w[56]=0,w[57]=-1,w[58]=0,w[59]=0,w[60]=1,w[61]=0,w[62]=0,w[63]=1,w[64]=0,w[65]=0,w[66]=1,w[67]=0,w[68]=0,w[69]=1,w[70]=0,w[71]=0,l.tangent=new h({componentDatatype:a.FLOAT,componentsPerAttribute:3,values:w})}if(n.binormal){var v=new Float32Array(72);v[0]=0,v[1]=1,v[2]=0,v[3]=0,v[4]=1,v[5]=0,v[6]=0,v[7]=1,v[8]=0,v[9]=0,v[10]=1,v[11]=0,v[12]=0,v[13]=1,v[14]=0,v[15]=0,v[16]=1,v[17]=0,v[18]=0,v[19]=1,v[20]=0,v[21]=0,v[22]=1,v[23]=0,v[24]=0,v[25]=0,v[26]=1,v[27]=0,v[28]=0,v[29]=1,v[30]=0,v[31]=0,v[32]=1,v[33]=0,v[34]=0,v[35]=1,v[36]=0,v[37]=0,v[38]=1,v[39]=0,v[40]=0,v[41]=1,v[42]=0,v[43]=0,v[44]=1,v[45]=0,v[46]=0,v[47]=1,v[48]=0,v[49]=0,v[50]=1,v[51]=0,v[52]=0,v[53]=1,v[54]=0,v[55]=0,v[56]=1,v[57]=0,v[58]=0,v[59]=1,v[60]=0,v[61]=0,v[62]=1,v[63]=0,v[64]=0,v[65]=1,v[66]=0,v[67]=0,v[68]=1,v[69]=0,v[70]=0,v[71]=1,l.binormal=new h({componentDatatype:a.FLOAT,componentsPerAttribute:3,values:v})}s=new Uint16Array(36),s[0]=0,s[1]=1,s[2]=2,s[3]=0,s[4]=2,s[5]=3,s[6]=6,s[7]=5,s[8]=4,s[9]=7,s[10]=6,s[11]=4,s[12]=8,s[13]=9,s[14]=10,s[15]=8,s[16]=10,s[17]=11,s[18]=14,s[19]=13,s[20]=12,s[21]=15,s[22]=14,s[23]=12,s[24]=18,s[25]=17,s[26]=16,s[27]=19,s[28]=18,s[29]=16,s[30]=20,s[31]=21,s[32]=22,s[33]=20,s[34]=22,s[35]=23}else u=new Float64Array(24),u[0]=t.x,u[1]=t.y,u[2]=t.z,u[3]=r.x,u[4]=t.y,u[5]=t.z,u[6]=r.x,u[7]=r.y,u[8]=t.z,u[9]=t.x,u[10]=r.y,u[11]=t.z,u[12]=t.x,u[13]=t.y,u[14]=r.z,u[15]=r.x,u[16]=t.y,u[17]=r.z,u[18]=r.x,u[19]=r.y,u[20]=r.z,u[21]=t.x,u[22]=r.y,u[23]=r.z,l.position=new h({componentDatatype:a.DOUBLE,componentsPerAttribute:3,values:u}),s=new Uint16Array(36),s[0]=4,s[1]=5,s[2]=6,s[3]=4,s[4]=6,s[5]=7,s[6]=1,s[7]=0,s[8]=3,s[9]=1,s[10]=3,s[11]=2,s[12]=1,s[13]=6,s[14]=5,s[15]=1,s[16]=2,s[17]=6,s[18]=2,s[19]=3,s[20]=7,s[21]=2,s[22]=7,s[23]=6,s[24]=3,s[25]=0,s[26]=4,s[27]=3,s[28]=4,s[29]=7,s[30]=0,s[31]=1,s[32]=5,s[33]=0,s[34]=5,s[35]=4;var y=o.subtract(r,t,m),_=.5*o.magnitude(y);return new c({attributes:l,indices:s,primitiveType:d.TRIANGLES,boundingSphere:new i(o.ZERO,_)})}},e.exports=n},function(e,t,r){"use strict";function n(e){e=s(e,s.EMPTY_OBJECT);var t=e.minimum,r=e.maximum;if(!u(t))throw new l("options.minimum is required.");if(!u(r))throw new l("options.maximum is required");this._min=o.clone(t),this._max=o.clone(r),this._workerName="createBoxOutlineGeometry"}var i=r(7),o=r(4),a=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),s=r(3),u=r(1),l=r(2),c=r(10),h=r(11),f=r(13),d=r(12),p=new o;n.fromDimensions=function(e){e=s(e,s.EMPTY_OBJECT);var t=e.dimensions;if(!u(t))throw new l("options.dimensions is required.");if(t.x<0||t.y<0||t.z<0)throw new l("All dimensions components must be greater than or equal to zero.");var r=o.multiplyByScalar(t,.5,new o);return new n({minimum:o.negate(r,new o),maximum:r})},n.fromAxisAlignedBoundingBox=function(e){if(!u(e))throw new l("boundingBox is required.");return new n({minimum:e.minimum,maximum:e.maximum})},n.packedLength=2*o.packedLength,n.pack=function(e,t,r){if(!u(e))throw new l("value is required");if(!u(t))throw new l("array is required");return r=s(r,0),o.pack(e._min,t,r),o.pack(e._max,t,r+o.packedLength),t};var m=new o,g=new o,w={minimum:m,maximum:g};n.unpack=function(e,t,r){if(!u(e))throw new l("array is required");t=s(t,0);var i=o.unpack(e,t,m),a=o.unpack(e,t+o.packedLength,g);return u(r)?(r._min=o.clone(i,r._min),r._max=o.clone(a,r._max),r):new n(w)},n.createGeometry=function(e){var t=e._min,r=e._max;if(!o.equals(t,r)){var n=new f,s=new Uint16Array(24),u=new Float64Array(24);u[0]=t.x,u[1]=t.y,u[2]=t.z,u[3]=r.x,u[4]=t.y,u[5]=t.z,u[6]=r.x,u[7]=r.y,u[8]=t.z,u[9]=t.x,u[10]=r.y,u[11]=t.z,u[12]=t.x,u[13]=t.y,u[14]=r.z,u[15]=r.x,u[16]=t.y,u[17]=r.z,u[18]=r.x,u[19]=r.y,u[20]=r.z,u[21]=t.x,u[22]=r.y,u[23]=r.z,n.position=new h({componentDatatype:a.DOUBLE,componentsPerAttribute:3,values:u}),s[0]=4,s[1]=5,s[2]=5,s[3]=6,s[4]=6,s[5]=7,s[6]=7,s[7]=4,s[8]=0,s[9]=1,s[10]=1,s[11]=2,s[12]=2,s[13]=3,s[14]=3,s[15]=0,s[16]=0,s[17]=4,s[18]=1,s[19]=5,s[20]=2,s[21]=6,s[22]=3,s[23]=7;var l=o.subtract(r,t,p),m=.5*o.magnitude(l);return new c({attributes:n,indices:s,primitiveType:d.LINES,boundingSphere:new i(o.ZERO,m)})}},e.exports=n},function(e,t,r){"use strict";function n(e){var t=e.points,r=e.times;if(t.length<3){var n=r[0],a=1/(r[1]-n),s=t[0],l=t[1];return function(e,t){u(t)||(t=new o);var r=(e-n)*a;return o.lerp(s,l,r,t)}}return function(n,a){u(a)||(a=new o);var s=e._lastTimeIndex=e.findTimeInterval(n,e._lastTimeIndex),l=(n-r[s])/(r[s+1]-r[s]),f=d;f.z=l,f.y=l*l,f.x=f.y*l,f.w=1;var g,w,v,y,_;return 0===s?(g=t[0],w=t[1],v=e.firstTangent,y=o.subtract(t[2],g,p),o.multiplyByScalar(y,.5,y),_=h.multiplyByVector(c.hermiteCoefficientMatrix,f,f)):s===t.length-2?(g=t[s],w=t[s+1],y=e.lastTangent,v=o.subtract(w,t[s-1],p),o.multiplyByScalar(v,.5,v),_=h.multiplyByVector(c.hermiteCoefficientMatrix,f,f)):(g=t[s-1],w=t[s],v=t[s+1],y=t[s+2],_=h.multiplyByVector(i.catmullRomCoefficientMatrix,f,f)),a=o.multiplyByScalar(g,_.x,a),o.multiplyByScalar(w,_.y,m),o.add(a,m,a),o.multiplyByScalar(v,_.z,m),o.add(a,m,a),o.multiplyByScalar(y,_.w,m),o.add(a,m,a)}}function i(e){e=s(e,s.EMPTY_OBJECT);var t=e.points,r=e.times,i=e.firstTangent,a=e.lastTangent;if(!u(t)||!u(r))throw new l("points and times are required.");if(t.length<2)throw new l("points.length must be greater than or equal to 2.");if(r.length!==t.length)throw new l("times.length must be equal to points.length.");if(t.length>2&&(u(i)||(i=g,o.multiplyByScalar(t[1],2,i),o.subtract(i,t[2],i),o.subtract(i,t[0],i),o.multiplyByScalar(i,.5,i)),!u(a))){var c=t.length-1;a=w,o.multiplyByScalar(t[c-1],2,a),o.subtract(t[c],a,a),o.add(a,t[c-2],a),o.multiplyByScalar(a,.5,a)}this._times=r,this._points=t,this._firstTangent=o.clone(i),this._lastTangent=o.clone(a),this._evaluateFunction=n(this),this._lastTimeIndex=0}var o=r(4),a=r(24),s=r(3),u=r(1),l=r(2),c=r(97),h=r(19),f=r(42),d=new a,p=new o,m=new o,g=new o,w=new o;Object.defineProperties(i.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}},firstTangent:{get:function(){return this._firstTangent}},lastTangent:{get:function(){return this._lastTangent}}}),i.catmullRomCoefficientMatrix=new h(-.5,1,-.5,0,1.5,-2.5,0,1,-1.5,2,.5,0,.5,-.5,0,0),i.prototype.findTimeInterval=f.prototype.findTimeInterval,i.prototype.evaluate=function(e,t){return this._evaluateFunction(e,t)},e.exports=i},function(e,t,r){"use strict";function n(e){e=o(e,o.EMPTY_OBJECT);var t=e.radius;if(!a(t))throw new s("radius is required.");var r={center:e.center,semiMajorAxis:t,semiMinorAxis:t,ellipsoid:e.ellipsoid,height:e.height,extrudedHeight:e.extrudedHeight,granularity:e.granularity,vertexFormat:e.vertexFormat,stRotation:e.stRotation};this._ellipseGeometry=new u(r),this._workerName="createCircleGeometry"}var i=r(4),o=r(3),a=r(1),s=r(2),u=r(88),l=r(6),c=r(20);n.packedLength=u.packedLength,n.pack=function(e,t,r){if(!a(e))throw new s("value is required");return u.pack(e._ellipseGeometry,t,r)};var h=new u({center:new i,semiMajorAxis:1,semiMinorAxis:1}),f={center:new i,radius:void 0,ellipsoid:l.clone(l.UNIT_SPHERE),height:void 0,extrudedHeight:void 0,granularity:void 0,vertexFormat:new c,stRotation:void 0,semiMajorAxis:void 0,semiMinorAxis:void 0};n.unpack=function(e,t,r){var o=u.unpack(e,t,h);return f.center=i.clone(o._center,f.center),f.ellipsoid=l.clone(o._ellipsoid,f.ellipsoid),f.height=o._height,f.extrudedHeight=o._extrudedHeight,f.granularity=o._granularity,f.vertexFormat=c.clone(o._vertexFormat,f.vertexFormat),f.stRotation=o._stRotation,a(r)?(f.semiMajorAxis=o._semiMajorAxis,f.semiMinorAxis=o._semiMinorAxis,r._ellipseGeometry=new u(f),r):(f.radius=o._semiMajorAxis,new n(f))},n.createGeometry=function(e){return u.createGeometry(e._ellipseGeometry)},n.createShadowVolume=function(e,t,r){var i=e._ellipseGeometry._granularity,o=e._ellipseGeometry._ellipsoid,a=t(i,o),s=r(i,o);return new n({center:e._ellipseGeometry._center,radius:e._ellipseGeometry._semiMajorAxis,ellipsoid:o,stRotation:e._ellipseGeometry._stRotation,granularity:i,extrudedHeight:a,height:s,vertexFormat:c.POSITION_ONLY})},Object.defineProperties(n.prototype,{rectangle:{get:function(){return this._ellipseGeometry.rectangle}}}),e.exports=n},function(e,t,r){"use strict";function n(e){e=o(e,o.EMPTY_OBJECT);var t=e.radius;if(!a(t))throw new s("radius is required.");var r={center:e.center,semiMajorAxis:t,semiMinorAxis:t,ellipsoid:e.ellipsoid,height:e.height,extrudedHeight:e.extrudedHeight,granularity:e.granularity,numberOfVerticalLines:e.numberOfVerticalLines};this._ellipseGeometry=new u(r),this._workerName="createCircleOutlineGeometry"}var i=r(4),o=r(3),a=r(1),s=r(2),u=r(90),l=r(6);n.packedLength=u.packedLength,n.pack=function(e,t,r){if(!a(e))throw new s("value is required");return u.pack(e._ellipseGeometry,t,r)};var c=new u({center:new i,semiMajorAxis:1,semiMinorAxis:1}),h={center:new i,radius:void 0,ellipsoid:l.clone(l.UNIT_SPHERE),height:void 0,extrudedHeight:void 0,granularity:void 0,numberOfVerticalLines:void 0,semiMajorAxis:void 0,semiMinorAxis:void 0};n.unpack=function(e,t,r){var o=u.unpack(e,t,c);return h.center=i.clone(o._center,h.center),h.ellipsoid=l.clone(o._ellipsoid,h.ellipsoid),h.height=o._height,h.extrudedHeight=o._extrudedHeight,h.granularity=o._granularity,h.numberOfVerticalLines=o._numberOfVerticalLines,a(r)?(h.semiMajorAxis=o._semiMajorAxis,h.semiMinorAxis=o._semiMinorAxis,r._ellipseGeometry=new u(h),r):(h.radius=o._semiMajorAxis,new n(h))},n.createGeometry=function(e){return u.createGeometry(e._ellipseGeometry)},e.exports=n},function(e,t,r){"use strict";function n(e){e=a(e,a.EMPTY_OBJECT);var t=e.currentTime,r=e.startTime,n=e.stopTime;if(t=s(t)?h.clone(t):s(r)?h.clone(r):s(n)?h.addDays(n,-1,new h):h.now(),r=s(r)?h.clone(r):h.clone(t),n=s(n)?h.clone(n):h.addDays(r,1,new h),h.greaterThan(r,n))throw new u("startTime must come before stopTime.");this.startTime=r,this.stopTime=n,this.clockRange=a(e.clockRange,i.UNBOUNDED),this.canAnimate=a(e.canAnimate,!0),this.onTick=new l,this._currentTime=void 0,this._multiplier=void 0,this._clockStep=void 0,this._shouldAnimate=void 0,this._lastSystemTime=c(),this.currentTime=t,this.multiplier=a(e.multiplier,1),this.clockStep=a(e.clockStep,o.SYSTEM_CLOCK_MULTIPLIER),this.shouldAnimate=a(e.shouldAnimate,!0)}var i=r(82),o=r(83),a=r(3),s=r(1),u=r(2),l=r(33),c=r(76),h=r(21);Object.defineProperties(n.prototype,{currentTime:{get:function(){return this._currentTime},set:function(e){h.equals(this._currentTime,e)||(this._clockStep===o.SYSTEM_CLOCK&&(this._clockStep=o.SYSTEM_CLOCK_MULTIPLIER),this._currentTime=e)}},multiplier:{get:function(){return this._multiplier},set:function(e){this._multiplier!==e&&(this._clockStep===o.SYSTEM_CLOCK&&(this._clockStep=o.SYSTEM_CLOCK_MULTIPLIER),this._multiplier=e)}},clockStep:{get:function(){return this._clockStep},set:function(e){e===o.SYSTEM_CLOCK&&(this._multiplier=1,this._shouldAnimate=!0,this._currentTime=h.now()),this._clockStep=e}},shouldAnimate:{get:function(){return this._shouldAnimate},set:function(e){this._shouldAnimate!==e&&(this._clockStep===o.SYSTEM_CLOCK&&(this._clockStep=o.SYSTEM_CLOCK_MULTIPLIER),this._shouldAnimate=e)}}}),n.prototype.tick=function(){var e=c(),t=h.clone(this._currentTime);if(this.canAnimate&&this._shouldAnimate){var r=this._clockStep;if(r===o.SYSTEM_CLOCK)t=h.now(t);else{var n=this._multiplier;if(r===o.TICK_DEPENDENT)t=h.addSeconds(t,n,t);else{var a=e-this._lastSystemTime;t=h.addSeconds(t,n*(a/1e3),t)}var s=this.clockRange,u=this.startTime,l=this.stopTime;if(s===i.CLAMPED)h.lessThan(t,u)?t=h.clone(u,t):h.greaterThan(t,l)&&(t=h.clone(l,t));else if(s===i.LOOP_STOP)for(h.lessThan(t,u)&&(t=h.clone(u,t));h.greaterThan(t,l);)t=h.addSeconds(u,h.secondsDifference(t,l),t)}}return this._currentTime=t,this._lastSystemTime=e,this.onTick.raiseEvent(this),t},e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n){e=a(e,1),t=a(t,1),r=a(r,1),n=a(n,1),this.value=new Uint8Array([i.floatToByte(e),i.floatToByte(t),i.floatToByte(r),i.floatToByte(n)])}var i=r(31),o=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),a=r(3),s=r(1),u=r(2);Object.defineProperties(n.prototype,{componentDatatype:{get:function(){return o.UNSIGNED_BYTE}},componentsPerAttribute:{get:function(){return 4}},normalize:{get:function(){return!0}}}),n.fromColor=function(e){if(!s(e))throw new u("color is required.");return new n(e.red,e.green,e.blue,e.alpha)},n.toValue=function(e,t){if(!s(e))throw new u("color is required.");return s(t)?e.toBytes(t):new Uint8Array(e.toBytes())},n.equals=function(e,t){return e===t||s(e)&&s(t)&&e.value[0]===t.value[0]&&e.value[1]===t.value[1]&&e.value[2]===t.value[2]&&e.value[3]===t.value[3]},e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n,i,o){var a=e.normals,s=e.tangents,u=e.binormals,l=d.normalize(d.cross(r,t,D),D);o.normal&&w.addAttribute(a,t,n,i),o.binormal&&w.addAttribute(u,r,n,i),o.tangent&&w.addAttribute(s,l,n,i)}function i(e,t,r){var i,o,a,s=e.positions,u=e.corners,l=e.endPositions,c=e.lefts,h=e.normals,f=new x,p=0,g=0,v=0;for(o=0;o<s.length;o+=2)a=s[o].length-3,p+=a,v+=2*a,g+=s[o+1].length-3;for(p+=3,g+=3,o=0;o<u.length;o++){i=u[o];var _=u[o].leftPositions;y(_)?(a=_.length,p+=a,v+=a):(a=u[o].rightPositions.length,g+=a,v+=a)}var E,b=y(l);b&&(E=l[0].length-3,p+=E,g+=E,E/=3,v+=6*E);var O,I,R,P,L,k,U=p+g,B=new Float64Array(U),j=t.normal?new Float32Array(U):void 0,G=t.tangent?new Float32Array(U):void 0,H=t.binormal?new Float32Array(U):void 0,V={normals:j,tangents:G,binormals:H},W=0,Y=U-1,X=C,Q=M,Z=E/2,K=A.createTypedArray(U/3,v),J=0;if(b){k=N,L=q;var $=l[0];for(X=d.fromArray(h,0,X),Q=d.fromArray(c,0,Q),o=0;o<Z;o++)k=d.fromArray($,3*(Z-1-o),k),L=d.fromArray($,3*(Z+o),L),w.addAttribute(B,L,W),w.addAttribute(B,k,void 0,Y),n(V,X,Q,W,Y,t),I=W/3,P=I+1,O=(Y-2)/3,R=O-1,K[J++]=O,K[J++]=I,K[J++]=R,K[J++]=R,K[J++]=I,K[J++]=P,W+=3,Y-=3}var ee=0,te=0,re=s[ee++],ne=s[ee++];B.set(re,W),B.set(ne,Y-ne.length+1),Q=d.fromArray(c,te,Q);var ie,oe;for(a=ne.length-3,o=0;o<a;o+=3)ie=r.geodeticSurfaceNormal(d.fromArray(re,o,D),D),oe=r.geodeticSurfaceNormal(d.fromArray(ne,a-o,z),z),X=d.normalize(d.add(ie,oe,X),X),n(V,X,Q,W,Y,t),I=W/3,P=I+1,O=(Y-2)/3,R=O-1,K[J++]=O,K[J++]=I,K[J++]=R,K[J++]=R,K[J++]=I,K[J++]=P,W+=3,Y-=3;for(ie=r.geodeticSurfaceNormal(d.fromArray(re,a,D),D),oe=r.geodeticSurfaceNormal(d.fromArray(ne,a,z),z),X=d.normalize(d.add(ie,oe,X),X),te+=3,o=0;o<u.length;o++){var ae;i=u[o];var se,ue,le=i.leftPositions,ce=i.rightPositions,he=F,fe=N,de=q;if(X=d.fromArray(h,te,X),y(le)){for(n(V,X,Q,void 0,Y,t),Y-=3,se=P,ue=R,ae=0;ae<le.length/3;ae++)he=d.fromArray(le,3*ae,he),K[J++]=se,K[J++]=ue-ae-1,K[J++]=ue-ae,w.addAttribute(B,he,void 0,Y),fe=d.fromArray(B,3*(ue-ae-1),fe),de=d.fromArray(B,3*se,de),Q=d.normalize(d.subtract(fe,de,Q),Q),n(V,X,Q,void 0,Y,t),Y-=3;he=d.fromArray(B,3*se,he),fe=d.subtract(d.fromArray(B,3*ue,fe),he,fe),de=d.subtract(d.fromArray(B,3*(ue-ae),de),he,de),Q=d.normalize(d.add(fe,de,Q),Q),n(V,X,Q,W,void 0,t),W+=3}else{for(n(V,X,Q,W,void 0,t),W+=3,se=R,ue=P,ae=0;ae<ce.length/3;ae++)he=d.fromArray(ce,3*ae,he),K[J++]=se,K[J++]=ue+ae,K[J++]=ue+ae+1,w.addAttribute(B,he,W),fe=d.fromArray(B,3*se,fe),de=d.fromArray(B,3*(ue+ae),de),Q=d.normalize(d.subtract(fe,de,Q),Q),n(V,X,Q,W,void 0,t),W+=3;he=d.fromArray(B,3*se,he),fe=d.subtract(d.fromArray(B,3*(ue+ae),fe),he,fe),de=d.subtract(d.fromArray(B,3*ue,de),he,de),Q=d.normalize(d.negate(d.add(de,fe,Q),Q),Q),n(V,X,Q,void 0,Y,t),Y-=3}for(re=s[ee++],ne=s[ee++],re.splice(0,3),ne.splice(ne.length-3,3),B.set(re,W),B.set(ne,Y-ne.length+1),a=ne.length-3,te+=3,Q=d.fromArray(c,te,Q),ae=0;ae<ne.length;ae+=3)ie=r.geodeticSurfaceNormal(d.fromArray(re,ae,D),D),oe=r.geodeticSurfaceNormal(d.fromArray(ne,a-ae,z),z),X=d.normalize(d.add(ie,oe,X),X),n(V,X,Q,W,Y,t),P=W/3,I=P-1,R=(Y-2)/3,O=R+1,K[J++]=O,K[J++]=I,K[J++]=R,K[J++]=R,K[J++]=I,K[J++]=P,W+=3,Y-=3;W-=3,Y+=3}if(X=d.fromArray(h,h.length-3,X),n(V,X,Q,W,Y,t),b){W+=3,Y-=3,k=N,L=q;var pe=l[1];for(o=0;o<Z;o++)k=d.fromArray(pe,3*(E-o-1),k),L=d.fromArray(pe,3*o,L),w.addAttribute(B,k,void 0,Y),w.addAttribute(B,L,W),n(V,X,Q,W,Y,t),P=W/3,I=P-1,R=(Y-2)/3,O=R+1,K[J++]=O,K[J++]=I,K[J++]=R,K[J++]=R,K[J++]=I,K[J++]=P,W+=3,Y-=3}if(f.position=new T({componentDatatype:m.DOUBLE,componentsPerAttribute:3,values:B}),t.st){var me,ge,we=new Float32Array(U/3*2),ve=0;if(b){p/=3,g/=3;var ye=Math.PI/(E+1);ge=1/(p-E+1),me=1/(g-E+1);var _e,Ee=E/2;for(o=Ee+1;o<E+1;o++)_e=S.PI_OVER_TWO+ye*o,we[ve++]=me*(1+Math.cos(_e)),we[ve++]=.5*(1+Math.sin(_e));for(o=1;o<g-E+1;o++)we[ve++]=o*me,we[ve++]=0;for(o=E;o>Ee;o--)_e=S.PI_OVER_TWO-o*ye,we[ve++]=1-me*(1+Math.cos(_e)),we[ve++]=.5*(1+Math.sin(_e));for(o=Ee;o>0;o--)_e=S.PI_OVER_TWO-ye*o,we[ve++]=1-ge*(1+Math.cos(_e)),we[ve++]=.5*(1+Math.sin(_e));for(o=p-E;o>0;o--)we[ve++]=o*ge,we[ve++]=1;for(o=1;o<Ee+1;o++)_e=S.PI_OVER_TWO+ye*o,we[ve++]=ge*(1+Math.cos(_e)),we[ve++]=.5*(1+Math.sin(_e))}else{for(p/=3,g/=3,ge=1/(p-1),me=1/(g-1),o=0;o<g;o++)we[ve++]=o*me,we[ve++]=0;for(o=p;o>0;o--)we[ve++]=(o-1)*ge,we[ve++]=1}f.st=new T({componentDatatype:m.FLOAT,componentsPerAttribute:2,values:we})}return t.normal&&(f.normal=new T({componentDatatype:m.FLOAT,componentsPerAttribute:3,values:V.normals})),t.tangent&&(f.tangent=new T({componentDatatype:m.FLOAT,componentsPerAttribute:3,values:V.tangents})),t.binormal&&(f.binormal=new T({componentDatatype:m.FLOAT,componentsPerAttribute:3,values:V.binormals})),{attributes:f,indices:K}}function o(e,t){if(!(t.normal||t.binormal||t.tangent||t.st))return e;var r,n,i=e.position.values;(t.normal||t.binormal)&&(r=e.normal.values,n=e.binormal.values);var o,a=e.position.values.length/18,s=3*a,u=2*a,l=2*s;if(t.normal||t.binormal||t.tangent){var c=t.normal?new Float32Array(6*s):void 0,h=t.binormal?new Float32Array(6*s):void 0,f=t.tangent?new Float32Array(6*s):void 0,p=C,m=M,g=N,v=q,y=L,_=F,E=l;for(o=0;o<s;o+=3){var b=E+l;p=d.fromArray(i,o,p),m=d.fromArray(i,o+s,m),g=d.fromArray(i,(o+3)%s,g),m=d.subtract(m,p,m),g=d.subtract(g,p,g),v=d.normalize(d.cross(m,g,v),v),t.normal&&(w.addAttribute(c,v,b),w.addAttribute(c,v,b+3),w.addAttribute(c,v,E),w.addAttribute(c,v,E+3)),(t.tangent||t.binormal)&&(_=d.fromArray(r,o,_),t.binormal&&(w.addAttribute(h,_,b),w.addAttribute(h,_,b+3),w.addAttribute(h,_,E),w.addAttribute(h,_,E+3)),t.tangent&&(y=d.normalize(d.cross(_,v,y),y),w.addAttribute(f,y,b),w.addAttribute(f,y,b+3),w.addAttribute(f,y,E),w.addAttribute(f,y,E+3))),E+=6}if(t.normal){for(c.set(r),o=0;o<s;o+=3)c[o+s]=-r[o],c[o+s+1]=-r[o+1],c[o+s+2]=-r[o+2];e.normal.values=c}else e.normal=void 0;if(t.binormal?(h.set(n),h.set(n,s),e.binormal.values=h):e.binormal=void 0,t.tangent){var T=e.tangent.values;f.set(T),f.set(T,s),e.tangent.values=f}}if(t.st){var x=e.st.values,A=new Float32Array(6*u);A.set(x),A.set(x,u);for(var S=2*u,O=0;O<2;O++){for(A[S++]=x[0],A[S++]=x[1],o=2;o<u;o+=2){var I=x[o],R=x[o+1];A[S++]=I,A[S++]=R,A[S++]=I,A[S++]=R}A[S++]=x[0],A[S++]=x[1]}e.st.values=A}return e}function a(e,t,r){r[t++]=e[0],r[t++]=e[1],r[t++]=e[2];for(var n=3;n<e.length;n+=3){var i=e[n],o=e[n+1],a=e[n+2];r[t++]=i,r[t++]=o,r[t++]=a,r[t++]=i,r[t++]=o,r[t++]=a}return r[t++]=e[0],r[t++]=e[1],r[t++]=e[2],r}function s(e,t){var r=new P({position:t.positon,normal:t.normal||t.binormal,tangent:t.tangent,binormal:t.normal||t.binormal,st:t.st}),n=e.ellipsoid,s=w.computePositions(e),u=i(s,r,n),l=e.height,c=e.extrudedHeight,h=u.attributes,f=u.indices,d=h.position.values,p=d.length,m=new Float64Array(6*p),g=new Float64Array(p);g.set(d);var v=new Float64Array(4*p);d=O.scaleToGeodeticHeight(d,l,n),v=a(d,0,v),g=O.scaleToGeodeticHeight(g,c,n),v=a(g,2*p,v),m.set(d),m.set(g,p),m.set(v,2*p),h.position.values=m,p/=3;var y,_=f.length,E=p+p,b=A.createTypedArray(m.length/3,2*_+3*E);b.set(f);var T=_;for(y=0;y<_;y+=3){var x=f[y],S=f[y+1],I=f[y+2];b[T++]=I+p,b[T++]=S+p,b[T++]=x+p}h=o(h,t);var R,C,M,N;for(y=0;y<E;y+=2)R=y+E,C=R+E,M=R+1,N=C+1,b[T++]=R,b[T++]=C,b[T++]=M,b[T++]=M,b[T++]=C,b[T++]=N;return{attributes:h,indices:b}}function u(e,t,r,n,i,o){var a=d.subtract(t,e,k);d.normalize(a,a);var s=r.geodeticSurfaceNormal(e,U),u=d.cross(a,s,k);d.multiplyByScalar(u,n,u);var l=i.latitude,c=i.longitude,h=o.latitude,f=o.longitude;d.add(e,u,U),r.cartesianToCartographic(U,B);var p=B.latitude,m=B.longitude;l=Math.min(l,p),c=Math.min(c,m),h=Math.max(h,p),f=Math.max(f,m),d.subtract(e,u,U),r.cartesianToCartographic(U,B),p=B.latitude,m=B.longitude,l=Math.min(l,p),c=Math.min(c,m),h=Math.max(h,p),f=Math.max(f,m),i.latitude=l,i.longitude=c,o.latitude=h,o.longitude=f}function l(e,t,r,n){var i=h(e,d.equalsEpsilon),o=i.length;if(o<2||r<=0)return new R;var a=.5*r;H.latitude=Number.POSITIVE_INFINITY,H.longitude=Number.POSITIVE_INFINITY,V.latitude=Number.NEGATIVE_INFINITY,V.longitude=Number.NEGATIVE_INFINITY;var s,l;if(n===g.ROUNDED){var c=i[0];d.subtract(c,i[1],j),d.normalize(j,j),d.multiplyByScalar(j,a,j),d.add(c,j,G),t.cartesianToCartographic(G,B),s=B.latitude,l=B.longitude,H.latitude=Math.min(H.latitude,s),H.longitude=Math.min(H.longitude,l),V.latitude=Math.max(V.latitude,s),V.longitude=Math.max(V.longitude,l)}for(var f=0;f<o-1;++f)u(i[f],i[f+1],t,a,H,V);var p=i[o-1];d.subtract(p,i[o-2],j),d.normalize(j,j),d.multiplyByScalar(j,a,j),d.add(p,j,G),u(p,G,t,a,H,V),n===g.ROUNDED&&(t.cartesianToCartographic(G,B),s=B.latitude,l=B.longitude,H.latitude=Math.min(H.latitude,s),H.longitude=Math.min(H.longitude,l),V.latitude=Math.max(V.latitude,s),V.longitude=Math.max(V.longitude,l));var m=new R;return m.north=V.latitude,m.south=H.latitude,m.east=V.longitude,m.west=H.longitude,m}function c(e){e=v(e,v.EMPTY_OBJECT);var t=e.positions,r=e.width;if(!y(t))throw new _("options.positions is required.");if(!y(r))throw new _("options.width is required.");this._positions=t,this._ellipsoid=E.clone(v(e.ellipsoid,E.WGS84)),this._vertexFormat=P.clone(v(e.vertexFormat,P.DEFAULT)),this._width=r,this._height=v(e.height,0),this._extrudedHeight=v(e.extrudedHeight,this._height),this._cornerType=v(e.cornerType,g.ROUNDED),this._granularity=v(e.granularity,S.RADIANS_PER_DEGREE),this._workerName="createCorridorGeometry",this._rectangle=l(t,this._ellipsoid,r,this._cornerType),this.packedLength=1+t.length*d.packedLength+E.packedLength+P.packedLength+R.packedLength+5}var h=r(29),f=r(7),d=r(4),p=r(15),m=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),g=r(26),w=r(84),v=r(3),y=r(1),_=r(2),E=r(6),b=r(10),T=r(11),x=r(13),A=r(14),S=r(5),O=r(23),I=r(12),R=r(16),P=r(20),C=new d,M=new d,N=new d,q=new d,L=new d,F=new d,D=new d,z=new d,k=new d,U=new d,B=new p,j=new d,G=new d,H=new p,V=new p;c.pack=function(e,t,r){if(!y(e))throw new _("value is required");if(!y(t))throw new _("array is required");r=v(r,0);var n=e._positions,i=n.length;t[r++]=i;for(var o=0;o<i;++o,r+=d.packedLength)d.pack(n[o],t,r);return E.pack(e._ellipsoid,t,r),r+=E.packedLength,P.pack(e._vertexFormat,t,r),r+=P.packedLength,R.pack(e._rectangle,t,r),r+=R.packedLength,t[r++]=e._width,t[r++]=e._height,t[r++]=e._extrudedHeight,t[r++]=e._cornerType,t[r]=e._granularity,t};var W=E.clone(E.UNIT_SPHERE),Y=new P,X=new R,Q={positions:void 0,ellipsoid:W,vertexFormat:Y,width:void 0,height:void 0,extrudedHeight:void 0,cornerType:void 0,granularity:void 0};c.unpack=function(e,t,r){if(!y(e))throw new _("array is required");t=v(t,0);for(var n=e[t++],i=new Array(n),o=0;o<n;++o,t+=d.packedLength)i[o]=d.unpack(e,t);var a=E.unpack(e,t,W);t+=E.packedLength;var s=P.unpack(e,t,Y);t+=P.packedLength;var u=R.unpack(e,t,X);t+=R.packedLength;var l=e[t++],h=e[t++],f=e[t++],p=e[t++],m=e[t];return y(r)?(r._positions=i,r._ellipsoid=E.clone(a,r._ellipsoid),r._vertexFormat=P.clone(s,r._vertexFormat),r._width=l,r._height=h,r._extrudedHeight=f,r._cornerType=p,r._granularity=m,r._rectangle=R.clone(u),r):(Q.positions=i,Q.width=l,Q.height=h,Q.extrudedHeight=f,Q.cornerType=p,Q.granularity=m,new c(Q))},c.createGeometry=function(e){var t=e._positions,r=e._height,n=e._width,o=e._extrudedHeight,a=r!==o,u=h(t,d.equalsEpsilon);if(!(u.length<2||n<=0)){var l,c=e._ellipsoid,p=e._vertexFormat,m={ellipsoid:c,positions:u,width:n,cornerType:e._cornerType,granularity:e._granularity,saveAttributes:!0};if(a){var g=Math.max(r,o);o=Math.min(r,o),r=g,m.height=r,m.extrudedHeight=o,l=s(m,p)}else{var v=w.computePositions(m);l=i(v,p,c),l.attributes.position.values=O.scaleToGeodeticHeight(l.attributes.position.values,r,c)}var y=l.attributes,_=f.fromVertices(y.position.values,void 0,3);return p.position||(l.attributes.position.values=void 0),new b({attributes:y,indices:l.indices,primitiveType:I.TRIANGLES,boundingSphere:_})}},c.createShadowVolume=function(e,t,r){var n=e._granularity,i=e._ellipsoid,o=t(n,i),a=r(n,i);return new c({positions:e._positions,width:e._width,cornerType:e._cornerType,ellipsoid:i,granularity:n,extrudedHeight:o,height:a,vertexFormat:P.POSITION_ONLY})},Object.defineProperties(c.prototype,{rectangle:{get:function(){return this._rectangle}}}),e.exports=c},function(e,t,r){"use strict";function n(e,t){var r,n,i,o=[],a=e.positions,s=e.corners,f=e.endPositions,p=new v,m=0,g=0,_=0;for(n=0;n<a.length;n+=2)i=a[n].length-3,m+=i,_+=i/3*4,g+=a[n+1].length-3;for(m+=3,g+=3,n=0;n<s.length;n++){r=s[n];var E=s[n].leftPositions;d(E)?(i=E.length,m+=i,_+=i/3*2):(i=s[n].rightPositions.length,g+=i,_+=i/3*2)}var b,S=d(f);S&&(b=f[0].length-3,m+=b,g+=b,b/=3,_+=4*b);var O,I,R,P,C,M,N=m+g,q=new Float64Array(N),L=0,F=N-1,D=b/2,z=y.createTypedArray(N/3,_+4),k=0;if(z[k++]=L/3,z[k++]=(F-2)/3,S){o.push(L/3),M=T,C=x;var U=f[0];for(n=0;n<D;n++)M=u.fromArray(U,3*(D-1-n),M),C=u.fromArray(U,3*(D+n),C),h.addAttribute(q,C,L),h.addAttribute(q,M,void 0,F),I=L/3,P=I+1,O=(F-2)/3,R=O-1,z[k++]=O,z[k++]=R,z[k++]=I,z[k++]=P,L+=3,F-=3}var B=0,j=a[B++],G=a[B++];for(q.set(j,L),q.set(G,F-G.length+1),i=G.length-3,o.push(L/3,(F-2)/3),n=0;n<i;n+=3)I=L/3,P=I+1,O=(F-2)/3,R=O-1,z[k++]=O,z[k++]=R,z[k++]=I,z[k++]=P,L+=3,F-=3;for(n=0;n<s.length;n++){var H;r=s[n];var V,W=r.leftPositions,Y=r.rightPositions,X=A;if(d(W)){for(F-=3,V=R,o.push(P),H=0;H<W.length/3;H++)X=u.fromArray(W,3*H,X),z[k++]=V-H-1,z[k++]=V-H,h.addAttribute(q,X,void 0,F),F-=3;o.push(V-Math.floor(W.length/6)),t===c.BEVELED&&o.push((F-2)/3+1),L+=3}else{for(L+=3,V=P,o.push(R),H=0;H<Y.length/3;H++)X=u.fromArray(Y,3*H,X),z[k++]=V+H,z[k++]=V+H+1,h.addAttribute(q,X,L),L+=3;o.push(V+Math.floor(Y.length/6)),t===c.BEVELED&&o.push(L/3-1),F-=3}for(j=a[B++],G=a[B++],j.splice(0,3),G.splice(G.length-3,3),q.set(j,L),q.set(G,F-G.length+1),i=G.length-3,H=0;H<G.length;H+=3)P=L/3,I=P-1,R=(F-2)/3,O=R+1,z[k++]=O,z[k++]=R,z[k++]=I,z[k++]=P,L+=3,F-=3;L-=3,F+=3,o.push(L/3,(F-2)/3)}if(S){L+=3,F-=3,M=T,C=x;var Q=f[1];for(n=0;n<D;n++)M=u.fromArray(Q,3*(b-n-1),M),C=u.fromArray(Q,3*n,C),
h.addAttribute(q,M,void 0,F),h.addAttribute(q,C,L),P=L/3,I=P-1,R=(F-2)/3,O=R+1,z[k++]=O,z[k++]=R,z[k++]=I,z[k++]=P,L+=3,F-=3;o.push(L/3)}else o.push(L/3,(F-2)/3);return z[k++]=L/3,z[k++]=(F-2)/3,p.position=new w({componentDatatype:l.DOUBLE,componentsPerAttribute:3,values:q}),{attributes:p,indices:z,wallIndices:o}}function i(e){var t=e.ellipsoid,r=h.computePositions(e),i=n(r,e.cornerType),o=i.wallIndices,a=e.height,s=e.extrudedHeight,u=i.attributes,l=i.indices,c=u.position.values,f=c.length,d=new Float64Array(f);d.set(c);var p=new Float64Array(2*f);c=E.scaleToGeodeticHeight(c,a,t),d=E.scaleToGeodeticHeight(d,s,t),p.set(c),p.set(d,f),u.position.values=p,f/=3;var m,g=l.length,w=y.createTypedArray(p.length/3,2*(g+o.length));w.set(l);var v=g;for(m=0;m<g;m+=2){var _=l[m],b=l[m+1];w[v++]=_+f,w[v++]=b+f}var T,x;for(m=0;m<o.length;m++)T=o[m],x=T+f,w[v++]=T,w[v++]=x;return{attributes:u,indices:w}}function o(e){e=f(e,f.EMPTY_OBJECT);var t=e.positions,r=e.width;if(!d(t))throw new p("options.positions is required.");if(!d(r))throw new p("options.width is required.");this._positions=t,this._ellipsoid=m.clone(f(e.ellipsoid,m.WGS84)),this._width=r,this._height=f(e.height,0),this._extrudedHeight=f(e.extrudedHeight,this._height),this._cornerType=f(e.cornerType,c.ROUNDED),this._granularity=f(e.granularity,_.RADIANS_PER_DEGREE),this._workerName="createCorridorOutlineGeometry",this.packedLength=1+t.length*u.packedLength+m.packedLength+5}var a=r(29),s=r(7),u=r(4),l=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),c=r(26),h=r(84),f=r(3),d=r(1),p=r(2),m=r(6),g=r(10),w=r(11),v=r(13),y=r(14),_=r(5),E=r(23),b=r(12),T=new u,x=new u,A=new u;o.pack=function(e,t,r){if(!d(e))throw new p("value is required");if(!d(t))throw new p("array is required");r=f(r,0);var n=e._positions,i=n.length;t[r++]=i;for(var o=0;o<i;++o,r+=u.packedLength)u.pack(n[o],t,r);return m.pack(e._ellipsoid,t,r),r+=m.packedLength,t[r++]=e._width,t[r++]=e._height,t[r++]=e._extrudedHeight,t[r++]=e._cornerType,t[r]=e._granularity,t};var S=m.clone(m.UNIT_SPHERE),O={positions:void 0,ellipsoid:S,width:void 0,height:void 0,extrudedHeight:void 0,cornerType:void 0,granularity:void 0};o.unpack=function(e,t,r){if(!d(e))throw new p("array is required");t=f(t,0);for(var n=e[t++],i=new Array(n),a=0;a<n;++a,t+=u.packedLength)i[a]=u.unpack(e,t);var s=m.unpack(e,t,S);t+=m.packedLength;var l=e[t++],c=e[t++],h=e[t++],g=e[t++],w=e[t];return d(r)?(r._positions=i,r._ellipsoid=m.clone(s,r._ellipsoid),r._width=l,r._height=c,r._extrudedHeight=h,r._cornerType=g,r._granularity=w,r):(O.positions=i,O.width=l,O.height=c,O.extrudedHeight=h,O.cornerType=g,O.granularity=w,new o(O))},o.createGeometry=function(e){var t=e._positions,r=e._height,o=e._width,l=e._extrudedHeight,c=r!==l,f=a(t,u.equalsEpsilon);if(!(f.length<2||o<=0)){var d,p=e._ellipsoid,m={ellipsoid:p,positions:f,width:o,cornerType:e._cornerType,granularity:e._granularity,saveAttributes:!1};if(c){var w=Math.max(r,l);l=Math.min(r,l),r=w,m.height=r,m.extrudedHeight=l,d=i(m)}else{var v=h.computePositions(m);d=n(v,m.cornerType),d.attributes.position.values=E.scaleToGeodeticHeight(d.attributes.position.values,r,p)}var y=d.attributes,_=s.fromVertices(y.position.values,void 0,3);return new g({attributes:y,indices:d.indices,primitiveType:b.LINES,boundingSphere:_})}},e.exports=o},function(e,t,r){"use strict";function n(e){e=l(e,l.EMPTY_OBJECT);var t=e.length,r=e.topRadius,n=e.bottomRadius,i=l(e.vertexFormat,v.DEFAULT),o=l(e.slices,128);if(!c(t))throw new h("options.length must be defined.");if(!c(r))throw new h("options.topRadius must be defined.");if(!c(n))throw new h("options.bottomRadius must be defined.");if(o<3)throw new h("options.slices must be greater than or equal to 3.");this._length=t,this._topRadius=r,this._bottomRadius=n,this._vertexFormat=v.clone(i),this._slices=o,this._workerName="createCylinderGeometry"}var i=r(7),o=r(9),a=r(4),s=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),u=r(86),l=r(3),c=r(1),h=r(2),f=r(10),d=r(11),p=r(13),m=r(14),g=r(5),w=r(12),v=r(20),y=new o,_=new a,E=new a,b=new a,T=new a;n.packedLength=v.packedLength+4,n.pack=function(e,t,r){if(!c(e))throw new h("value is required");if(!c(t))throw new h("array is required");return r=l(r,0),v.pack(e._vertexFormat,t,r),r+=v.packedLength,t[r++]=e._length,t[r++]=e._topRadius,t[r++]=e._bottomRadius,t[r]=e._slices,t};var x=new v,A={vertexFormat:x,length:void 0,topRadius:void 0,bottomRadius:void 0,slices:void 0};n.unpack=function(e,t,r){if(!c(e))throw new h("array is required");t=l(t,0);var i=v.unpack(e,t,x);t+=v.packedLength;var o=e[t++],a=e[t++],s=e[t++],u=e[t];return c(r)?(r._vertexFormat=v.clone(i,r._vertexFormat),r._length=o,r._topRadius=a,r._bottomRadius=s,r._slices=u,r):(A.length=o,A.topRadius=a,A.bottomRadius=s,A.slices=u,new n(A))},n.createGeometry=function(e){var t=e._length,r=e._topRadius,n=e._bottomRadius,l=e._vertexFormat,c=e._slices;if(!(t<=0||r<0||n<0||0===r&&0===n)){var h,v=c+c,x=c+v,A=v+v,S=u.computePositions(t,r,n,c,!0),O=l.st?new Float32Array(2*A):void 0,I=l.normal?new Float32Array(3*A):void 0,R=l.tangent?new Float32Array(3*A):void 0,P=l.binormal?new Float32Array(3*A):void 0,C=l.normal||l.tangent||l.binormal;if(C){var M=l.tangent||l.binormal,N=0,q=0,L=0,F=_;F.z=0;var D=b,z=E;for(h=0;h<c;h++){var k=h/c*g.TWO_PI,U=Math.cos(k),B=Math.sin(k);C&&(F.x=U,F.y=B,M&&(D=a.normalize(a.cross(a.UNIT_Z,F,D),D)),l.normal&&(I[N++]=U,I[N++]=B,I[N++]=0,I[N++]=U,I[N++]=B,I[N++]=0),l.tangent&&(R[q++]=D.x,R[q++]=D.y,R[q++]=D.z,R[q++]=D.x,R[q++]=D.y,R[q++]=D.z),l.binormal&&(z=a.normalize(a.cross(F,D,z),z),P[L++]=z.x,P[L++]=z.y,P[L++]=z.z,P[L++]=z.x,P[L++]=z.y,P[L++]=z.z))}for(h=0;h<c;h++)l.normal&&(I[N++]=0,I[N++]=0,I[N++]=-1),l.tangent&&(R[q++]=1,R[q++]=0,R[q++]=0),l.binormal&&(P[L++]=0,P[L++]=-1,P[L++]=0);for(h=0;h<c;h++)l.normal&&(I[N++]=0,I[N++]=0,I[N++]=1),l.tangent&&(R[q++]=1,R[q++]=0,R[q++]=0),l.binormal&&(P[L++]=0,P[L++]=1,P[L++]=0)}var j=12*c-12,G=m.createTypedArray(A,j),H=0,V=0;for(h=0;h<c-1;h++)G[H++]=V,G[H++]=V+2,G[H++]=V+3,G[H++]=V,G[H++]=V+3,G[H++]=V+1,V+=2;for(G[H++]=v-2,G[H++]=0,G[H++]=1,G[H++]=v-2,G[H++]=1,G[H++]=v-1,h=1;h<c-1;h++)G[H++]=v+h+1,G[H++]=v+h,G[H++]=v;for(h=1;h<c-1;h++)G[H++]=x,G[H++]=x+h,G[H++]=x+h+1;var W=0;if(l.st){var Y=Math.max(r,n);for(h=0;h<A;h++){var X=a.fromArray(S,3*h,T);O[W++]=(X.x+Y)/(2*Y),O[W++]=(X.y+Y)/(2*Y)}}var Q=new p;l.position&&(Q.position=new d({componentDatatype:s.DOUBLE,componentsPerAttribute:3,values:S})),l.normal&&(Q.normal=new d({componentDatatype:s.FLOAT,componentsPerAttribute:3,values:I})),l.tangent&&(Q.tangent=new d({componentDatatype:s.FLOAT,componentsPerAttribute:3,values:R})),l.binormal&&(Q.binormal=new d({componentDatatype:s.FLOAT,componentsPerAttribute:3,values:P})),l.st&&(Q.st=new d({componentDatatype:s.FLOAT,componentsPerAttribute:2,values:O})),y.x=.5*t,y.y=Math.max(n,r);var Z=new i(a.ZERO,o.magnitude(y));return new f({attributes:Q,indices:G,primitiveType:w.TRIANGLES,boundingSphere:Z})}},e.exports=n},function(e,t,r){"use strict";function n(e){e=l(e,l.EMPTY_OBJECT);var t=e.length,r=e.topRadius,n=e.bottomRadius,i=l(e.slices,128),o=Math.max(l(e.numberOfVerticalLines,16),0);if(!c(t))throw new h("options.length must be defined.");if(!c(r))throw new h("options.topRadius must be defined.");if(!c(n))throw new h("options.bottomRadius must be defined.");if(i<3)throw new h("options.slices must be greater than or equal to 3.");this._length=t,this._topRadius=r,this._bottomRadius=n,this._slices=i,this._numberOfVerticalLines=o,this._workerName="createCylinderOutlineGeometry"}var i=r(7),o=r(9),a=r(4),s=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),u=r(86),l=r(3),c=r(1),h=r(2),f=r(10),d=r(11),p=r(13),m=r(14),g=r(12),w=new o;n.packedLength=5,n.pack=function(e,t,r){if(!c(e))throw new h("value is required");if(!c(t))throw new h("array is required");return r=l(r,0),t[r++]=e._length,t[r++]=e._topRadius,t[r++]=e._bottomRadius,t[r++]=e._slices,t[r]=e._numberOfVerticalLines,t};var v={length:void 0,topRadius:void 0,bottomRadius:void 0,slices:void 0,numberOfVerticalLines:void 0};n.unpack=function(e,t,r){if(!c(e))throw new h("array is required");t=l(t,0);var i=e[t++],o=e[t++],a=e[t++],s=e[t++],u=e[t];return c(r)?(r._length=i,r._topRadius=o,r._bottomRadius=a,r._slices=s,r._numberOfVerticalLines=u,r):(v.length=i,v.topRadius=o,v.bottomRadius=a,v.slices=s,v.numberOfVerticalLines=u,new n(v))},n.createGeometry=function(e){var t=e._length,r=e._topRadius,n=e._bottomRadius,l=e._slices,c=e._numberOfVerticalLines;if(!(t<=0||r<0||n<0||0===r&&0===n)){var h,v=2*l,y=u.computePositions(t,r,n,l,!1),_=2*l;if(c>0){var E=Math.min(c,l);h=Math.round(l/E),_+=E}for(var b=m.createTypedArray(v,2*_),T=0,x=0;x<l-1;x++)b[T++]=x,b[T++]=x+1,b[T++]=x+l,b[T++]=x+1+l;if(b[T++]=l-1,b[T++]=0,b[T++]=l+l-1,b[T++]=l,c>0)for(x=0;x<l;x+=h)b[T++]=x,b[T++]=x+l;var A=new p;A.position=new d({componentDatatype:s.DOUBLE,componentsPerAttribute:3,values:y}),w.x=.5*t,w.y=Math.max(n,r);var S=new i(a.ZERO,o.magnitude(w));return new f({attributes:A,indices:b,primitiveType:g.LINES,boundingSphere:S})}},e.exports=n},function(e,t){"use strict";function r(e){this.proxy=e}r.prototype.getURL=function(e){var t=this.proxy.indexOf("?")===-1?"?":"";return this.proxy+t+encodeURIComponent(e)},e.exports=r},function(e,t,r){"use strict";function n(e,t){e=i(e,0),this._near=e,t=i(t,Number.MAX_VALUE),this._far=t}var i=r(3),o=r(1);Object.defineProperties(n.prototype,{near:{get:function(){return this._near},set:function(e){this._near=e}},far:{get:function(){return this._far},set:function(e){this._far=e}}}),n.equals=function(e,t){return e===t||o(e)&&o(t)&&e.near===t.near&&e.far===t.far},n.clone=function(e,t){if(o(e))return o(t)||(t=new n),t.near=e.near,t.far=e.far,t},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},e.exports=n},function(e,t,r){"use strict";function n(e,t){if(e=o(e,0),t=o(t,Number.MAX_VALUE),t<=e)throw new s("far distance must be greater than near distance.");this.value=new Float32Array([e,t])}var i=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),o=r(3),a=r(1),s=r(2);Object.defineProperties(n.prototype,{componentDatatype:{get:function(){return i.FLOAT}},componentsPerAttribute:{get:function(){return 2}},normalize:{get:function(){return!1}}}),n.fromDistanceDisplayCondition=function(e){if(!a(e))throw new s("distanceDisplayCondition is required.");if(e.far<=e.near)throw new s("distanceDisplayCondition.far distance must be greater than distanceDisplayCondition.near distance.");return new n(e.near,e.far)},n.toValue=function(e,t){if(!a(e))throw new s("distanceDisplayCondition is required.");return a(t)?(t[0]=e.near,t[1]=e.far,t):new Float32Array([e.near,e.far])},e.exports=n},function(e,t,r){"use strict";function n(e){if(e=c(e,c.EMPTY_OBJECT),this._dates=void 0,this._samples=void 0,this._dateColumn=-1,this._xPoleWanderRadiansColumn=-1,this._yPoleWanderRadiansColumn=-1,this._ut1MinusUtcSecondsColumn=-1,this._xCelestialPoleOffsetRadiansColumn=-1,this._yCelestialPoleOffsetRadiansColumn=-1,this._taiMinusUtcSecondsColumn=-1,this._columnCount=0,this._lastIndex=-1,this._downloadPromise=void 0,this._dataError=void 0,this._addNewLeapSeconds=c(e.addNewLeapSeconds,!0),h(e.data))o(this,e.data);else if(h(e.url)){var t=this;this._downloadPromise=when(m(e.url),function(e){o(t,e)},function(){t._dataError="An error occurred while retrieving the EOP data from the URL "+e.url+"."})}else o(this,{columnNames:["dateIso8601","modifiedJulianDateUtc","xPoleWanderRadians","yPoleWanderRadians","ut1MinusUtcSeconds","lengthOfDayCorrectionSeconds","xCelestialPoleOffsetRadians","yCelestialPoleOffsetRadians","taiMinusUtcSeconds"],samples:[]})}function i(e,t){return d.compare(e.julianDate,t)}function o(e,t){if(!h(t.columnNames))return void(e._dataError="Error in loaded EOP data: The columnNames property is required.");if(!h(t.samples))return void(e._dataError="Error in loaded EOP data: The samples property is required.");var r=t.columnNames.indexOf("modifiedJulianDateUtc"),n=t.columnNames.indexOf("xPoleWanderRadians"),o=t.columnNames.indexOf("yPoleWanderRadians"),a=t.columnNames.indexOf("ut1MinusUtcSeconds"),s=t.columnNames.indexOf("xCelestialPoleOffsetRadians"),u=t.columnNames.indexOf("yCelestialPoleOffsetRadians"),c=t.columnNames.indexOf("taiMinusUtcSeconds");if(r<0||n<0||o<0||a<0||s<0||u<0||c<0)return void(e._dataError="Error in loaded EOP data: The columnNames property must include modifiedJulianDateUtc, xPoleWanderRadians, yPoleWanderRadians, ut1MinusUtcSeconds, xCelestialPoleOffsetRadians, yCelestialPoleOffsetRadians, and taiMinusUtcSeconds columns");var f=e._samples=t.samples,m=e._dates=[];e._dateColumn=r,e._xPoleWanderRadiansColumn=n,e._yPoleWanderRadiansColumn=o,e._ut1MinusUtcSecondsColumn=a,e._xCelestialPoleOffsetRadiansColumn=s,e._yCelestialPoleOffsetRadiansColumn=u,e._taiMinusUtcSecondsColumn=c,e._columnCount=t.columnNames.length,e._lastIndex=void 0;for(var g,y=e._addNewLeapSeconds,_=0,E=f.length;_<E;_+=e._columnCount){var b=f[_+r],T=f[_+c],x=b+w.MODIFIED_JULIAN_DATE_DIFFERENCE,A=new d(x,T,v.TAI);if(m.push(A),y){if(T!==g&&h(g)){var S=d.leapSeconds,O=l(S,A,i);if(O<0){var I=new p(A,T);S.splice(~O,0,I)}}g=T}}}function a(e,t,r,n,i){var o=r*n;i.xPoleWander=t[o+e._xPoleWanderRadiansColumn],i.yPoleWander=t[o+e._yPoleWanderRadiansColumn],i.xPoleOffset=t[o+e._xCelestialPoleOffsetRadiansColumn],i.yPoleOffset=t[o+e._yCelestialPoleOffsetRadiansColumn],i.ut1MinusUtc=t[o+e._ut1MinusUtcSecondsColumn]}function s(e,t,r){return t+e*(r-t)}function u(e,t,r,n,i,o,u){var l=e._columnCount;if(o>t.length-1)return u.xPoleWander=0,u.yPoleWander=0,u.xPoleOffset=0,u.yPoleOffset=0,u.ut1MinusUtc=0,u;var c=t[i],h=t[o];if(c.equals(h)||n.equals(c))return a(e,r,i,l,u),u;if(n.equals(h))return a(e,r,o,l,u),u;var f=d.secondsDifference(n,c)/d.secondsDifference(h,c),p=i*l,m=o*l,g=r[p+e._ut1MinusUtcSecondsColumn],w=r[m+e._ut1MinusUtcSecondsColumn],v=w-g;if(v>.5||v<-.5){var y=r[p+e._taiMinusUtcSecondsColumn],_=r[m+e._taiMinusUtcSecondsColumn];y!==_&&(h.equals(n)?g=w:w-=_-y)}return u.xPoleWander=s(f,r[p+e._xPoleWanderRadiansColumn],r[m+e._xPoleWanderRadiansColumn]),u.yPoleWander=s(f,r[p+e._yPoleWanderRadiansColumn],r[m+e._yPoleWanderRadiansColumn]),u.xPoleOffset=s(f,r[p+e._xCelestialPoleOffsetRadiansColumn],r[m+e._xCelestialPoleOffsetRadiansColumn]),u.yPoleOffset=s(f,r[p+e._yCelestialPoleOffsetRadiansColumn],r[m+e._yCelestialPoleOffsetRadiansColumn]),u.ut1MinusUtc=s(f,g,w),u}var l=(r(18),r(54)),c=r(3),h=r(1),f=r(87),d=r(21),p=r(61),m=r(77),g=r(41),w=r(44),v=r(45);n.NONE=Object.freeze({getPromiseToLoad:function(){return when()},compute:function(e,t){return h(t)?(t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0):t=new f(0,0,0,0,0),t}}),n.prototype.getPromiseToLoad=function(){return when(this._downloadPromise)},n.prototype.compute=function(e,t){if(h(this._samples)){if(h(t)||(t=new f(0,0,0,0,0)),0===this._samples.length)return t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0,t;var r=this._dates,n=this._lastIndex,i=0,o=0;if(h(n)){var a=r[n],s=r[n+1],c=d.lessThanOrEquals(a,e),p=!h(s),m=p||d.greaterThanOrEquals(s,e);if(c&&m)return i=n,!p&&s.equals(e)&&++i,o=i+1,u(this,r,this._samples,e,i,o,t),t}var w=l(r,e,d.compare,this._dateColumn);return w>=0?(w<r.length-1&&r[w+1].equals(e)&&++w,i=w,o=w):(o=~w,i=o-1,i<0&&(i=0)),this._lastIndex=i,u(this,r,this._samples,e,i,o,t),t}if(h(this._dataError))throw new g(this._dataError)},e.exports=n},function(e,t,r){"use strict";var n=r(228),i={LINEAR_NONE:n.Easing.Linear.None,QUADRACTIC_IN:n.Easing.Quadratic.In,QUADRACTIC_OUT:n.Easing.Quadratic.Out,QUADRACTIC_IN_OUT:n.Easing.Quadratic.InOut,CUBIC_IN:n.Easing.Cubic.In,CUBIC_OUT:n.Easing.Cubic.Out,CUBIC_IN_OUT:n.Easing.Cubic.InOut,QUARTIC_IN:n.Easing.Quartic.In,QUARTIC_OUT:n.Easing.Quartic.Out,QUARTIC_IN_OUT:n.Easing.Quartic.InOut,QUINTIC_IN:n.Easing.Quintic.In,QUINTIC_OUT:n.Easing.Quintic.Out,QUINTIC_IN_OUT:n.Easing.Quintic.InOut,SINUSOIDAL_IN:n.Easing.Sinusoidal.In,SINUSOIDAL_OUT:n.Easing.Sinusoidal.Out,SINUSOIDAL_IN_OUT:n.Easing.Sinusoidal.InOut,EXPONENTIAL_IN:n.Easing.Exponential.In,EXPONENTIAL_OUT:n.Easing.Exponential.Out,EXPONENTIAL_IN_OUT:n.Easing.Exponential.InOut,CIRCULAR_IN:n.Easing.Circular.In,CIRCULAR_OUT:n.Easing.Circular.Out,CIRCULAR_IN_OUT:n.Easing.Circular.InOut,ELASTIC_IN:n.Easing.Elastic.In,ELASTIC_OUT:n.Easing.Elastic.Out,ELASTIC_IN_OUT:n.Easing.Elastic.InOut,BACK_IN:n.Easing.Back.In,BACK_OUT:n.Easing.Back.Out,BACK_IN_OUT:n.Easing.Back.InOut,BOUNCE_IN:n.Easing.Bounce.In,BOUNCE_OUT:n.Easing.Bounce.Out,BOUNCE_IN_OUT:n.Easing.Bounce.InOut};e.exports=Object.freeze(i)},function(e,t,r){"use strict";function n(e){e=o(e,{}),this._tilingScheme=e.tilingScheme,a(this._tilingScheme)||(this._tilingScheme=new l({ellipsoid:o(e.ellipsoid,s.WGS84)})),this._levelZeroMaximumGeometricError=h.getEstimatedLevelZeroGeometricErrorForAHeightmap(this._tilingScheme.ellipsoid,64,this._tilingScheme.getNumberOfXTilesAtLevel(0)),this._errorEvent=new u,this._readyPromise=i.resolve(!0)}var i=r(18),o=r(3),a=r(1),s=r(6),u=r(33),l=r(37),c=r(51),h=r(43);Object.defineProperties(n.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){}},tilingScheme:{get:function(){return this._tilingScheme}},ready:{get:function(){return!0}},readyPromise:{get:function(){return this._readyPromise}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}}}),n.prototype.requestTileGeometry=function(e,t,r,n){var i=16,o=16;return new c({buffer:new Uint8Array(i*o),width:i,height:o})},n.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},n.prototype.getTileDataAvailable=function(e,t,r){},e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!c(e))throw new h("ellipsoid is required.");this._ellipsoid=e,this._cameraPosition=new u,this._cameraPositionInScaledSpace=new u,this._distanceToLimbInScaledSpaceSquared=0,c(t)&&(this.cameraPosition=t)}function i(e,t,r){var n=e.transformPositionToScaledSpace(t,g),i=u.magnitudeSquared(n),o=Math.sqrt(i),a=u.divideByScalar(n,o,w);i=Math.max(1,i),o=Math.max(1,o);var s=u.dot(a,r),l=u.magnitude(u.cross(a,r,a)),c=1/o,h=Math.sqrt(i-1)*c;return 1/(s*c-l*h)}function o(e,t,r){if(!(t<=0||t===1/0||t!==t))return u.multiplyByScalar(e,t,r)}function a(e,t){return u.equals(t,u.ZERO)?t:(e.transformPositionToScaledSpace(t,v),u.normalize(v,v))}var s=r(7),u=r(4),l=r(3),c=r(1),h=r(2),f=r(16);Object.defineProperties(n.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},cameraPosition:{get:function(){return this._cameraPosition},set:function(e){var t=this._ellipsoid,r=t.transformPositionToScaledSpace(e,this._cameraPositionInScaledSpace),n=u.magnitudeSquared(r)-1;u.clone(e,this._cameraPosition),this._cameraPositionInScaledSpace=r,this._distanceToLimbInScaledSpaceSquared=n}}});var d=new u;n.prototype.isPointVisible=function(e){var t=this._ellipsoid,r=t.transformPositionToScaledSpace(e,d);return this.isScaledSpacePointVisible(r)},n.prototype.isScaledSpacePointVisible=function(e){var t=this._cameraPositionInScaledSpace,r=this._distanceToLimbInScaledSpaceSquared,n=u.subtract(e,t,d),i=-u.dot(n,t),o=r<0?i>0:i>r&&i*i/u.magnitudeSquared(n)>r;return!o},n.prototype.computeHorizonCullingPoint=function(e,t,r){if(!c(e))throw new h("directionToPoint is required");if(!c(t))throw new h("positions is required");c(r)||(r=new u);for(var n=this._ellipsoid,s=a(n,e),l=0,f=0,d=t.length;f<d;++f){var p=t[f],m=i(n,p,s);l=Math.max(l,m)}return o(s,l,r)};var p=new u;n.prototype.computeHorizonCullingPointFromVertices=function(e,t,r,n,s){if(!c(e))throw new h("directionToPoint is required");if(!c(t))throw new h("vertices is required");if(!c(r))throw new h("stride is required");c(s)||(s=new u),n=l(n,u.ZERO);for(var f=this._ellipsoid,d=a(f,e),m=0,g=0,w=t.length;g<w;g+=r){p.x=t[g]+n.x,p.y=t[g+1]+n.y,p.z=t[g+2]+n.z;var v=i(f,p,d);m=Math.max(m,v)}return o(d,m,s)};var m=[];n.prototype.computeHorizonCullingPointFromRectangle=function(e,t,r){if(!c(e))throw new h("rectangle is required.");var n=f.subsample(e,t,0,m),i=s.fromPoints(n);if(!(u.magnitude(i.center)<.1*t.minimumRadius))return this.computeHorizonCullingPoint(i.center,n,r)};var g=new u,w=new u,v=new u;e.exports=n},function(e,t,r){"use strict";function n(){this.high=i.clone(i.ZERO),this.low=i.clone(i.ZERO)}var i=r(4),o=r(1),a=r(2);n.encode=function(e,t){if(!o(e))throw new a("value is required");o(t)||(t={high:0,low:0});var r;return e>=0?(r=65536*Math.floor(e/65536),t.high=r,t.low=e-r):(r=65536*Math.floor(-e/65536),t.high=-r,t.low=e+r),t};var s={high:0,low:0};n.fromCartesian=function(e,t){if(!o(e))throw new a("cartesian is required");o(t)||(t=new n);var r=t.high,i=t.low;return n.encode(e.x,s),r.x=s.high,i.x=s.low,n.encode(e.y,s),r.y=s.high,i.y=s.low,n.encode(e.z,s),r.z=s.high,i.z=s.low,t};var u=new n;n.writeElements=function(e,t,r){if(!o(e))throw new a("cartesian is required");if(!o(t))throw new a("cartesianArray is required");if("number"!=typeof r||r<0)throw new a("index must be a number greater than or equal to 0.");n.fromCartesian(e,u);var i=u.high,s=u.low;t[r]=i.x,t[r+1]=i.y,t[r+2]=i.z,t[r+3]=s.x,t[r+4]=s.y,t[r+5]=s.z},e.exports=n},function(e,t,r){"use strict";function n(){this._removalFunctions=[]}var i=r(1),o=r(2);n.prototype.add=function(e,t,r){if(!i(e))throw new o("event is required");var n=e.addEventListener(t,r);this._removalFunctions.push(n);var a=this;return function(){n();var e=a._removalFunctions;e.splice(e.indexOf(n),1)}},n.prototype.removeAll=function(){for(var e=this._removalFunctions,t=0,r=e.length;t<r;++t)e[t]();e.length=0},e.exports=n},function(e,t){"use strict";var r={NONE:0,HOLD:1,EXTRAPOLATE:2};e.exports=Object.freeze(r)},function(e,t,r){"use strict";function n(e){if(e=i(e,i.EMPTY_OBJECT),!o(e.componentDatatype))throw new a("options.componentDatatype is required.");if(!o(e.componentsPerAttribute))throw new a("options.componentsPerAttribute is required.");if(e.componentsPerAttribute<1||e.componentsPerAttribute>4)throw new a("options.componentsPerAttribute must be between 1 and 4.");if(!o(e.value))throw new a("options.value is required.");this.componentDatatype=e.componentDatatype,this.componentsPerAttribute=e.componentsPerAttribute,this.normalize=i(e.normalize,!1),this.value=e.value}var i=r(3),o=r(1),a=r(2);e.exports=n},function(e,t,r){"use strict";function n(e,t,r){this.heading=i(e,0),this.pitch=i(t,0),this.range=i(r,0)}var i=r(3),o=r(1);n.clone=function(e,t){if(o(e))return o(t)||(t=new n),t.heading=e.heading,t.pitch=e.pitch,t.range=e.range,t},e.exports=n},function(e,t,r){"use strict";var n=r(58),i=r(7),o=r(9),a=r(4),s=r(3),u=r(1),l=r(2),c=r(6),h=r(147),f=r(5),d=r(19),p=r(63),m=r(16),g=r(68),w=r(46),v=r(72),y={};y.DEFAULT_STRUCTURE=Object.freeze({heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1});var _=new a,E=new d,b=new a,T=new a;y.computeVertices=function(e){if(!u(e)||!u(e.heightmap))throw new l("options.heightmap is required.");if(!u(e.width)||!u(e.height))throw new l("options.width and options.height are required.");if(!u(e.nativeRectangle))throw new l("options.nativeRectangle is required.");if(!u(e.skirtHeight))throw new l("options.skirtHeight is required.");var t,r,x,A,S=Math.cos,O=Math.sin,I=Math.sqrt,R=Math.atan,P=Math.exp,C=f.PI_OVER_TWO,M=f.toRadians,N=e.heightmap,q=e.width,L=e.height,F=e.skirtHeight,D=s(e.isGeographic,!0),z=s(e.ellipsoid,c.WGS84),k=1/z.maximumRadius,U=e.nativeRectangle,B=e.rectangle;u(B)?(t=B.west,r=B.south,x=B.east,A=B.north):D?(t=M(U.west),r=M(U.south),x=M(U.east),A=M(U.north)):(t=U.west*k,r=C-2*R(P(-U.south*k)),x=U.east*k,A=C-2*R(P(-U.north*k)));var j=e.relativeToCenter,G=u(j);j=G?j:a.ZERO;var H,V,W=s(e.exaggeration,1),Y=s(e.includeWebMercatorT,!1),X=s(e.structure,y.DEFAULT_STRUCTURE),Q=s(X.heightScale,y.DEFAULT_STRUCTURE.heightScale),Z=s(X.heightOffset,y.DEFAULT_STRUCTURE.heightOffset),K=s(X.elementsPerHeight,y.DEFAULT_STRUCTURE.elementsPerHeight),J=s(X.stride,y.DEFAULT_STRUCTURE.stride),$=s(X.elementMultiplier,y.DEFAULT_STRUCTURE.elementMultiplier),ee=s(X.isBigEndian,y.DEFAULT_STRUCTURE.isBigEndian),te=m.computeWidth(U)/(q-1),re=m.computeHeight(U)/(L-1),ne=z.radiiSquared,ie=ne.x,oe=ne.y,ae=ne.z,se=65536,ue=-65536,le=w.eastNorthUpToFixedFrame(j,z),ce=d.inverseTransformation(le,E);Y&&(H=v.geodeticLatitudeToMercatorAngle(r),V=1/(v.geodeticLatitudeToMercatorAngle(A)-H));var he=b;he.x=Number.POSITIVE_INFINITY,he.y=Number.POSITIVE_INFINITY,he.z=Number.POSITIVE_INFINITY;var fe=T;fe.x=Number.NEGATIVE_INFINITY,fe.y=Number.NEGATIVE_INFINITY,fe.z=Number.NEGATIVE_INFINITY;var de=Number.POSITIVE_INFINITY,pe=q+(F>0?2:0),me=L+(F>0?2:0),ge=pe*me,we=new Array(ge),ve=new Array(ge),ye=new Array(ge),_e=Y?new Array(ge):[],Ee=0,be=L,Te=0,xe=q;F>0&&(--Ee,++be,--Te,++xe);for(var Ae=0,Se=Ee;Se<be;++Se){var Oe=Se;Oe<0&&(Oe=0),Oe>=L&&(Oe=L-1);var Ie=U.north-re*Oe;Ie=D?M(Ie):C-2*R(P(-Ie*k));var Re=S(Ie),Pe=O(Ie),Ce=ae*Pe,Me=(Ie-r)/(A-r);Me=f.clamp(Me,0,1);var Ne;Y&&(Ne=(v.geodeticLatitudeToMercatorAngle(Ie)-H)*V);for(var qe=Te;qe<xe;++qe){var Le=qe;Le<0&&(Le=0),Le>=q&&(Le=q-1);var Fe=U.west+te*Le;D?Fe=M(Fe):Fe*=k;var De,ze=Oe*(q*J)+Le*J;if(1===K)De=N[ze];else{De=0;var ke;if(ee)for(ke=0;ke<K;++ke)De=De*$+N[ze+ke];else for(ke=K-1;ke>=0;--ke)De=De*$+N[ze+ke]}De=(De*Q+Z)*W,ue=Math.max(ue,De),se=Math.min(se,De),qe===Le&&Se===Oe||(De-=F);var Ue=Re*S(Fe),Be=Re*O(Fe),je=ie*Ue,Ge=oe*Be,He=I(je*Ue+Ge*Be+Ce*Pe),Ve=1/He,We=je*Ve,Ye=Ge*Ve,Xe=Ce*Ve,Qe=new a;Qe.x=We+Ue*De,Qe.y=Ye+Be*De,Qe.z=Xe+Pe*De,we[Ae]=Qe,ve[Ae]=De;var Ze=(Fe-t)/(x-t);Ze=f.clamp(Ze,0,1),ye[Ae]=new o(Ze,Me),Y&&(_e[Ae]=Ne),Ae++,d.multiplyByPoint(ce,Qe,_),a.minimumByComponent(_,he,he),a.maximumByComponent(_,fe,fe),de=Math.min(de,De)}}var Ke,Je=i.fromPoints(we);u(B)&&B.width<f.PI_OVER_TWO+f.EPSILON5&&(Ke=p.fromRectangle(B,se,ue,z));var $e;if(G){var et=new h(z);$e=et.computeHorizonCullingPoint(j,we)}for(var tt=new n(he,fe,j),rt=new g(tt,de,ue,le,!1,Y),nt=new Float32Array(ge*rt.getStride()),it=0,ot=0;ot<ge;++ot)it=rt.encode(nt,it,we[ot],ye[ot],ve[ot],void 0,_e[ot]);return{vertices:nt,maximumHeight:ue,minimumHeight:se,encoding:rt,boundingSphere3D:Je,orientedBoundingBox:Ke,occludeePointInScaledSpace:$e}},e.exports=y},function(e,t,r){"use strict";function n(e,t,r,i,o,a){var s,u,l,c=0;if(i>0){for(u=0;u<o;u++){for(s=!1,l=0;l<a.length&&!s;l++)u===a[l]&&(s=!0);s||(a.push(u),c+=n(e,t,r,i-1,o,a),a.splice(a.length-1,1))}return c}for(c=1,u=0;u<o;u++){for(s=!1,l=0;l<a.length&&!s;l++)u===a[l]&&(s=!0);s||(c*=e-r[t[u]])}return c}function i(e,t,r,n,i,o){for(var a,s,l=-1,c=t.length,h=c*(c+1)/2,f=0;f<i;f++){var d=Math.floor(f*h);for(a=0;a<c;a++)s=t[a]*i*(o+1)+f,e[d+a]=n[s];for(var p=1;p<c;p++){var m=0,g=Math.floor(p*(1-p)/2)+c*p,w=!1;for(a=0;a<c-p;a++){var v,y,_=r[t[a]],E=r[t[a+p]];if(E-_<=0)s=t[a]*i*(o+1)+i*p+f,v=n[s],y=v/u.factorial(p),e[d+g+m]=y,m++;else{var b=Math.floor((p-1)*(2-p)/2)+c*(p-1);v=e[d+b+a+1]-e[d+b+a],y=v/(E-_),e[d+g+m]=y,m++}w=w||0!==v}w&&(l=Math.max(l,p))}}return l}var o=r(3),a=r(1),s=r(2),u=r(5),l=u.factorial,c={type:"Hermite"};c.getRequiredDataPoints=function(e,t){if(t=o(t,0),!a(e))throw new s("degree is required.");if(e<0)throw new s("degree must be 0 or greater.");if(t<0)throw new s("inputOrder must be 0 or greater.");return Math.max(Math.floor((e+1)/(t+1)),2)},c.interpolateOrderZero=function(e,t,r,i,o){a(o)||(o=new Array(i));var s,u,c,h,f,d,p=t.length,m=new Array(i);for(s=0;s<i;s++){o[s]=0;var g=new Array(p);for(m[s]=g,u=0;u<p;u++)g[u]=[]}var w=p,v=new Array(w);for(s=0;s<w;s++)v[s]=s;var y=p-1;for(h=0;h<i;h++){for(u=0;u<w;u++)d=v[u]*i+h,m[h][0].push(r[d]);for(s=1;s<w;s++){var _=!1;for(u=0;u<w-s;u++){var E,b=t[v[u]],T=t[v[u+s]];T-b<=0?(d=v[u]*i+i*s+h,E=r[d],m[h][s].push(E/l(s))):(E=m[h][s-1][u+1]-m[h][s-1][u],m[h][s].push(E/(T-b))),_=_||0!==E}_||(y=s-1)}}for(c=0,f=0;c<=f;c++)for(s=c;s<=y;s++){var x=n(e,v,t,c,s,[]);for(h=0;h<i;h++){var A=m[h][s][0];o[h+c*i]+=A*x}}return o};var h=[];c.interpolate=function(e,t,r,o,s,u,l){var c=o*(u+1);a(l)||(l=new Array(c));for(var f=0;f<c;f++)l[f]=0;for(var d=t.length,p=new Array(d*(s+1)),m=0;m<d;m++)for(var g=0;g<s+1;g++)p[m*(s+1)+g]=m;for(var w=p.length,v=h,y=i(v,p,t,r,o,s),_=[],E=w*(w+1)/2,b=Math.min(y,u),T=0;T<=b;T++)for(m=T;m<=y;m++){_.length=0;for(var x=n(e,p,t,T,m,_),A=Math.floor(m*(1-m)/2)+w*m,S=0;S<o;S++){var O=Math.floor(S*E),I=v[O+A];l[S+T*o]+=I*x}}return l},e.exports=c},function(e,t,r){"use strict";var n=r(1),i=r(157),o=r(21),a=r(5),s=r(44),u={},l=32.184,c=2451545,h=-.0529921,f=-.1059842,d=13.0120009,p=13.3407154,m=.9856003,g=26.4057084,w=13.064993,v=.3287146,y=1.7484877,_=-.1589763,E=.0036096,b=.1643573,T=12.9590088,x=new o;u.ComputeMoon=function(e,t){n(e)||(e=o.now()),x=o.addSeconds(e,l,x);var r=o.totalDays(x)-c,u=r/s.DAYS_PER_JULIAN_CENTURY,A=(125.045+h*r)*a.RADIANS_PER_DEGREE,S=(250.089+f*r)*a.RADIANS_PER_DEGREE,O=(260.008+d*r)*a.RADIANS_PER_DEGREE,I=(176.625+p*r)*a.RADIANS_PER_DEGREE,R=(357.529+m*r)*a.RADIANS_PER_DEGREE,P=(311.589+g*r)*a.RADIANS_PER_DEGREE,C=(134.963+w*r)*a.RADIANS_PER_DEGREE,M=(276.617+v*r)*a.RADIANS_PER_DEGREE,N=(34.226+y*r)*a.RADIANS_PER_DEGREE,q=(15.134+_*r)*a.RADIANS_PER_DEGREE,L=(119.743+E*r)*a.RADIANS_PER_DEGREE,F=(239.961+b*r)*a.RADIANS_PER_DEGREE,D=(25.053+T*r)*a.RADIANS_PER_DEGREE,z=Math.sin(A),k=Math.sin(S),U=Math.sin(O),B=Math.sin(I),j=Math.sin(R),G=Math.sin(P),H=Math.sin(C),V=Math.sin(M),W=Math.sin(N),Y=Math.sin(q),X=Math.sin(L),Q=Math.sin(F),Z=Math.sin(D),K=Math.cos(A),J=Math.cos(S),$=Math.cos(O),ee=Math.cos(I),te=Math.cos(R),re=Math.cos(P),ne=Math.cos(C),ie=Math.cos(M),oe=Math.cos(N),ae=Math.cos(q),se=Math.cos(L),ue=Math.cos(F),le=Math.cos(D),ce=(269.9949+.0031*u-3.8787*z-.1204*k+.07*U-.0172*B+.0072*G-.0052*Y+.0043*Z)*a.RADIANS_PER_DEGREE,he=(66.5392+.013*u+1.5419*K+.0239*J-.0278*$+.0068*ee-.0029*re+9e-4*ne+8e-4*ae-9e-4*le)*a.RADIANS_PER_DEGREE,fe=(38.3213+13.17635815*r-1.4e-12*r*r+3.561*z+.1208*k-.0642*U+.0158*B+.0252*j-.0066*G-.0047*H-.0046*V+.0028*W+.0052*Y+.004*X+.0019*Q-.0044*Z)*a.RADIANS_PER_DEGREE,de=(13.17635815-1.4e-12*(2*r)+3.561*K*h+.1208*J*f-.0642*$*d+.0158*ee*p+.0252*te*m-.0066*re*g-.0047*ne*w-.0046*ie*v+.0028*oe*y+.0052*ae*_+.004*se*E+.0019*ue*b-.0044*le*T)/86400*a.RADIANS_PER_DEGREE;return n(t)||(t=new i),t.rightAscension=ce,t.declination=he,t.rotation=fe,t.rotationRate=de,t},e.exports=u},function(e,t,r){"use strict";function n(e){e=u(e,u.EMPTY_OBJECT),this._xysFileUrlTemplate=e.xysFileUrlTemplate,this._interpolationOrder=u(e.interpolationOrder,9),this._sampleZeroJulianEphemerisDate=u(e.sampleZeroJulianEphemerisDate,2442396.5),this._sampleZeroDateTT=new h(this._sampleZeroJulianEphemerisDate,0,d.TAI),this._stepSizeDays=u(e.stepSizeDays,1),this._samplesPerXysFile=u(e.samplesPerXysFile,1e3),this._totalSamples=u(e.totalSamples,27426),this._samples=new Array(3*this._totalSamples),this._chunkDownloadsInProgress=[];for(var t=this._interpolationOrder,r=this._denominators=new Array(t+1),n=this._xTable=new Array(t+1),i=Math.pow(this._stepSizeDays,t),o=0;o<=t;++o){r[o]=i,n[o]=o*this._stepSizeDays;for(var a=0;a<=t;++a)a!==o&&(r[o]*=o-a);r[o]=1/r[o]}this._work=new Array(t+1),this._coef=new Array(t+1)}function i(e,t,r){var n=p;return n.dayNumber=t,n.secondsOfDay=r,h.daysDifference(n,e._sampleZeroDateTT)}function o(e,t){if(e._chunkDownloadsInProgress[t])return e._chunkDownloadsInProgress[t];var r=a.defer();e._chunkDownloadsInProgress[t]=r;var n,i=e._xysFileUrlTemplate;return n=l(i)?i.replace("{0}",t):s("Assets/IAU2006_XYS/IAU2006_XYS_"+t+".json"),when(f(n),function(n){e._chunkDownloadsInProgress[t]=!1;for(var i=e._samples,o=n.samples,a=t*e._samplesPerXysFile*3,s=0,u=o.length;s<u;++s)i[a+s]=o[s];r.resolve()}),r.promise}var a=r(18),s=r(55),u=r(3),l=r(1),c=r(98),h=r(21),f=r(77),d=r(45),p=new h(0,0,d.TAI);n.prototype.preload=function(e,t,r,n){var s=i(this,e,t),u=i(this,r,n),l=s/this._stepSizeDays-this._interpolationOrder/2|0;l<0&&(l=0);var c=u/this._stepSizeDays-this._interpolationOrder/2|0+this._interpolationOrder;
c>=this._totalSamples&&(c=this._totalSamples-1);for(var h=l/this._samplesPerXysFile|0,f=c/this._samplesPerXysFile|0,d=[],p=h;p<=f;++p)d.push(o(this,p));return a.all(d)},n.prototype.computeXysRadians=function(e,t,r){var n=i(this,e,t);if(!(n<0)){var a=n/this._stepSizeDays|0;if(!(a>=this._totalSamples)){var s=this._interpolationOrder,u=a-(s/2|0);u<0&&(u=0);var h=u+s;h>=this._totalSamples&&(h=this._totalSamples-1,u=h-s,u<0&&(u=0));var f=!1,d=this._samples;if(l(d[3*u])||(o(this,u/this._samplesPerXysFile|0),f=!0),l(d[3*h])||(o(this,h/this._samplesPerXysFile|0),f=!0),!f){l(r)?(r.x=0,r.y=0,r.s=0):r=new c(0,0,0);var p,m,g=n-u*this._stepSizeDays,w=this._work,v=this._denominators,y=this._coef,_=this._xTable;for(p=0;p<=s;++p)w[p]=g-_[p];for(p=0;p<=s;++p){for(y[p]=1,m=0;m<=s;++m)m!==p&&(y[p]*=w[m]);y[p]*=v[p];var E=3*(u+p);r.x+=y[p]*d[E++],r.y+=y[p]*d[E++],r.s+=y[p]*d[E]}return r}}}},e.exports=n},function(e,t){"use strict";function r(e,t,r,n){this.rightAscension=e,this.declination=t,this.rotation=r,this.rotationRate=n}e.exports=r},function(e,t,r){"use strict";var n=r(2),i={};i.type=void 0,i.getRequiredDataPoints=n.throwInstantiationError,i.interpolateOrderZero=n.throwInstantiationError,i.interpolate=n.throwInstantiationError,e.exports=i},function(e,t,r){"use strict";var n=r(1),i={type:"Lagrange"};i.getRequiredDataPoints=function(e){return Math.max(e+1,2)},i.interpolateOrderZero=function(e,t,r,i,o){n(o)||(o=new Array(i));var a,s,u=t.length;for(a=0;a<i;a++)o[a]=0;for(a=0;a<u;a++){var l=1;for(s=0;s<u;s++)if(s!==a){var c=t[a]-t[s];l*=(e-t[s])/c}for(s=0;s<i;s++)o[s]+=l*r[a*i+s]}return o},e.exports=i},function(e,t,r){"use strict";var n=r(1),i=r(2),o={type:"Linear"};o.getRequiredDataPoints=function(e){return 2},o.interpolateOrderZero=function(e,t,r,o,a){if(2!==t.length)throw new i("The xTable provided to the linear interpolator must have exactly two elements.");if(o<=0)throw new i("There must be at least 1 dependent variable for each independent variable.");n(a)||(a=new Array(o));var s,u,l,c=t[0],h=t[1];if(c===h)throw new i("Divide by zero error: xTable[0] and xTable[1] are equal");for(s=0;s<o;s++)u=r[s],l=r[s+o],a[s]=((l-u)*e+h*u-c*l)/(h-c);return a},e.exports=o},function(e,t,r){"use strict";function n(){i.throwInstantiationError()}var i=r(2);Object.defineProperties(n.prototype,{ellipsoid:{get:i.throwInstantiationError}}),n.prototype.project=i.throwInstantiationError,n.prototype.unproject=i.throwInstantiationError,e.exports=n},function(e,t,r){"use strict";var n=r(1),i=r(36),o={};o.defaultAccessToken=void 0;var a,s=!1,u="This application is using Cesium's default Mapbox access token.  Please create a new access token for the application as soon as possible and prior to deployment by visiting https://www.mapbox.com/account/apps/, and provide your token to Cesium by setting the Cesium.MapboxApi.defaultAccessToken property before constructing the CesiumWidget or any other object that uses the Mapbox API.";o.getAccessToken=function(e){return n(e)?e:n(o.defaultAccessToken)?o.defaultAccessToken:(s||(console.log(u),s=!0),"pk.eyJ1IjoiYW5hbHl0aWNhbGdyYXBoaWNzIiwiYSI6ImNpd204Zm4wejAwNzYyeW5uNjYyZmFwdWEifQ.7i-VIZZWX8pd1bTfxIVj9g")},o.getErrorCredit=function(e){if(!n(e)&&!n(o.defaultAccessToken))return n(a)||(a=new i(u)),a},e.exports=o},function(e,t,r){"use strict";function n(e,t,r,n){this.near=i(e,0),this.nearValue=i(t,0),this.far=i(r,1),this.farValue=i(n,0)}var i=r(3),o=r(1),a=r(2);n.clone=function(e,t){if(o(e))return o(t)?(t.near=e.near,t.nearValue=e.nearValue,t.far=e.far,t.farValue=e.farValue,t):new n(e.near,e.nearValue,e.far,e.farValue)},n.packedLength=4,n.pack=function(e,t,r){if(!o(e))throw new a("value is required");if(!o(t))throw new a("array is required");return r=i(r,0),t[r++]=e.near,t[r++]=e.nearValue,t[r++]=e.far,t[r]=e.farValue,t},n.unpack=function(e,t,r){if(!o(e))throw new a("array is required");return t=i(t,0),o(r)||(r=new n),r.near=e[t++],r.nearValue=e[t++],r.far=e[t++],r.farValue=e[t],r},n.equals=function(e,t){return e===t||o(e)&&o(t)&&e.near===t.near&&e.nearValue===t.nearValue&&e.far===t.far&&e.farValue===t.farValue},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!s(e))throw new u("occluderBoundingSphere is required.");if(!s(t))throw new u("camera position is required.");this._occluderPosition=o.clone(e.center),this._occluderRadius=e.radius,this._horizonDistance=0,this._horizonPlaneNormal=void 0,this._horizonPlanePosition=void 0,this._cameraPosition=void 0,this.cameraPosition=t}var i=r(7),o=r(4),a=r(3),s=r(1),u=r(2),l=r(6),c=r(5),h=r(16),f=r(111),d=new o;Object.defineProperties(n.prototype,{position:{get:function(){return this._occluderPosition}},radius:{get:function(){return this._occluderRadius}},cameraPosition:{set:function(e){if(!s(e))throw new u("cameraPosition is required.");e=o.clone(e,this._cameraPosition);var t,r,n,i=o.subtract(this._occluderPosition,e,d),a=o.magnitudeSquared(i),l=this._occluderRadius*this._occluderRadius;if(a>l){t=Math.sqrt(a-l),a=1/Math.sqrt(a),r=o.multiplyByScalar(i,a,d);var c=t*t*a;n=o.add(e,o.multiplyByScalar(r,c,d),d)}else t=Number.MAX_VALUE;this._horizonDistance=t,this._horizonPlaneNormal=r,this._horizonPlanePosition=n,this._cameraPosition=e}}}),n.fromBoundingSphere=function(e,t,r){if(!s(e))throw new u("occluderBoundingSphere is required.");if(!s(t))throw new u("camera position is required.");return s(r)?(o.clone(e.center,r._occluderPosition),r._occluderRadius=e.radius,r.cameraPosition=t,r):new n(e,t)};var p=new o;n.prototype.isPointVisible=function(e){if(this._horizonDistance!==Number.MAX_VALUE){var t=o.subtract(e,this._occluderPosition,p),r=this._occluderRadius;if(r=o.magnitudeSquared(t)-r*r,r>0)return r=Math.sqrt(r)+this._horizonDistance,t=o.subtract(e,this._cameraPosition,t),r*r>o.magnitudeSquared(t)}return!1};var m=new o;n.prototype.isBoundingSphereVisible=function(e){var t=o.clone(e.center,m),r=e.radius;if(this._horizonDistance!==Number.MAX_VALUE){var n=o.subtract(t,this._occluderPosition,p),i=this._occluderRadius-r;if(i=o.magnitudeSquared(n)-i*i,r<this._occluderRadius)return i>0&&(i=Math.sqrt(i)+this._horizonDistance,n=o.subtract(t,this._cameraPosition,n),i*i+r*r>o.magnitudeSquared(n));if(i>0){n=o.subtract(t,this._cameraPosition,n);var a=o.magnitudeSquared(n),s=this._occluderRadius*this._occluderRadius,u=r*r;return(this._horizonDistance*this._horizonDistance+s)*u>a*s||(i=Math.sqrt(i)+this._horizonDistance,i*i+u>a)}return!0}return!1};var g=new o;n.prototype.computeVisibility=function(e){if(!s(e))throw new u("occludeeBS is required.");var t=o.clone(e.center),r=e.radius;if(r>this._occluderRadius)return f.FULL;if(this._horizonDistance!==Number.MAX_VALUE){var n=o.subtract(t,this._occluderPosition,g),i=this._occluderRadius-r,a=o.magnitudeSquared(n);if(i=a-i*i,i>0){i=Math.sqrt(i)+this._horizonDistance,n=o.subtract(t,this._cameraPosition,n);var l=o.magnitudeSquared(n);return i*i+r*r<l?f.NONE:(i=this._occluderRadius+r,i=a-i*i,i>0?(i=Math.sqrt(i)+this._horizonDistance,l<i*i+r*r?f.FULL:f.PARTIAL):(n=o.subtract(t,this._horizonPlanePosition,n),o.dot(n,this._horizonPlaneNormal)>-r?f.PARTIAL:f.FULL))}}return f.NONE};var w=new o;n.computeOccludeePoint=function(e,t,r){if(!s(e))throw new u("occluderBoundingSphere is required.");if(!s(r))throw new u("positions is required.");if(0===r.length)throw new u("positions must contain at least one element");var i=o.clone(t),a=o.clone(e.center),l=e.radius,c=r.length;if(o.equals(a,t))throw new u("occludeePosition must be different than occluderBoundingSphere.center");var h=o.normalize(o.subtract(i,a,w),w),f=-o.dot(h,a),d=n._anyRotationVector(a,h,f),p=n._horizonToPlaneNormalDotProduct(e,h,f,d,r[0]);if(p){for(var m,g=1;g<c;++g){if(m=n._horizonToPlaneNormalDotProduct(e,h,f,d,r[g]),!m)return;m<p&&(p=m)}if(!(p<.0017453283658983088)){var v=l/p;return o.add(a,o.multiplyByScalar(h,v,w),w)}}};var v=[];n.computeOccludeePointFromRectangle=function(e,t){if(!s(e))throw new u("rectangle is required.");t=a(t,l.WGS84);var r=h.subsample(e,t,0,v),c=i.fromPoints(r),f=o.ZERO;if(!o.equals(f,c.center))return n.computeOccludeePoint(new i(f,t.minimumRadius),c.center,r)};var y=new o;n._anyRotationVector=function(e,t,r){var n=o.abs(t,y),i=n.x>n.y?0:1;(0===i&&n.z>n.x||1===i&&n.z>n.y)&&(i=2);var a,s=new o;0===i?(n.x=e.x,n.y=e.y+1,n.z=e.z+1,a=o.UNIT_X):1===i?(n.x=e.x+1,n.y=e.y,n.z=e.z+1,a=o.UNIT_Y):(n.x=e.x+1,n.y=e.y+1,n.z=e.z,a=o.UNIT_Z);var u=(o.dot(t,n)+r)/-o.dot(t,a);return o.normalize(o.subtract(o.add(n,o.multiplyByScalar(a,u,s),n),e,n),n)};var _=new o;n._rotationVector=function(e,t,r,n,i){var a=o.subtract(n,e,_);if(a=o.normalize(a,a),o.dot(t,a)<.9999999847691291){var s=o.cross(t,a,a),u=o.magnitude(s);if(u>c.EPSILON13)return o.normalize(s,new o)}return i};var E=new o,b=new o,T=new o,x=new o;n._horizonToPlaneNormalDotProduct=function(e,t,r,n,i){var a=o.clone(i,E),s=o.clone(e.center,b),u=e.radius,l=o.subtract(s,a,T),c=o.magnitudeSquared(l),h=u*u;if(c<h)return!1;var f=c-h,d=Math.sqrt(f),p=Math.sqrt(c),m=1/p,g=d*m,w=g*d;l=o.normalize(l,l);var v=o.add(a,o.multiplyByScalar(l,w,x),x),y=Math.sqrt(f-w*w),_=this._rotationVector(s,t,r,a,n),A=o.fromElements(_.x*_.x*l.x+(_.x*_.y-_.z)*l.y+(_.x*_.z+_.y)*l.z,(_.x*_.y+_.z)*l.x+_.y*_.y*l.y+(_.y*_.z-_.x)*l.z,(_.x*_.z-_.y)*l.x+(_.y*_.z+_.x)*l.y+_.z*_.z*l.z,E);A=o.normalize(A,A);var S=o.multiplyByScalar(A,y,E);_=o.normalize(o.subtract(o.add(v,S,T),s,T),T);var O=o.dot(t,_);_=o.normalize(o.subtract(o.subtract(v,S,_),s,_),_);var I=o.dot(t,_);return O<I?O:I},e.exports=n},function(e,t,r){"use strict";var n=r(2),i={packedLength:void 0,pack:n.throwInstantiationError,unpack:n.throwInstantiationError};e.exports=i},function(e,t,r){"use strict";var n=r(2),i={packedInterpolationLength:void 0,convertPackedArrayForInterpolation:n.throwInstantiationError,unpackInterpolationResult:n.throwInstantiationError};e.exports=i},function(e,t,r){"use strict";function n(){this._cache={}}function i(e,t,r){e.save(),e.scale(r/24,r/24),e.fillStyle=t.toCssColorString(),e.strokeStyle=t.brighten(.6,d).toCssColorString(),e.lineWidth=.846,e.beginPath(),e.moveTo(6.72,.422),e.lineTo(17.28,.422),e.bezierCurveTo(18.553,.422,19.577,1.758,19.577,3.415),e.lineTo(19.577,10.973),e.bezierCurveTo(19.577,12.63,18.553,13.966,17.282,13.966),e.lineTo(14.386,14.008),e.lineTo(11.826,23.578),e.lineTo(9.614,14.008),e.lineTo(6.719,13.965),e.bezierCurveTo(5.446,13.983,4.422,12.629,4.422,10.972),e.lineTo(4.422,3.416),e.bezierCurveTo(4.423,1.76,5.447,.423,6.718,.423),e.closePath(),e.fill(),e.stroke(),e.restore()}function o(e,t,r){var n=r/2.5,i=n,o=n;t.width>t.height?o=n*(t.height/t.width):t.width<t.height&&(i=n*(t.width/t.height));var a=(r-i)/2,s=7/24*r-o/2;e.globalCompositeOperation="destination-out",e.drawImage(t,a-1,s,i,o),e.drawImage(t,a,s-1,i,o),e.drawImage(t,a+1,s,i,o),e.drawImage(t,a,s+1,i,o),e.globalCompositeOperation="destination-over",e.fillStyle=u.BLACK.toCssColorString(),e.fillRect(a-1,s-1,i+1,o+1),e.globalCompositeOperation="destination-out",e.drawImage(t,a,s,i,o),e.globalCompositeOperation="destination-over",e.fillStyle=u.WHITE.toCssColorString(),e.fillRect(a,s,i,o)}function a(e,t,r,n,a){p[0]=e,p[1]=t,p[2]=r,p[3]=n;var s=JSON.stringify(p),u=a[s];if(l(u))return u;var c=document.createElement("canvas");c.width=n,c.height=n;var d=c.getContext("2d");if(i(d,r,n),l(e)){var m=h(e).then(function(e){return o(d,e,n),a[s]=c,c});return a[s]=m,m}if(l(t)){var g=f(t,{font:"bold "+n+"px sans-serif"});o(d,g,n)}return a[s]=c,c}var s=r(55),u=r(31),l=r(1),c=r(2),h=r(35),f=r(125);n.prototype.fromColor=function(e,t){if(!l(e))throw new c("color is required");if(!l(t))throw new c("size is required");return a(void 0,void 0,e,t,this._cache)},n.prototype.fromUrl=function(e,t,r){if(!l(e))throw new c("url is required");if(!l(t))throw new c("color is required");if(!l(r))throw new c("size is required");return a(e,void 0,t,r,this._cache)},n.prototype.fromMakiIconId=function(e,t,r){if(!l(e))throw new c("id is required");if(!l(t))throw new c("color is required");if(!l(r))throw new c("size is required");return a(s("Assets/Textures/maki/"+encodeURIComponent(e)+".png"),void 0,t,r,this._cache)},n.prototype.fromText=function(e,t,r){if(!l(e))throw new c("text is required");if(!l(t))throw new c("color is required");if(!l(r))throw new c("size is required");return a(void 0,e,t,r,this._cache)};var d=new u,p=new Array(4);e.exports=n},function(e,t,r){"use strict";var n=r(47),i={DEPTH_COMPONENT:n.DEPTH_COMPONENT,DEPTH_STENCIL:n.DEPTH_STENCIL,ALPHA:n.ALPHA,RGB:n.RGB,RGBA:n.RGBA,LUMINANCE:n.LUMINANCE,LUMINANCE_ALPHA:n.LUMINANCE_ALPHA,validate:function(e){return e===i.DEPTH_COMPONENT||e===i.DEPTH_STENCIL||e===i.ALPHA||e===i.RGB||e===i.RGBA||e===i.LUMINANCE||e===i.LUMINANCE_ALPHA},isColorFormat:function(e){return e===i.ALPHA||e===i.RGB||e===i.RGBA||e===i.LUMINANCE||e===i.LUMINANCE_ALPHA},isDepthFormat:function(e){return e===i.DEPTH_COMPONENT||e===i.DEPTH_STENCIL}};e.exports=Object.freeze(i)},function(e,t,r){"use strict";function n(e,t,r,n){for(var i=I.fromAxisAngle(e._plane.normal,r,q),o=A.fromQuaternion(i,L),a=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,c=t.length,f=0;f<c;++f){var d=h.clone(t[f],N);A.multiplyByVector(o,d,d);var p=e.projectPointOntoPlane(d,M);m(p)&&(a=Math.min(a,p.x),s=Math.max(s,p.x),u=Math.min(u,p.y),l=Math.max(l,p.y))}return n.x=a,n.y=u,n.width=s-a,n.height=l-u,n}function i(e,t,r,n){var i=n.cartesianToCartographic(e,F),o=i.height,a=n.cartesianToCartographic(t,D);a.height=o,n.cartographicToCartesian(a,t);var s=n.cartesianToCartographic(r,D);s.height=o-100,n.cartographicToCartesian(s,r)}function o(e){var t=e.vertexFormat,r=e.geometry;if(t.st||t.normal||t.tangent||t.binormal){var n=e.boundingRectangle,o=e.tangentPlane,a=e.ellipsoid,s=e.stRotation,u=e.wall,l=e.top||u,f=e.bottom||u,p=e.perPositionHeight,m=X;m.x=n.x,m.y=n.y;var g,w=r.attributes.position.values,v=w.length,y=t.st?new Float32Array(2*(v/3)):void 0;t.normal&&(g=p&&l&&!u?r.attributes.normal.values:new Float32Array(v));var E=t.tangent?new Float32Array(v):void 0,b=t.binormal?new Float32Array(v):void 0,T=0,S=0,O=U,R=B,P=j,C=!0,M=I.fromAxisAngle(o._plane.normal,s,K),N=A.fromQuaternion(M,J),q=0,L=0;l&&f&&(q=v/2,L=v/3,v/=2);for(var F=0;F<v;F+=3){var D=h.fromArray(w,F,Z);if(t.st){var z=A.multiplyByVector(N,D,k);z=a.scaleToGeodeticSurface(z,z);var $=o.projectPointOntoPlane(z,Q);c.subtract($,m,$);var ee=x.clamp($.x/n.width,0,1),te=x.clamp($.y/n.height,0,1);f&&(y[T+L]=ee,y[T+1+L]=te),l&&(y[T]=ee,y[T+1]=te),T+=2}if(t.normal||t.tangent||t.binormal){var re=S+1,ne=S+2;if(u){if(F+3<v){var ie=h.fromArray(w,F+3,G);if(C){var oe=h.fromArray(w,F+v,H);p&&i(D,ie,oe,a),h.subtract(ie,D,ie),h.subtract(oe,D,oe),O=h.normalize(h.cross(oe,ie,O),O),C=!1}h.equalsEpsilon(ie,D,x.EPSILON10)&&(C=!0)}(t.tangent||t.binormal)&&(P=a.geodeticSurfaceNormal(D,P),t.tangent&&(R=h.normalize(h.cross(P,O,R),R)))}else O=a.geodeticSurfaceNormal(D,O),(t.tangent||t.binormal)&&(p&&(V=h.fromArray(g,S,V),W=h.cross(h.UNIT_Z,V,W),W=h.normalize(A.multiplyByVector(N,W,W),W),t.binormal&&(Y=h.normalize(h.cross(V,W,Y),Y))),R=h.cross(h.UNIT_Z,O,R),R=h.normalize(A.multiplyByVector(N,R,R),R),t.binormal&&(P=h.normalize(h.cross(O,R,P),P)));t.normal&&(e.wall?(g[S+q]=O.x,g[re+q]=O.y,g[ne+q]=O.z):f&&(g[S+q]=-O.x,g[re+q]=-O.y,g[ne+q]=-O.z),(l&&!p||u)&&(g[S]=O.x,g[re]=O.y,g[ne]=O.z)),t.tangent&&(e.wall?(E[S+q]=R.x,E[re+q]=R.y,E[ne+q]=R.z):f&&(E[S+q]=-R.x,E[re+q]=-R.y,E[ne+q]=-R.z),l&&(p?(E[S]=W.x,E[re]=W.y,E[ne]=W.z):(E[S]=R.x,E[re]=R.y,E[ne]=R.z))),t.binormal&&(f&&(b[S+q]=P.x,b[re+q]=P.y,b[ne+q]=P.z),l&&(p?(b[S]=Y.x,b[re]=Y.y,b[ne]=Y.z):(b[S]=P.x,b[re]=P.y,b[ne]=P.z))),S+=3}}t.st&&(r.attributes.st=new _({componentDatatype:d.FLOAT,componentsPerAttribute:2,values:y})),t.normal&&(r.attributes.normal=new _({componentDatatype:d.FLOAT,componentsPerAttribute:3,values:g})),t.tangent&&(r.attributes.tangent=new _({componentDatatype:d.FLOAT,componentsPerAttribute:3,values:E})),t.binormal&&(r.attributes.binormal=new _({componentDatatype:d.FLOAT,componentsPerAttribute:3,values:b}))}return r}function a(e,t,r,n,i,o,a,s){var u,l={walls:[]};if(o||a){var c,h,f=S.createGeometryFromPositions(e,t,r,i,s),d=f.attributes.position.values,p=f.indices;if(o&&a){var m=d.concat(d);c=m.length/3,h=T.createTypedArray(c,2*p.length),h.set(p);var g=p.length,w=c/2;for(u=0;u<g;u+=3){var y=h[u]+w,_=h[u+1]+w,b=h[u+2]+w;h[u+g]=b,h[u+1+g]=_,h[u+2+g]=y}if(f.attributes.position.values=m,i){var x=f.attributes.normal.values;f.attributes.normal.values=new Float32Array(m.length),f.attributes.normal.values.set(x)}f.indices=h}else if(a){for(c=d.length/3,h=T.createTypedArray(c,p.length),u=0;u<p.length;u+=3)h[u]=p[u+2],h[u+1]=p[u+1],h[u+2]=p[u];f.indices=h}l.topAndBottom=new E({geometry:f})}var A=n.outerRing,I=v.fromPoints(A,e),R=I.projectPointsOntoPlane(A,$),P=O.computeWindingOrder2D(R);P===C.CLOCKWISE&&(A=A.slice().reverse());var M=S.computeWallGeometry(A,e,r,i);l.walls.push(new E({geometry:M}));var N=n.holes;for(u=0;u<N.length;u++){var q=N[u];I=v.fromPoints(q,e),R=I.projectPointsOntoPlane(q,$),P=O.computeWindingOrder2D(R),P===C.COUNTER_CLOCKWISE&&(q=q.slice().reverse()),M=S.computeWallGeometry(q,e,r),l.walls.push(new E({geometry:M}))}return l}function s(e){if(!m(e)||!m(e.polygonHierarchy))throw new g("options.polygonHierarchy is required.");if(m(e.perPositionHeight)&&e.perPositionHeight&&m(e.height))throw new g("Cannot use both options.perPositionHeight and options.height");var t=e.polygonHierarchy,r=p(e.vertexFormat,P.DEFAULT),n=p(e.ellipsoid,w.WGS84),i=p(e.granularity,x.RADIANS_PER_DEGREE),o=p(e.stRotation,0),a=p(e.height,0),s=p(e.perPositionHeight,!1),u=e.extrudedHeight,l=m(u);if(!s&&l)if(x.equalsEpsilon(a,u,x.EPSILON10))u=void 0,l=!1;else{var c=u;u=Math.min(c,a),a=Math.max(c,a)}this._vertexFormat=P.clone(r),this._ellipsoid=w.clone(n),this._granularity=i,this._stRotation=o,this._height=a,this._extrudedHeight=p(u,0),this._extrude=l,this._closeTop=p(e.closeTop,!0),this._closeBottom=p(e.closeBottom,!0),this._polygonHierarchy=t,this._perPositionHeight=s,this._workerName="createPolygonGeometry";var h=t.positions;!m(h)||h.length<3?this._rectangle=new R:this._rectangle=R.fromCartesianArray(h,n),this.packedLength=S.computeHierarchyPackedLength(t)+w.packedLength+P.packedLength+R.packedLength+9}var u=r(49),l=r(7),c=r(9),h=r(4),f=r(15),d=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),p=r(3),m=r(1),g=r(2),w=r(6),v=r(32),y=r(10),_=r(11),E=r(38),b=r(28),T=r(14),x=r(5),A=r(17),S=r(103),O=r(23),I=r(22),R=r(16),P=r(20),C=r(25),M=new c,N=new h,q=new I,L=new A,F=new f,D=new f,z=new u,k=new h,U=new h,B=new h,j=new h,G=new h,H=new h,V=new h,W=new h,Y=new h,X=new c,Q=new c,Z=new h,K=new I,J=new A,$=[];s.fromPositions=function(e){if(e=p(e,p.EMPTY_OBJECT),!m(e.positions))throw new g("options.positions is required.");var t={polygonHierarchy:{positions:e.positions},height:e.height,extrudedHeight:e.extrudedHeight,vertexFormat:e.vertexFormat,stRotation:e.stRotation,ellipsoid:e.ellipsoid,granularity:e.granularity,perPositionHeight:e.perPositionHeight,closeTop:e.closeTop,closeBottom:e.closeBottom};return new s(t)},s.pack=function(e,t,r){if(!m(e))throw new g("value is required");if(!m(t))throw new g("array is required");return r=p(r,0),r=S.packPolygonHierarchy(e._polygonHierarchy,t,r),w.pack(e._ellipsoid,t,r),r+=w.packedLength,P.pack(e._vertexFormat,t,r),r+=P.packedLength,R.pack(e._rectangle,t,r),r+=R.packedLength,t[r++]=e._height,t[r++]=e._extrudedHeight,t[r++]=e._granularity,t[r++]=e._stRotation,t[r++]=e._extrude?1:0,t[r++]=e._perPositionHeight?1:0,t[r++]=e._closeTop?1:0,t[r++]=e._closeBottom?1:0,t[r]=e.packedLength,t};var ee=w.clone(w.UNIT_SPHERE),te=new P,re=new R,ne={polygonHierarchy:{}};s.unpack=function(e,t,r){if(!m(e))throw new g("array is required");t=p(t,0);var n=S.unpackPolygonHierarchy(e,t);t=n.startingIndex,delete n.startingIndex;var i=w.unpack(e,t,ee);t+=w.packedLength;var o=P.unpack(e,t,te);t+=P.packedLength;var a=R.unpack(e,t,re);t+=R.packedLength;var u=e[t++],l=e[t++],c=e[t++],h=e[t++],f=1===e[t++],d=1===e[t++],v=1===e[t++],y=1===e[t++],_=e[t];return m(r)||(r=new s(ne)),r._polygonHierarchy=n,r._ellipsoid=w.clone(i,r._ellipsoid),r._vertexFormat=P.clone(o,r._vertexFormat),r._height=u,r._extrudedHeight=l,r._granularity=c,r._stRotation=h,r._extrude=f,r._perPositionHeight=d,r._closeTop=v,r._closeBottom=y,r._rectangle=R.clone(a),r.packedLength=_,r},s.createGeometry=function(e){var t=e._vertexFormat,r=e._ellipsoid,i=e._granularity,s=e._stRotation,u=e._height,c=e._extrudedHeight,h=e._extrude,f=e._polygonHierarchy,d=e._perPositionHeight,p=e._closeTop,m=e._closeBottom,g=f.positions;if(!(g.length<3)){var w=v.fromPoints(g,r),_=S.polygonsFromHierarchy(f,d,w,r),x=_.hierarchy,A=_.polygons;if(0!==x.length){g=x[0].outerRing;var I,R,P=n(w,g,s,z),C=[],M={perPositionHeight:d,vertexFormat:t,geometry:void 0,tangentPlane:w,boundingRectangle:P,ellipsoid:r,stRotation:s,bottom:!1,top:!0,wall:!1};if(h)for(M.top=p,M.bottom=m,R=0;R<A.length;R++){I=a(r,A[R],i,x[R],d,p,m,t);var N;p&&m?(N=I.topAndBottom,M.geometry=S.scaleToGeodeticHeightExtruded(N.geometry,u,c,r,d)):p?(N=I.topAndBottom,N.geometry.attributes.position.values=O.scaleToGeodeticHeight(N.geometry.attributes.position.values,u,r,!d),M.geometry=N.geometry):m&&(N=I.topAndBottom,N.geometry.attributes.position.values=O.scaleToGeodeticHeight(N.geometry.attributes.position.values,c,r,!0),M.geometry=N.geometry),(p||m)&&(M.wall=!1,N.geometry=o(M),C.push(N));var q=I.walls;M.wall=!0;for(var L=0;L<q.length;L++){var F=q[L];M.geometry=S.scaleToGeodeticHeightExtruded(F.geometry,u,c,r,d),F.geometry=o(M),C.push(F)}}else for(R=0;R<A.length;R++)I=new E({geometry:S.createGeometryFromPositions(r,A[R],i,d,t)}),I.geometry.attributes.position.values=O.scaleToGeodeticHeight(I.geometry.attributes.position.values,u,r,!d),M.geometry=I.geometry,I.geometry=o(M),C.push(I);I=b.combineInstances(C)[0],I.attributes.position.values=new Float64Array(I.attributes.position.values),I.indices=T.createTypedArray(I.attributes.position.values.length/3,I.indices);var D=I.attributes,k=l.fromVertices(D.position.values);return t.position||delete D.position,new y({attributes:D,indices:I.indices,primitiveType:I.primitiveType,boundingSphere:k})}}},s.createShadowVolume=function(e,t,r){var n=e._granularity,i=e._ellipsoid,o=t(n,i),a=r(n,i);return new s({polygonHierarchy:e._polygonHierarchy,ellipsoid:i,stRotation:e._stRotation,granularity:n,perPositionHeight:!1,extrudedHeight:o,height:a,vertexFormat:P.POSITION_ONLY})},Object.defineProperties(s.prototype,{rectangle:{get:function(){return this._rectangle}}}),e.exports=s},function(e,t,r){"use strict";function n(e,t){this.positions=i(e)?e:[],this.holes=i(t)?t:[]}var i=r(1);e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n){var i=p.fromPoints(t,e),o=i.projectPointsOntoPlane(t,O),a=T.computeWindingOrder2D(o);a===S.CLOCKWISE&&(o.reverse(),t=t.slice().reverse());var s,u,c=t.length,h=0;if(n)for(s=new Float64Array(2*c*3),u=0;u<c;u++){var f=t[u],d=t[(u+1)%c];s[h++]=f.x,s[h++]=f.y,s[h++]=f.z,s[h++]=d.x,s[h++]=d.y,s[h++]=d.z}else{var y=0;for(u=0;u<c;u++)y+=b.subdivideLineCount(t[u],t[(u+1)%c],r);for(s=new Float64Array(3*y),u=0;u<c;u++)for(var E=b.subdivideLine(t[u],t[(u+1)%c],r,I),A=E.length,R=0;R<A;++R)s[h++]=E[R]}c=s.length/3;var P=2*c,C=_.createTypedArray(c,P);for(h=0,u=0;u<c-1;u++)C[h++]=u,C[h++]=u+1;return C[h++]=c-1,C[h++]=0,new v({geometry:new m({attributes:new w({position:new g({componentDatatype:l.DOUBLE,componentsPerAttribute:3,values:s})}),indices:C,primitiveType:x.LINES})})}function i(e,t,r,n){var i=p.fromPoints(t,e),o=i.projectPointsOntoPlane(t,O),a=T.computeWindingOrder2D(o);a===S.CLOCKWISE&&(o.reverse(),t=t.slice().reverse());var s,u,c=t.length,h=new Array(c),f=0;if(n)for(s=new Float64Array(2*c*3*2),u=0;u<c;++u){h[u]=f/3;var d=t[u],y=t[(u+1)%c];s[f++]=d.x,s[f++]=d.y,s[f++]=d.z,s[f++]=y.x,s[f++]=y.y,s[f++]=y.z}else{var E=0;for(u=0;u<c;u++)E+=b.subdivideLineCount(t[u],t[(u+1)%c],r);for(s=new Float64Array(3*E*2),u=0;u<c;++u){h[u]=f/3;for(var A=b.subdivideLine(t[u],t[(u+1)%c],r,I),R=A.length,P=0;P<R;++P)s[f++]=A[P]}}c=s.length/6;var C=h.length,M=2*(2*c+C),N=_.createTypedArray(c,M);for(f=0,u=0;u<c;++u)N[f++]=u,N[f++]=(u+1)%c,N[f++]=u+c,N[f++]=(u+1)%c+c;for(u=0;u<C;u++){var q=h[u];N[f++]=q,N[f++]=q+c}return new v({geometry:new m({attributes:new w({position:new g({componentDatatype:l.DOUBLE,componentsPerAttribute:3,values:s})}),indices:N,primitiveType:x.LINES})})}function o(e){if(!h(e)||!h(e.polygonHierarchy))throw new f("options.polygonHierarchy is required.");if(h(e.perPositionHeight)&&e.perPositionHeight&&h(e.height))throw new f("Cannot use both options.perPositionHeight and options.height");var t=e.polygonHierarchy,r=c(e.ellipsoid,d.WGS84),n=c(e.granularity,E.RADIANS_PER_DEGREE),i=c(e.height,0),o=c(e.perPositionHeight,!1),a=e.extrudedHeight,s=h(a);if(s&&!o){var u=a;a=Math.min(u,i),i=Math.max(u,i)}this._ellipsoid=d.clone(r),this._granularity=n,this._height=i,this._extrudedHeight=c(a,0),this._extrude=s,this._polygonHierarchy=t,this._perPositionHeight=o,this._workerName="createPolygonOutlineGeometry",this.packedLength=b.computeHierarchyPackedLength(t)+d.packedLength+6}var a=r(29),s=r(7),u=r(4),l=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),c=r(3),h=r(1),f=r(2),d=r(6),p=r(32),m=r(10),g=r(11),w=r(13),v=r(38),y=r(28),_=r(14),E=r(5),b=r(103),T=r(23),x=r(12),A=r(65),S=r(25),O=[],I=[];o.pack=function(e,t,r){if(!h(e))throw new f("value is required");if(!h(t))throw new f("array is required");return r=c(r,0),r=b.packPolygonHierarchy(e._polygonHierarchy,t,r),d.pack(e._ellipsoid,t,r),r+=d.packedLength,t[r++]=e._height,t[r++]=e._extrudedHeight,t[r++]=e._granularity,t[r++]=e._extrude?1:0,t[r++]=e._perPositionHeight?1:0,t[r++]=e.packedLength,t};var R=d.clone(d.UNIT_SPHERE),P={polygonHierarchy:{}};o.unpack=function(e,t,r){if(!h(e))throw new f("array is required");t=c(t,0);var n=b.unpackPolygonHierarchy(e,t);t=n.startingIndex,delete n.startingIndex;var i=d.unpack(e,t,R);t+=d.packedLength;var a=e[t++],s=e[t++],u=e[t++],l=1===e[t++],p=1===e[t++],m=e[t++];return h(r)||(r=new o(P)),r._polygonHierarchy=n,r._ellipsoid=d.clone(i,r._ellipsoid),r._height=a,r._extrudedHeight=s,r._granularity=u,r._extrude=l,r._perPositionHeight=p,r.packedLength=m,r},o.fromPositions=function(e){if(e=c(e,c.EMPTY_OBJECT),!h(e.positions))throw new f("options.positions is required.");var t={polygonHierarchy:{positions:e.positions},height:e.height,extrudedHeight:e.extrudedHeight,ellipsoid:e.ellipsoid,granularity:e.granularity,perPositionHeight:e.perPositionHeight};return new o(t)},o.createGeometry=function(e){var t=e._ellipsoid,r=e._granularity,o=e._height,l=e._extrudedHeight,c=e._extrude,f=e._polygonHierarchy,d=e._perPositionHeight,p=[],g=new A;g.enqueue(f);for(var w;0!==g.length;){var v=g.dequeue(),_=v.positions;if(_=a(_,u.equalsEpsilon,!0),!(_.length<3)){var x=v.holes?v.holes.length:0;for(w=0;w<x;w++){var S=v.holes[w];if(S.positions=a(S.positions,u.equalsEpsilon,!0),!(S.positions.length<3)){p.push(S.positions);var O=0;h(S.holes)&&(O=S.holes.length);for(var I=0;I<O;I++)g.enqueue(S.holes[I])}}p.push(_)}}if(0!==p.length){var R,P=[],C=E.chordLength(r,t.maximumRadius);if(c)for(w=0;w<p.length;w++)R=i(t,p[w],C,d),R.geometry=b.scaleToGeodeticHeightExtruded(R.geometry,o,l,t,d),P.push(R);else for(w=0;w<p.length;w++)R=n(t,p[w],C,d),R.geometry.attributes.position.values=T.scaleToGeodeticHeight(R.geometry.attributes.position.values,o,t,!d),P.push(R);R=y.combineInstances(P)[0];var M=s.fromVertices(R.attributes.position.values);return new m({attributes:R.attributes,indices:R.indices,primitiveType:R.primitiveType,boundingSphere:M})}},e.exports=o},function(e,t,r){"use strict";function n(e,t,r,n,i){var o=T;o.length=i;var a,s=r.red,l=r.green,c=r.blue,h=r.alpha,f=n.red,d=n.green,p=n.blue,m=n.alpha;if(u.equals(r,n)){for(a=0;a<i;a++)o[a]=u.clone(r);return o}var g=(f-s)/i,w=(d-l)/i,v=(p-c)/i,y=(m-h)/i;for(a=0;a<i;a++)o[a]=new u(s+a*g,l+a*w,c+a*v,h+a*y);return o}function i(e){e=c(e,c.EMPTY_OBJECT);var t=e.positions,r=e.colors,n=c(e.width,1),i=c(e.colorsPerVertex,!1);if(!h(t)||t.length<2)throw new f("At least two positions are required.");if("number"!=typeof n)throw new f("width must be a number");if(h(r)&&(i&&r.length<t.length||!i&&r.length<t.length-1))throw new f("colors has an invalid length.");this._positions=t,this._colors=r,this._width=n,this._colorsPerVertex=i,this._vertexFormat=b.clone(c(e.vertexFormat,b.DEFAULT)),this._followSurface=c(e.followSurface,!0),this._granularity=c(e.granularity,y.RADIANS_PER_DEGREE),this._ellipsoid=d.clone(c(e.ellipsoid,d.WGS84)),this._workerName="createPolylineGeometry";var o=1+t.length*s.packedLength;o+=h(r)?1+r.length*u.packedLength:1,this.packedLength=o+d.packedLength+b.packedLength+4}var o=r(29),a=r(7),s=r(4),u=r(31),l=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),c=r(3),h=r(1),f=r(2),d=r(6),p=r(10),m=r(11),g=r(13),w=r(59),v=r(14),y=r(5),_=r(40),E=r(12),b=r(20),T=[];i.pack=function(e,t,r){if(!h(e))throw new f("value is required");if(!h(t))throw new f("array is required");r=c(r,0);var n,i=e._positions,o=i.length;for(t[r++]=o,n=0;n<o;++n,r+=s.packedLength)s.pack(i[n],t,r);var a=e._colors;for(o=h(a)?a.length:0,t[r++]=o,n=0;n<o;++n,r+=u.packedLength)u.pack(a[n],t,r);return d.pack(e._ellipsoid,t,r),r+=d.packedLength,b.pack(e._vertexFormat,t,r),r+=b.packedLength,t[r++]=e._width,t[r++]=e._colorsPerVertex?1:0,t[r++]=e._followSurface?1:0,t[r]=e._granularity,t};var x=d.clone(d.UNIT_SPHERE),A=new b,S={positions:void 0,colors:void 0,ellipsoid:x,vertexFormat:A,width:void 0,colorsPerVertex:void 0,followSurface:void 0,granularity:void 0};i.unpack=function(e,t,r){if(!h(e))throw new f("array is required");t=c(t,0);var n,o=e[t++],a=new Array(o);for(n=0;n<o;++n,t+=s.packedLength)a[n]=s.unpack(e,t);o=e[t++];var l=o>0?new Array(o):void 0;for(n=0;n<o;++n,t+=u.packedLength)l[n]=u.unpack(e,t);var p=d.unpack(e,t,x);t+=d.packedLength;var m=b.unpack(e,t,A);t+=b.packedLength;var g=e[t++],w=1===e[t++],v=1===e[t++],y=e[t];return h(r)?(r._positions=a,r._colors=l,r._ellipsoid=d.clone(p,r._ellipsoid),r._vertexFormat=b.clone(m,r._vertexFormat),r._width=g,r._colorsPerVertex=w,r._followSurface=v,r._granularity=y,r):(S.positions=a,S.colors=l,S.width=g,S.colorsPerVertex=w,S.followSurface=v,S.granularity=y,new i(S))};var O=new s,I=new s,R=new s,P=new s;i.createGeometry=function(e){var t,r,i,c=e._width,f=e._vertexFormat,d=e._colors,b=e._colorsPerVertex,x=e._followSurface,A=e._granularity,S=e._ellipsoid,C=o(e._positions,s.equalsEpsilon),M=C.length;if(!(M<2||c<=0)){if(x){var N=_.extractHeights(C,S),q=y.chordLength(A,S.maximumRadius);if(h(d)){var L=1;for(t=0;t<M-1;++t)L+=_.numberOfPoints(C[t],C[t+1],q);var F=new Array(L),D=0;for(t=0;t<M-1;++t){var z=C[t],k=C[t+1],U=d[t],B=_.numberOfPoints(z,k,q);if(b&&t<L){var j=d[t+1],G=n(z,k,U,j,B),H=G.length;for(r=0;r<H;++r)F[D++]=G[r]}else for(r=0;r<B;++r)F[D++]=u.clone(U)}F[D]=u.clone(d[d.length-1]),d=F,T.length=0}C=_.generateCartesianArc({positions:C,minDistance:q,ellipsoid:S,height:N})}M=C.length;var V,W=4*M-4,Y=new Float64Array(3*W),X=new Float64Array(3*W),Q=new Float64Array(3*W),Z=new Float32Array(2*W),K=f.st?new Float32Array(2*W):void 0,J=h(d)?new Uint8Array(4*W):void 0,$=0,ee=0,te=0,re=0;for(r=0;r<M;++r){0===r?(V=O,s.subtract(C[0],C[1],V),s.add(C[0],V,V)):V=C[r-1],s.clone(V,R),s.clone(C[r],I),r===M-1?(V=O,s.subtract(C[M-1],C[M-2],V),s.add(C[M-1],V,V)):V=C[r+1],s.clone(V,P);var ne,ie;h(J)&&(ne=0===r||b?d[r]:d[r-1],r!==M-1&&(ie=d[r]));var oe=0===r?2:0,ae=r===M-1?2:4;for(i=oe;i<ae;++i){s.pack(I,Y,$),s.pack(R,X,$),s.pack(P,Q,$),$+=3;var se=i-2<0?-1:1;if(Z[ee++]=2*(i%2)-1,Z[ee++]=se*c,f.st&&(K[te++]=r/(M-1),K[te++]=Math.max(Z[ee-2],0)),h(J)){var ue=i<2?ne:ie;J[re++]=u.floatToByte(ue.red),J[re++]=u.floatToByte(ue.green),J[re++]=u.floatToByte(ue.blue),J[re++]=u.floatToByte(ue.alpha)}}}var le=new g;le.position=new m({componentDatatype:l.DOUBLE,componentsPerAttribute:3,values:Y}),le.prevPosition=new m({
componentDatatype:l.DOUBLE,componentsPerAttribute:3,values:X}),le.nextPosition=new m({componentDatatype:l.DOUBLE,componentsPerAttribute:3,values:Q}),le.expandAndWidth=new m({componentDatatype:l.FLOAT,componentsPerAttribute:2,values:Z}),f.st&&(le.st=new m({componentDatatype:l.FLOAT,componentsPerAttribute:2,values:K})),h(J)&&(le.color=new m({componentDatatype:l.UNSIGNED_BYTE,componentsPerAttribute:4,values:J,normalize:!0}));var ce=v.createTypedArray(W,6*M-6),he=0,fe=0,de=M-1;for(r=0;r<de;++r)ce[fe++]=he,ce[fe++]=he+2,ce[fe++]=he+1,ce[fe++]=he+1,ce[fe++]=he+2,ce[fe++]=he+3,he+=4;return new p({attributes:le,indices:ce,primitiveType:E.TRIANGLES,boundingSphere:a.fromPoints(C),geometryType:w.POLYLINES})}},e.exports=i},function(e,t,r){"use strict";function n(e,t,r,n){var i=new v;n.position&&(i.position=new w({componentDatatype:c.DOUBLE,componentsPerAttribute:3,values:e}));var o,a,u,l,h,f,d=t.length,p=e.length/3,m=(p-2*d)/(2*d),E=T.triangulate(t),x=(m-1)*d*6+2*E.length,S=_.createTypedArray(p,x),O=2*d,I=0;for(o=0;o<m-1;o++){for(a=0;a<d-1;a++)u=2*a+o*d*2,f=u+O,l=u+1,h=l+O,S[I++]=l,S[I++]=u,S[I++]=h,S[I++]=h,S[I++]=u,S[I++]=f;u=2*d-2+o*d*2,l=u+1,h=l+O,f=u+O,S[I++]=l,S[I++]=u,S[I++]=h,S[I++]=h,S[I++]=u,S[I++]=f}if(n.st||n.tangent||n.binormal){var R,P,C=new Float32Array(2*p),M=1/(m-1),N=1/r.height,q=r.height/2,L=0;for(o=0;o<m;o++){for(R=o*M,P=N*(t[0].y+q),C[L++]=R,C[L++]=P,a=1;a<d;a++)P=N*(t[a].y+q),C[L++]=R,C[L++]=P,C[L++]=R,C[L++]=P;P=N*(t[0].y+q),C[L++]=R,C[L++]=P}for(a=0;a<d;a++)R=0,P=N*(t[a].y+q),C[L++]=R,C[L++]=P;for(a=0;a<d;a++)R=(m-1)*M,P=N*(t[a].y+q),C[L++]=R,C[L++]=P;i.st=new w({componentDatatype:c.FLOAT,componentsPerAttribute:2,values:new Float32Array(C)})}var F=p-2*d;for(o=0;o<E.length;o+=3){var D=E[o]+F,z=E[o+1]+F,k=E[o+2]+F;S[I++]=D,S[I++]=z,S[I++]=k,S[I++]=k+d,S[I++]=z+d,S[I++]=D+d}var U=new g({attributes:i,indices:S,boundingSphere:s.fromVertices(e),primitiveType:A.TRIANGLES});if(n.normal&&(U=y.computeNormal(U)),n.tangent||n.binormal){try{U=y.computeBinormalAndTangent(U)}catch(e){b("polyline-volume-tangent-binormal","Unable to compute tangents and binormals for polyline volume geometry")}n.tangent||(U.attributes.tangent=void 0),n.binormal||(U.attributes.binormal=void 0),n.st||(U.attributes.st=void 0)}return U}function i(e){e=f(e,f.EMPTY_OBJECT);var t=e.polylinePositions,r=e.shapePositions;if(!d(t))throw new p("options.polylinePositions is required.");if(!d(r))throw new p("options.shapePositions is required.");this._positions=t,this._shape=r,this._ellipsoid=m.clone(f(e.ellipsoid,m.WGS84)),this._cornerType=f(e.cornerType,h.ROUNDED),this._vertexFormat=S.clone(f(e.vertexFormat,S.DEFAULT)),this._granularity=f(e.granularity,E.RADIANS_PER_DEGREE),this._workerName="createPolylineVolumeGeometry";var n=1+t.length*l.packedLength;n+=1+r.length*u.packedLength,this.packedLength=n+m.packedLength+S.packedLength+2}var o=r(29),a=r(49),s=r(7),u=r(9),l=r(4),c=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),h=r(26),f=r(3),d=r(1),p=r(2),m=r(6),g=r(10),w=r(11),v=r(13),y=r(28),_=r(14),E=r(5),b=r(122),T=r(23),x=r(64),A=r(12),S=r(20),O=r(25);i.pack=function(e,t,r){if(!d(e))throw new p("value is required");if(!d(t))throw new p("array is required");r=f(r,0);var n,i=e._positions,o=i.length;for(t[r++]=o,n=0;n<o;++n,r+=l.packedLength)l.pack(i[n],t,r);var a=e._shape;for(o=a.length,t[r++]=o,n=0;n<o;++n,r+=u.packedLength)u.pack(a[n],t,r);return m.pack(e._ellipsoid,t,r),r+=m.packedLength,S.pack(e._vertexFormat,t,r),r+=S.packedLength,t[r++]=e._cornerType,t[r]=e._granularity,t};var I=m.clone(m.UNIT_SPHERE),R=new S,P={polylinePositions:void 0,shapePositions:void 0,ellipsoid:I,vertexFormat:R,cornerType:void 0,granularity:void 0};i.unpack=function(e,t,r){if(!d(e))throw new p("array is required");t=f(t,0);var n,o=e[t++],a=new Array(o);for(n=0;n<o;++n,t+=l.packedLength)a[n]=l.unpack(e,t);o=e[t++];var s=new Array(o);for(n=0;n<o;++n,t+=u.packedLength)s[n]=u.unpack(e,t);var c=m.unpack(e,t,I);t+=m.packedLength;var h=S.unpack(e,t,R);t+=S.packedLength;var g=e[t++],w=e[t];return d(r)?(r._positions=a,r._shape=s,r._ellipsoid=m.clone(c,r._ellipsoid),r._vertexFormat=S.clone(h,r._vertexFormat),r._cornerType=g,r._granularity=w,r):(P.polylinePositions=a,P.shapePositions=s,P.cornerType=g,P.granularity=w,new i(P))};var C=new a;i.createGeometry=function(e){var t=e._positions,r=o(t,l.equalsEpsilon),i=e._shape;if(i=x.removeDuplicatesFromShape(i),!(r.length<2||i.length<3)){T.computeWindingOrder2D(i)===O.CLOCKWISE&&i.reverse();var s=a.fromPoints(i,C),u=x.computePositions(r,i,s,e,!0);return n(u,i,s,e._vertexFormat)}},e.exports=i},function(e,t,r){"use strict";function n(e,t){var r=new v;r.position=new w({componentDatatype:c.DOUBLE,componentsPerAttribute:3,values:e});var n,i,o=t.length,a=r.position.values.length/3,u=e.length/3,l=u/o,h=y.createTypedArray(a,2*o*(l+1)),f=0;n=0;var d=n*o;for(i=0;i<o-1;i++)h[f++]=i+d,h[f++]=i+d+1;for(h[f++]=o-1+d,h[f++]=d,n=l-1,d=n*o,i=0;i<o-1;i++)h[f++]=i+d,h[f++]=i+d+1;for(h[f++]=o-1+d,h[f++]=d,n=0;n<l-1;n++){var p=o*n,m=p+o;for(i=0;i<o;i++)h[f++]=i+p,h[f++]=i+m}var _=new g({attributes:r,indices:y.createTypedArray(a,h),boundingSphere:s.fromVertices(e),primitiveType:T.LINES});return _}function i(e){e=f(e,f.EMPTY_OBJECT);var t=e.polylinePositions,r=e.shapePositions;if(!d(t))throw new p("options.polylinePositions is required.");if(!d(r))throw new p("options.shapePositions is required.");this._positions=t,this._shape=r,this._ellipsoid=m.clone(f(e.ellipsoid,m.WGS84)),this._cornerType=f(e.cornerType,h.ROUNDED),this._granularity=f(e.granularity,_.RADIANS_PER_DEGREE),this._workerName="createPolylineVolumeOutlineGeometry";var n=1+t.length*l.packedLength;n+=1+r.length*u.packedLength,this.packedLength=n+m.packedLength+2}var o=r(29),a=r(49),s=r(7),u=r(9),l=r(4),c=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),h=r(26),f=r(3),d=r(1),p=r(2),m=r(6),g=r(10),w=r(11),v=r(13),y=r(14),_=r(5),E=r(23),b=r(64),T=r(12),x=r(25);i.pack=function(e,t,r){if(!d(e))throw new p("value is required");if(!d(t))throw new p("array is required");r=f(r,0);var n,i=e._positions,o=i.length;for(t[r++]=o,n=0;n<o;++n,r+=l.packedLength)l.pack(i[n],t,r);var a=e._shape;for(o=a.length,t[r++]=o,n=0;n<o;++n,r+=u.packedLength)u.pack(a[n],t,r);return m.pack(e._ellipsoid,t,r),r+=m.packedLength,t[r++]=e._cornerType,t[r]=e._granularity,t};var A=m.clone(m.UNIT_SPHERE),S={polylinePositions:void 0,shapePositions:void 0,ellipsoid:A,height:void 0,cornerType:void 0,granularity:void 0};i.unpack=function(e,t,r){if(!d(e))throw new p("array is required");t=f(t,0);var n,o=e[t++],a=new Array(o);for(n=0;n<o;++n,t+=l.packedLength)a[n]=l.unpack(e,t);o=e[t++];var s=new Array(o);for(n=0;n<o;++n,t+=u.packedLength)s[n]=u.unpack(e,t);var c=m.unpack(e,t,A);t+=m.packedLength;var h=e[t++],g=e[t];return d(r)?(r._positions=a,r._shape=s,r._ellipsoid=m.clone(c,r._ellipsoid),r._cornerType=h,r._granularity=g,r):(S.polylinePositions=a,S.shapePositions=s,S.cornerType=h,S.granularity=g,new i(S))};var O=new a;i.createGeometry=function(e){var t=e._positions,r=o(t,l.equalsEpsilon),i=e._shape;if(i=b.removeDuplicatesFromShape(i),!(r.length<2||i.length<3)){E.computeWindingOrder2D(i)===x.CLOCKWISE&&i.reverse();var s=a.fromPoints(i,O),u=b.computePositions(r,i,s,e,!1);return n(u,i)}},e.exports=i},function(e,t,r){"use strict";function n(e){function t(e,t){return a[e]-a[t]}function r(e,t){return o[e]-o[t]}if(!h(e)||!h(e.quantizedVertices))throw new f("options.quantizedVertices is required.");if(!h(e.indices))throw new f("options.indices is required.");if(!h(e.minimumHeight))throw new f("options.minimumHeight is required.");if(!h(e.maximumHeight))throw new f("options.maximumHeight is required.");if(!h(e.maximumHeight))throw new f("options.maximumHeight is required.");if(!h(e.boundingSphere))throw new f("options.boundingSphere is required.");if(!h(e.horizonOcclusionPoint))throw new f("options.horizonOcclusionPoint is required.");if(!h(e.westIndices))throw new f("options.westIndices is required.");if(!h(e.southIndices))throw new f("options.southIndices is required.");if(!h(e.eastIndices))throw new f("options.eastIndices is required.");if(!h(e.northIndices))throw new f("options.northIndices is required.");if(!h(e.westSkirtHeight))throw new f("options.westSkirtHeight is required.");if(!h(e.southSkirtHeight))throw new f("options.southSkirtHeight is required.");if(!h(e.eastSkirtHeight))throw new f("options.eastSkirtHeight is required.");if(!h(e.northSkirtHeight))throw new f("options.northSkirtHeight is required.");this._quantizedVertices=e.quantizedVertices,this._encodedNormals=e.encodedNormals,this._indices=e.indices,this._minimumHeight=e.minimumHeight,this._maximumHeight=e.maximumHeight,this._boundingSphere=e.boundingSphere,this._orientedBoundingBox=e.orientedBoundingBox,this._horizonOcclusionPoint=e.horizonOcclusionPoint;var n=this._quantizedVertices.length/3,o=this._uValues=this._quantizedVertices.subarray(0,n),a=this._vValues=this._quantizedVertices.subarray(n,2*n);this._heightValues=this._quantizedVertices.subarray(2*n,3*n),this._westIndices=i(e.westIndices,t,n),this._southIndices=i(e.southIndices,r,n),this._eastIndices=i(e.eastIndices,t,n),this._northIndices=i(e.northIndices,r,n),this._westSkirtHeight=e.westSkirtHeight,this._southSkirtHeight=e.southSkirtHeight,this._eastSkirtHeight=e.eastSkirtHeight,this._northSkirtHeight=e.northSkirtHeight,this._childTileMask=c(e.childTileMask,15),this._createdByUpsampling=c(e.createdByUpsampling,!1),this._waterMask=e.waterMask,this._mesh=void 0}function i(e,t,r){y.length=e.length;for(var n=!1,i=0,o=e.length;i<o;++i)y[i]=e[i],n=n||i>0&&t(e[i-1],e[i])>0;return n?(y.sort(t),d.createTypedArray(r,y)):e}function o(e,t,r){for(var n=e._mesh,i=n.vertices,o=n.encoding,a=n.indices,s=0,u=a.length;s<u;s+=3){var l=a[s],c=a[s+1],h=a[s+2],f=o.decodeTextureCoordinates(i,l,x),d=o.decodeTextureCoordinates(i,c,A),m=o.decodeTextureCoordinates(i,h,S),g=p.computeBarycentricCoordinates(t,r,f.x,f.y,d.x,d.y,m.x,m.y,T);if(g.x>=-1e-15&&g.y>=-1e-15&&g.z>=-1e-15){var w=o.decodeHeight(i,l),v=o.decodeHeight(i,c),y=o.decodeHeight(i,h);return g.x*w+g.y*v+g.z*y}}}function a(e,t,r){for(var n=e._uValues,i=e._vValues,o=e._heightValues,a=e._indices,s=0,u=a.length;s<u;s+=3){var l=a[s],c=a[s+1],h=a[s+2],f=n[l],d=n[c],g=n[h],w=i[l],v=i[c],y=i[h],_=p.computeBarycentricCoordinates(t,r,f,w,d,v,g,y,T);if(_.x>=-1e-15&&_.y>=-1e-15&&_.z>=-1e-15){var E=_.x*o[l]+_.y*o[c]+_.z*o[h];return m.lerp(e._minimumHeight,e._maximumHeight,E/b)}}}var s=r(18),u=(r(7),r(9)),l=r(4),c=r(3),h=r(1),f=r(2),d=r(14),p=r(99),m=r(5),g=(r(63),r(67)),w=r(68),v=r(108);Object.defineProperties(n.prototype,{waterMask:{get:function(){return this._waterMask}}});var y=[],_=new g("createVerticesFromQuantizedTerrainMesh");n.prototype.createMesh=function(e,t,r,n,i){if(!h(e))throw new f("tilingScheme is required.");if(!h(t))throw new f("x is required.");if(!h(r))throw new f("y is required.");if(!h(n))throw new f("level is required.");var o=e.ellipsoid,a=e.tileXYToRectangle(t,r,n);i=c(i,1);var u=_.scheduleTask({minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,quantizedVertices:this._quantizedVertices,octEncodedNormals:this._encodedNormals,includeWebMercatorT:!0,indices:this._indices,westIndices:this._westIndices,southIndices:this._southIndices,eastIndices:this._eastIndices,northIndices:this._northIndices,westSkirtHeight:this._westSkirtHeight,southSkirtHeight:this._southSkirtHeight,eastSkirtHeight:this._eastSkirtHeight,northSkirtHeight:this._northSkirtHeight,rectangle:a,relativeToCenter:this._boundingSphere.center,ellipsoid:o,exaggeration:i});if(h(u)){var l=this;return new s(function(e){var t=l._quantizedVertices.length/3;t+=l._westIndices.length+l._southIndices.length+l._eastIndices.length+l._northIndices.length;var r=d.createTypedArray(t,result.indices),n=new Float32Array(result.vertices),o=result.center,a=result.minimumHeight,s=result.maximumHeight,h=c(result.boundingSphere,l._boundingSphere),f=c(result.orientedBoundingBox,l._orientedBoundingBox),p=l._horizonOcclusionPoint,m=result.vertexStride,g=w.clone(result.encoding);l._skirtIndex=result.skirtIndex,l._vertexCountWithoutSkirts=l._quantizedVertices.length/3,l._mesh=new v(o,n,r,a,s,h,p,m,f,g,i),l._quantizedVertices=void 0,l._encodedNormals=void 0,l._indices=void 0,l._uValues=void 0,l._vValues=void 0,l._heightValues=void 0,l._westIndices=void 0,l._southIndices=void 0,l._eastIndices=void 0,l._northIndices=void 0,e(u)})}};var E=new g("upsampleQuantizedTerrainMesh");n.prototype.upsample=function(e,t,r,n,i,o,a){if(!h(e))throw new f("tilingScheme is required.");if(!h(t))throw new f("thisX is required.");if(!h(r))throw new f("thisY is required.");if(!h(n))throw new f("thisLevel is required.");if(!h(i))throw new f("descendantX is required.");if(!h(o))throw new f("descendantY is required.");if(!h(a))throw new f("descendantLevel is required.");var u=a-n;if(u>1)throw new f("Upsampling through more than one level at a time is not currently supported.");var l=this._mesh;if(h(this._mesh)){var c=2*t!==i,p=2*r===o,m=e.ellipsoid,g=e.tileXYToRectangle(i,o,a),w=E.scheduleTask({vertices:l.vertices,vertexCountWithoutSkirts:this._vertexCountWithoutSkirts,indices:l.indices,skirtIndex:this._skirtIndex,encoding:l.encoding,minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,isEastChild:c,isNorthChild:p,childRectangle:g,ellipsoid:m,exaggeration:l.exaggeration});if(h(w)){var v=Math.min(this._westSkirtHeight,this._eastSkirtHeight);return v=Math.min(v,this._southSkirtHeight),v=Math.min(v,this._northSkirtHeight),c?.5*v:this._westSkirtHeight,p?.5*v:this._southSkirtHeight,c?this._eastSkirtHeight:.5*v,p?this._northSkirtHeight:.5*v,new s(function(e){var t,r=new Uint16Array(result.vertices);d.createTypedArray(r.length/3,result.indices),h(result.encodedNormals)&&(t=new Uint8Array(result.encodedNormals)),e(w)})}}};var b=32767,T=new l;n.prototype.interpolateHeight=function(e,t,r){var n=m.clamp((t-e.west)/e.width,0,1);n*=b;var i=m.clamp((r-e.south)/e.height,0,1);return i*=b,h(this._mesh)?void o(this,n,i):a(this,n,i)};var x=new u,A=new u,S=new u;n.prototype.isChildAvailable=function(e,t,r,n){if(!h(e))throw new f("thisX is required.");if(!h(t))throw new f("thisY is required.");if(!h(r))throw new f("childX is required.");if(!h(n))throw new f("childY is required.");var i=2;return r!==2*e&&++i,n!==2*t&&(i-=2),0!==(this._childTileMask&1<<i)},n.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling},e.exports=n},function(e,t,r){"use strict";function n(e,t,r){var n=e.length,i=new Array(n);i[0]=s(t)?t:e[0],i[n-1]=s(r)?r:e[n-1];for(var o=1;o<n-1;++o)i[o]=l.computeInnerQuadrangle(e[o-1],e[o],e[o+1],new l);return i}function i(e){var t=e.points,r=e.innerQuadrangles,n=e.times;if(t.length<3){var i=n[0],o=1/(n[1]-i),a=t[0],u=t[1];return function(e,t){s(t)||(t=new l);var r=(e-i)*o;return l.fastSlerp(a,u,r,t)}}return function(i,o){s(o)||(o=new l);var a=e._lastTimeIndex=e.findTimeInterval(i,e._lastTimeIndex),u=(i-n[a])/(n[a+1]-n[a]),c=t[a],h=t[a+1],f=r[a],d=r[a+1];return l.fastSquad(c,h,f,d,u,o)}}function o(e){e=a(e,a.EMPTY_OBJECT);var t=e.points,r=e.times,o=e.firstInnerQuadrangle,l=e.lastInnerQuadrangle;if(!s(t)||!s(r))throw new u("points and times are required.");if(t.length<2)throw new u("points.length must be greater than or equal to 2.");if(r.length!==t.length)throw new u("times.length must be equal to points.length.");var c=n(t,o,l);this._times=r,this._points=t,this._innerQuadrangles=c,this._evaluateFunction=i(this),this._lastTimeIndex=0}var a=r(3),s=r(1),u=r(2),l=r(22),c=r(42);Object.defineProperties(o.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}},innerQuadrangles:{get:function(){return this._innerQuadrangles}}}),o.prototype.findTimeInterval=c.prototype.findTimeInterval,o.prototype.evaluate=function(e,t){return this._evaluateFunction(e,t)},e.exports=o},function(e,t,r){"use strict";function n(e,t){var r=new E({attributes:new T,primitiveType:P.TRIANGLES});return r.attributes.position=new b({componentDatatype:g.DOUBLE,componentsPerAttribute:3,values:t.positions}),e.normal&&(r.attributes.normal=new b({componentDatatype:g.FLOAT,componentsPerAttribute:3,values:t.normals})),e.tangent&&(r.attributes.tangent=new b({componentDatatype:g.FLOAT,componentsPerAttribute:3,values:t.tangents})),e.binormal&&(r.attributes.binormal=new b({componentDatatype:g.FLOAT,componentsPerAttribute:3,values:t.binormals})),r}function i(e,t,r,i){for(var o=e.length,a=t.normal?new Float32Array(o):void 0,s=t.tangent?new Float32Array(o):void 0,u=t.binormal?new Float32Array(o):void 0,l=0,c=z,h=D,f=F,d=0;d<o;d+=3){var m=p.fromArray(e,d,L),g=l+1,w=l+2;(t.normal||t.tangent||t.binormal)&&(f=r.geodeticSurfaceNormal(m,f),(t.tangent||t.binormal)&&(p.cross(p.UNIT_Z,f,h),I.multiplyByVector(i,h,h),p.normalize(h,h),t.binormal&&p.normalize(p.cross(f,h,c),c)),t.normal&&(a[l]=f.x,a[g]=f.y,a[w]=f.z),t.tangent&&(s[l]=h.x,s[g]=h.y,s[w]=h.z),t.binormal&&(u[l]=c.x,u[g]=c.y,u[w]=c.z)),l+=3}return n(t,{positions:e,normals:a,tangents:s,binormals:u})}function o(e,t,r){for(var i=e.length,o=t.normal?new Float32Array(i):void 0,a=t.tangent?new Float32Array(i):void 0,s=t.binormal?new Float32Array(i):void 0,u=0,l=0,c=0,h=!0,f=z,d=D,m=F,g=0;g<i;g+=6){var w=p.fromArray(e,g,L);if(t.normal||t.tangent||t.binormal){var v=p.fromArray(e,(g+6)%i,G);if(h){var y=p.fromArray(e,(g+3)%i,H);p.subtract(v,w,v),p.subtract(y,w,y),m=p.normalize(p.cross(y,v,m),m),h=!1}p.equalsEpsilon(v,w,O.EPSILON10)&&(h=!0),(t.tangent||t.binormal)&&(f=r.geodeticSurfaceNormal(w,f),t.tangent&&(d=p.normalize(p.cross(f,m,d),d))),t.normal&&(o[u++]=m.x,o[u++]=m.y,o[u++]=m.z,o[u++]=m.x,o[u++]=m.y,o[u++]=m.z),t.tangent&&(a[l++]=d.x,a[l++]=d.y,a[l++]=d.z,a[l++]=d.x,a[l++]=d.y,a[l++]=d.z),t.binormal&&(s[c++]=f.x,s[c++]=f.y,s[c++]=f.z,s[c++]=f.x,s[c++]=f.y,s[c++]=f.z)}}return n(t,{positions:e,normals:o,tangents:a,binormals:s})}function a(e){for(var t=e.vertexFormat,r=e.ellipsoid,n=e.size,o=e.height,a=e.width,s=t.position?new Float64Array(3*n):void 0,u=t.st?new Float32Array(2*n):void 0,l=0,c=0,h=L,f=U,d=Number.MAX_VALUE,p=Number.MAX_VALUE,m=-Number.MAX_VALUE,w=-Number.MAX_VALUE,v=0;v<o;++v)for(var y=0;y<a;++y)N.computePosition(e,v,y,h,f),s[l++]=h.x,s[l++]=h.y,s[l++]=h.z,t.st&&(u[c++]=f.x,u[c++]=f.y,d=Math.min(d,f.x),p=Math.min(p,f.y),m=Math.max(m,f.x),w=Math.max(w,f.y));if(t.st&&(d<0||p<0||m>1||w>1))for(var _=0;_<u.length;_+=2)u[_]=(u[_]-d)/(m-d),u[_+1]=(u[_+1]-p)/(w-p);for(var E=i(s,t,r,e.tangentRotationMatrix),T=6*(a-1)*(o-1),x=S.createTypedArray(n,T),A=0,O=0,I=0;I<o-1;++I){for(var R=0;R<a-1;++R){var P=A,C=P+a,M=C+1,q=P+1;x[O++]=P,x[O++]=C,x[O++]=q,x[O++]=q,x[O++]=C,x[O++]=M,++A}++A}return E.indices=x,t.st&&(E.attributes.st=new b({componentDatatype:g.FLOAT,componentsPerAttribute:2,values:u})),E}function s(e,t,r,n,i){return e[t++]=n[r],e[t++]=n[r+1],e[t++]=n[r+2],e[t++]=i[r],e[t++]=i[r+1],e[t++]=i[r+2],e}function u(e,t,r,n){return e[t++]=n[r],e[t++]=n[r+1],e[t++]=n[r],e[t++]=n[r+1],e}function l(e){var t,r=e.vertexFormat,n=e.surfaceHeight,i=e.extrudedHeight,l=Math.min(i,n),c=Math.max(i,n),h=e.height,f=e.width,d=e.ellipsoid,m=a(e);if(O.equalsEpsilon(l,c,O.EPSILON10))return m;var w=R.scaleToGeodeticHeight(m.attributes.position.values,c,d,!1);w=new Float64Array(w);var v=w.length,y=2*v,_=new Float64Array(y);_.set(w);var E=R.scaleToGeodeticHeight(m.attributes.position.values,l,d);_.set(E,v),m.attributes.position.values=_;var T,I=r.normal?new Float32Array(y):void 0,P=r.tangent?new Float32Array(y):void 0,C=r.binormal?new Float32Array(y):void 0,M=r.st?new Float32Array(y/3*2):void 0;if(r.normal){var N=m.attributes.normal.values;for(I.set(N),t=0;t<v;t++)N[t]=-N[t];I.set(N,v),m.attributes.normal.values=I}if(r.tangent){var q=m.attributes.tangent.values;for(P.set(q),t=0;t<v;t++)q[t]=-q[t];P.set(q,v),m.attributes.tangent.values=P}if(r.binormal){var L=m.attributes.binormal.values;C.set(L),C.set(L,v),m.attributes.binormal.values=C}r.st&&(T=m.attributes.st.values,M.set(T),M.set(T,v/3*2),m.attributes.st.values=M);var F=m.indices,D=F.length,z=v/3,k=S.createTypedArray(y/3,2*D);for(k.set(F),t=0;t<D;t+=3)k[t+D]=F[t+2]+z,k[t+1+D]=F[t+1]+z,k[t+2+D]=F[t]+z;m.indices=k;var U=2*f+2*h-4,B=2*(U+4),j=new Float64Array(3*B),V=r.st?new Float32Array(2*B):void 0,W=0,Y=0,X=f*h;for(t=0;t<X;t+=f)j=s(j,W,3*t,w,E),W+=6,r.st&&(V=u(V,Y,2*t,T),Y+=4);for(t=X-f;t<X;t++)j=s(j,W,3*t,w,E),W+=6,r.st&&(V=u(V,Y,2*t,T),Y+=4);for(t=X-1;t>0;t-=f)j=s(j,W,3*t,w,E),W+=6,r.st&&(V=u(V,Y,2*t,T),Y+=4);for(t=f-1;t>=0;t--)j=s(j,W,3*t,w,E),W+=6,r.st&&(V=u(V,Y,2*t,T),Y+=4);var Q=o(j,r,d);r.st&&(Q.attributes.st=new b({componentDatatype:g.FLOAT,componentsPerAttribute:2,values:V}));var Z,K,J,$,ee=S.createTypedArray(B,6*U);v=j.length/3;var te=0;for(t=0;t<v-1;t+=2){Z=t,$=(Z+2)%v;var re=p.fromArray(j,3*Z,G),ne=p.fromArray(j,3*$,H);p.equalsEpsilon(re,ne,O.EPSILON10)||(K=(Z+1)%v,J=(K+2)%v,ee[te++]=Z,ee[te++]=K,ee[te++]=$,ee[te++]=$,ee[te++]=K,ee[te++]=J)}return Q.indices=ee,Q=A.combineInstances([new x({geometry:m}),new x({geometry:Q})]),Q[0]}function c(e,t,r){if(0===r)return M.clone(e);M.northeast(e,Q[0]),M.northwest(e,Q[1]),M.southeast(e,Q[2]),M.southwest(e,Q[3]),t.cartographicArrayToCartesianArray(Q,X);var n=t.geodeticSurfaceNormalCartographic(M.center(e,W));C.fromAxisAngle(n,r,Y),I.fromQuaternion(Y,V);for(var i=0;i<4;++i)I.multiplyByVector(V,X[i],X[i]);return t.cartesianArrayToCartographicArray(X,Q),M.fromCartographicArray(Q)}function h(e){e=w(e,w.EMPTY_OBJECT);var t=e.rectangle,r=w(e.granularity,O.RADIANS_PER_DEGREE),n=w(e.ellipsoid,_.WGS84),i=w(e.height,0),o=w(e.rotation,0),a=w(e.stRotation,0),s=w(e.vertexFormat,q.DEFAULT),u=e.extrudedHeight,l=v(u),h=w(e.closeTop,!0),f=w(e.closeBottom,!0);if(!v(t))throw new y("rectangle is required.");if(M.validate(t),t.north<t.south)throw new y("options.rectangle.north must be greater than options.rectangle.south");this._rectangle=t,this._granularity=r,this._ellipsoid=_.clone(n),this._surfaceHeight=i,this._rotation=o,this._stRotation=a,this._vertexFormat=q.clone(s),this._extrudedHeight=w(u,0),this._extrude=l,this._closeTop=h,this._closeBottom=f,this._workerName="createRectangleGeometry",this._rotatedRectangle=c(this._rectangle,this._ellipsoid,o)}var f=r(7),d=r(9),p=r(4),m=r(15),g=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),w=r(3),v=r(1),y=r(2),_=r(6),E=r(10),b=r(11),T=r(13),x=r(38),A=r(28),S=r(14),O=r(5),I=(r(62),r(17)),R=r(23),P=r(12),C=r(22),M=r(16),N=r(105),q=r(20),L=new p,F=new p,D=new p,z=new p,k=new M,U=new d,B=new f,j=new f,G=new p,H=new p,V=new I,W=new p,Y=new C,X=[new p,new p,new p,new p],Q=[new m,new m,new m,new m];h.packedLength=M.packedLength+_.packedLength+q.packedLength+M.packedLength+8,h.pack=function(e,t,r){if(!v(e))throw new y("value is required");if(!v(t))throw new y("array is required");return r=w(r,0),M.pack(e._rectangle,t,r),r+=M.packedLength,_.pack(e._ellipsoid,t,r),r+=_.packedLength,q.pack(e._vertexFormat,t,r),r+=q.packedLength,M.pack(e._rotatedRectangle,t,r),r+=M.packedLength,t[r++]=e._granularity,t[r++]=e._surfaceHeight,t[r++]=e._rotation,t[r++]=e._stRotation,t[r++]=e._extrudedHeight,t[r++]=e._extrude?1:0,t[r++]=e._closeTop?1:0,t[r]=e._closeBottom?1:0,t};var Z=new M,K=new M,J=_.clone(_.UNIT_SPHERE),$=new q,ee={rectangle:Z,ellipsoid:J,vertexFormat:$,granularity:void 0,height:void 0,rotation:void 0,stRotation:void 0,extrudedHeight:void 0,closeTop:void 0,closeBottom:void 0};h.unpack=function(e,t,r){if(!v(e))throw new y("array is required");t=w(t,0);var n=M.unpack(e,t,Z);t+=M.packedLength;var i=_.unpack(e,t,J);t+=_.packedLength;var o=q.unpack(e,t,$);t+=q.packedLength;var a=M.unpack(e,t,K);t+=M.packedLength;var s=e[t++],u=e[t++],l=e[t++],c=e[t++],f=e[t++],d=1===e[t++],p=1===e[t++],m=1===e[t];return v(r)?(r._rectangle=M.clone(n,r._rectangle),r._ellipsoid=_.clone(i,r._ellipsoid),r._vertexFormat=q.clone(o,r._vertexFormat),r._granularity=s,r._surfaceHeight=u,r._rotation=l,r._stRotation=c,r._extrudedHeight=d?f:void 0,r._extrude=d,r._closeTop=p,r._closeBottom=m,r._rotatedRectangle=a,r):(ee.granularity=s,ee.height=u,ee.rotation=l,ee.stRotation=c,ee.extrudedHeight=d?f:void 0,ee.closeTop=p,ee.closeBottom=m,new h(ee))};var te=new I,re=new m,ne=new m,ie=new C,oe=new m;h.createGeometry=function(e){if(!O.equalsEpsilon(e._rectangle.north,e._rectangle.south,O.EPSILON10)&&!O.equalsEpsilon(e._rectangle.east,e._rectangle.west,O.EPSILON10)){var t=M.clone(e._rectangle,k),r=e._ellipsoid,n=e._surfaceHeight,i=e._extrude,o=e._extrudedHeight,s=e._rotation,u=e._stRotation,c=e._vertexFormat,h=N.computeOptions(e,t,re,ne),d=te;if(0!==u||0!==s){var p=M.center(t,oe),m=r.geodeticSurfaceNormalCartographic(p,G);C.fromAxisAngle(m,-u,ie),I.fromQuaternion(ie,d)}else I.clone(I.IDENTITY,d);h.lonScalar=1/e._rectangle.width,h.latScalar=1/e._rectangle.height,h.vertexFormat=c,h.rotation=s,h.stRotation=u,h.tangentRotationMatrix=d,h.size=h.width*h.height;var g,w;if(t=e._rectangle,i){g=l(h);var v=f.fromRectangle3D(t,r,n,j),y=f.fromRectangle3D(t,r,o,B);w=f.union(v,y)}else g=a(h),g.attributes.position.values=R.scaleToGeodeticHeight(g.attributes.position.values,n,r,!1),w=f.fromRectangle3D(t,r,n);return c.position||delete g.attributes.position,new E({attributes:new T(g.attributes),indices:g.indices,primitiveType:g.primitiveType,boundingSphere:w})}},h.createShadowVolume=function(e,t,r){var n=e._granularity,i=e._ellipsoid,o=t(n,i),a=r(n,i);return new h({rectangle:e._rectangle,rotation:e._rotation,ellipsoid:i,stRotation:e._stRotation,granularity:n,extrudedHeight:a,height:o,closeTop:!0,closeBottom:!0,vertexFormat:q.POSITION_ONLY})},Object.defineProperties(h.prototype,{rectangle:{get:function(){return this._rotatedRectangle}}}),e.exports=h},function(e,t,r){"use strict";function n(e){var t,r=e.size,n=e.height,i=e.width,o=new Float64Array(3*r),a=0,s=0,u=A;for(t=0;t<i;t++)b.computePosition(e,s,t,u),o[a++]=u.x,o[a++]=u.y,o[a++]=u.z;for(t=i-1,s=1;s<n;s++)b.computePosition(e,s,t,u),o[a++]=u.x,o[a++]=u.y,o[a++]=u.z;for(s=n-1,t=i-2;t>=0;t--)b.computePosition(e,s,t,u),o[a++]=u.x,o[a++]=u.y,o[a++]=u.z;for(t=0,s=n-2;s>0;s--)b.computePosition(e,s,t,u),o[a++]=u.x,o[a++]=u.y,o[a++]=u.z;for(var c=o.length/3*2,h=w.createTypedArray(o.length/3,c),f=0,d=0;d<o.length/3-1;d++)h[f++]=d,h[f++]=d+1;h[f++]=o.length/3-1,h[f++]=0;var v=new p({attributes:new g,primitiveType:_.LINES});return v.attributes.position=new m({componentDatatype:l.DOUBLE,componentsPerAttribute:3,values:o}),v.indices=h,v}function i(e){var t=e.surfaceHeight,r=e.extrudedHeight,i=e.ellipsoid,o=Math.min(r,t),a=Math.max(r,t),s=n(e);if(v.equalsEpsilon(o,a,v.EPSILON10))return s;var u=e.height,l=e.width,c=y.scaleToGeodeticHeight(s.attributes.position.values,a,i,!1),h=c.length,f=new Float64Array(2*h);f.set(c);var d=y.scaleToGeodeticHeight(s.attributes.position.values,o,i);f.set(d,h),s.attributes.position.values=f;var p=f.length/3*2+8,m=w.createTypedArray(f.length/3,p);h=f.length/6;for(var g=0,_=0;_<h-1;_++)m[g++]=_,m[g++]=_+1,m[g++]=_+h,m[g++]=_+h+1;return m[g++]=h-1,m[g++]=0,m[g++]=h+h-1,m[g++]=h,m[g++]=0,m[g++]=h,m[g++]=l-1,m[g++]=h+l-1,m[g++]=l+u-2,m[g++]=l+u-2+h,m[g++]=2*l+u-3,m[g++]=2*l+u-3+h,s.indices=m,s}function o(e){e=c(e,c.EMPTY_OBJECT);var t=e.rectangle,r=c(e.granularity,v.RADIANS_PER_DEGREE),n=c(e.ellipsoid,d.WGS84),i=c(e.height,0),o=c(e.rotation,0),a=e.extrudedHeight;if(!h(t))throw new f("rectangle is required.");if(E.validate(t),t.north<t.south)throw new f("options.rectangle.north must be greater than options.rectangle.south");this._rectangle=t,this._granularity=r,this._ellipsoid=n,this._surfaceHeight=i,this._rotation=o,this._extrudedHeight=a,this._workerName="createRectangleOutlineGeometry"}var a=r(7),s=r(4),u=r(15),l=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),c=r(3),h=r(1),f=r(2),d=r(6),p=r(10),m=r(11),g=r(13),w=r(14),v=r(5),y=r(23),_=r(12),E=r(16),b=r(105),T=new a,x=new a,A=new s,S=new E;o.packedLength=E.packedLength+d.packedLength+5,o.pack=function(e,t,r){if(!h(e))throw new f("value is required");if(!h(t))throw new f("array is required");return r=c(r,0),E.pack(e._rectangle,t,r),r+=E.packedLength,d.pack(e._ellipsoid,t,r),r+=d.packedLength,t[r++]=e._granularity,t[r++]=e._surfaceHeight,t[r++]=e._rotation,t[r++]=h(e._extrudedHeight)?1:0,t[r]=c(e._extrudedHeight,0),t};var O=new E,I=d.clone(d.UNIT_SPHERE),R={rectangle:O,ellipsoid:I,granularity:void 0,height:void 0,rotation:void 0,extrudedHeight:void 0};o.unpack=function(e,t,r){if(!h(e))throw new f("array is required");t=c(t,0);var n=E.unpack(e,t,O);t+=E.packedLength;var i=d.unpack(e,t,I);t+=d.packedLength;var a=e[t++],s=e[t++],u=e[t++],l=e[t++],p=e[t];return h(r)?(r._rectangle=E.clone(n,r._rectangle),r._ellipsoid=d.clone(i,r._ellipsoid),r._surfaceHeight=s,r._rotation=u,r._extrudedHeight=l?p:void 0,r):(R.granularity=a,R.height=s,R.rotation=u,R.extrudedHeight=l?p:void 0,new o(R))};var P=new u;o.createGeometry=function(e){var t=E.clone(e._rectangle,S),r=e._ellipsoid,o=e._surfaceHeight,s=e._extrudedHeight,u=b.computeOptions(e,t,P);u.size=2*u.width+2*u.height-4;var l,c;if(t=e._rectangle,!v.equalsEpsilon(t.north,t.south,v.EPSILON10)&&!v.equalsEpsilon(t.east,t.west,v.EPSILON10)){if(h(s)){l=i(u);var f=a.fromRectangle3D(t,r,o,x),d=a.fromRectangle3D(t,r,s,T);c=a.union(f,d)}else l=n(u),l.attributes.position.values=y.scaleToGeodeticHeight(l.attributes.position.values,o,r,!1),c=a.fromRectangle3D(t,r,o);return new p({attributes:l.attributes,indices:l.indices,primitiveType:_.LINES,boundingSphere:c})}},e.exports=o},function(e,t){"use strict";var r={FIXED:0,INERTIAL:1};e.exports=Object.freeze(r)},function(e,t,r){"use strict";function n(e,t,r){var n=e._element;if(n===document)return r.x=t.clientX,r.y=t.clientY,r;var i=n.getBoundingClientRect();return r.x=t.clientX-i.left,r.y=t.clientY-i.top,r}function i(e,t){var r=e;return I(t)&&(r+="+"+t),r}function o(e){return e.shiftKey?N.SHIFT:e.ctrlKey?N.CTRL:e.altKey?N.ALT:void 0}function a(e,t,r,n){function i(t){n(e,t)}r.addEventListener(t,i,!1),e._removalFunctions.push(function(){r.removeEventListener(t,i,!1)})}function s(e){var t=e._element,r=I(t.disableRootEvents)?t:document;C.supportsPointerEvents()?(a(e,"pointerdown",t,E),a(e,"pointerup",t,b),a(e,"pointermove",t,T),a(e,"pointercancel",t,b)):(a(e,"mousedown",t,h),a(e,"mouseup",r,f),a(e,"mousemove",r,d),a(e,"touchstart",t,g),a(e,"touchend",r,w),a(e,"touchmove",r,y),a(e,"touchcancel",r,w)),a(e,"dblclick",t,p);var n;n="onwheel"in t?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",a(e,n,t,m)}function u(e){for(var t=e._removalFunctions,r=0;r<t.length;++r)t[r]()}function l(e){e._lastSeenTouchEvent=M()}function c(e){return M()-e._lastSeenTouchEvent>x.mouseEmulationIgnoreMilliseconds}function h(e,t){if(c(e)){var r=t.button;e._buttonDown=r;var i;if(r===L.LEFT)i=q.LEFT_DOWN;else if(r===L.MIDDLE)i=q.MIDDLE_DOWN;else{if(r!==L.RIGHT)return;i=q.RIGHT_DOWN}var a=n(e,t,e._primaryPosition);S.clone(a,e._primaryStartPosition),S.clone(a,e._primaryPreviousPosition);var s=o(t),u=e.getInputAction(i,s);I(u)&&(S.clone(a,F.position),u(F),t.preventDefault())}}function f(e,t){if(c(e)){var r=t.button;e._buttonDown=void 0;var i,a;if(r===L.LEFT)i=q.LEFT_UP,a=q.LEFT_CLICK;else if(r===L.MIDDLE)i=q.MIDDLE_UP,a=q.MIDDLE_CLICK;else{if(r!==L.RIGHT)return;i=q.RIGHT_UP,a=q.RIGHT_CLICK}var s=o(t),u=e.getInputAction(i,s),l=e.getInputAction(a,s);if(I(u)||I(l)){var h=n(e,t,e._primaryPosition);if(I(u)&&(S.clone(h,D.position),u(D)),I(l)){var f=e._primaryStartPosition,d=f.x-h.x,p=f.y-h.y,m=Math.sqrt(d*d+p*p);m<e._clickPixelTolerance&&(S.clone(h,z.position),l(z))}}}}function d(e,t){if(c(e)){var r=o(t),i=n(e,t,e._primaryPosition),a=e._primaryPreviousPosition,s=e.getInputAction(q.MOUSE_MOVE,r);I(s)&&(S.clone(a,k.startPosition),S.clone(i,k.endPosition),s(k)),S.clone(i,a),I(e._buttonDown)&&t.preventDefault()}}function p(e,t){var r,i=t.button;if(i===L.LEFT)r=q.LEFT_DOUBLE_CLICK;else if(i===L.MIDDLE)r=q.MIDDLE_DOUBLE_CLICK;else{if(i!==L.RIGHT)return;r=q.RIGHT_DOUBLE_CLICK}var a=o(t),s=e.getInputAction(r,a);I(s)&&(n(e,t,U.position),
s(U))}function m(e,t){var r;if(I(t.deltaY)){var n=t.deltaMode;r=n===t.DOM_DELTA_PIXEL?-t.deltaY:n===t.DOM_DELTA_LINE?40*-t.deltaY:120*-t.deltaY}else r=t.detail>0?t.detail*-120:t.wheelDelta;if(I(r)){var i=o(t),a=e.getInputAction(q.WHEEL,i);I(a)&&(a(r),t.preventDefault())}}function g(e,t){l(e);var r,i,o,a=t.changedTouches,s=a.length,u=e._positions;for(r=0;r<s;++r)i=a[r],o=i.identifier,u.set(o,n(e,i,new S));v(e,t);var c=e._previousPositions;for(r=0;r<s;++r)i=a[r],o=i.identifier,c.set(o,S.clone(u.get(o)))}function w(e,t){l(e);var r,n,i,o=t.changedTouches,a=o.length,s=e._positions;for(r=0;r<a;++r)n=o[r],i=n.identifier,s.remove(i);v(e,t);var u=e._previousPositions;for(r=0;r<a;++r)n=o[r],i=n.identifier,u.remove(i)}function v(e,t){var r,n,i=o(t),a=e._positions,s=e._previousPositions,u=a.length;if(1!==u&&e._buttonDown===L.LEFT&&(e._buttonDown=void 0,r=e.getInputAction(q.LEFT_UP,i),I(r)&&(S.clone(e._primaryPosition,G.position),r(G)),0===u&&(n=e.getInputAction(q.LEFT_CLICK,i),I(n)))){var l=e._primaryStartPosition,c=s.values[0],h=l.x-c.x,f=l.y-c.y,d=Math.sqrt(h*h+f*f);d<e._clickPixelTolerance&&(S.clone(e._primaryPosition,H.position),n(H))}if(2!==u&&e._isPinching&&(e._isPinching=!1,r=e.getInputAction(q.PINCH_END,i),I(r)&&r()),1===u){var p=a.values[0];S.clone(p,e._primaryPosition),S.clone(p,e._primaryStartPosition),S.clone(p,e._primaryPreviousPosition),e._buttonDown=L.LEFT,r=e.getInputAction(q.LEFT_DOWN,i),I(r)&&(S.clone(p,B.position),r(B)),t.preventDefault()}2===u&&(e._isPinching=!0,r=e.getInputAction(q.PINCH_START,i),I(r)&&(S.clone(a.values[0],j.position1),S.clone(a.values[1],j.position2),r(j),t.preventDefault()))}function y(e,t){l(e);var r,i,o,a=t.changedTouches,s=a.length,u=e._positions;for(r=0;r<s;++r){i=a[r],o=i.identifier;var c=u.get(o);I(c)&&n(e,i,c)}_(e,t);var h=e._previousPositions;for(r=0;r<s;++r)i=a[r],o=i.identifier,S.clone(u.get(o),h.get(o))}function _(e,t){var r,n=o(t),i=e._positions,a=e._previousPositions,s=i.length;if(1===s&&e._buttonDown===L.LEFT){var u=i.values[0];S.clone(u,e._primaryPosition);var l=e._primaryPreviousPosition;r=e.getInputAction(q.MOUSE_MOVE,n),I(r)&&(S.clone(l,V.startPosition),S.clone(u,V.endPosition),r(V)),S.clone(u,l),t.preventDefault()}else if(2===s&&e._isPinching&&(r=e.getInputAction(q.PINCH_MOVE,n),I(r))){var c=i.values[0],h=i.values[1],f=a.values[0],d=a.values[1],p=h.x-c.x,m=h.y-c.y,g=.25*Math.sqrt(p*p+m*m),w=d.x-f.x,v=d.y-f.y,y=.25*Math.sqrt(w*w+v*v),_=.125*(h.y+c.y),E=.125*(d.y+f.y),b=Math.atan2(m,p),T=Math.atan2(v,w);S.fromElements(0,y,W.distance.startPosition),S.fromElements(0,g,W.distance.endPosition),S.fromElements(T,E,W.angleAndHeight.startPosition),S.fromElements(b,_,W.angleAndHeight.endPosition),r(W)}}function E(e,t){if(t.target.setPointerCapture(t.pointerId),"touch"===t.pointerType){var r=e._positions,i=t.pointerId;r.set(i,n(e,t,new S)),v(e,t);var o=e._previousPositions;o.set(i,S.clone(r.get(i)))}else h(e,t)}function b(e,t){if("touch"===t.pointerType){var r=e._positions,n=t.pointerId;r.remove(n),v(e,t);var i=e._previousPositions;i.remove(n)}else f(e,t)}function T(e,t){if("touch"===t.pointerType){var r=e._positions,i=t.pointerId,o=r.get(i);if(!I(o))return;n(e,t,o),_(e,t);var a=e._previousPositions;S.clone(r.get(i),a.get(i))}else d(e,t)}function x(e){this._inputEvents={},this._buttonDown=void 0,this._isPinching=!1,this._lastSeenTouchEvent=-x.mouseEmulationIgnoreMilliseconds,this._primaryStartPosition=new S,this._primaryPosition=new S,this._primaryPreviousPosition=new S,this._positions=new A,this._previousPositions=new A,this._removalFunctions=[],this._clickPixelTolerance=5,this._element=O(e,document),s(this)}var A=r(80),S=r(9),O=r(3),I=r(1),R=r(56),P=r(2),C=r(50),M=r(76),N=r(101),q=r(107),L={LEFT:0,MIDDLE:1,RIGHT:2},F={position:new S},D={position:new S},z={position:new S},k={startPosition:new S,endPosition:new S},U={position:new S},B={position:new S},j={position1:new S,position2:new S},G={position:new S},H={position:new S},V={startPosition:new S,endPosition:new S},W={distance:{startPosition:new S,endPosition:new S},angleAndHeight:{startPosition:new S,endPosition:new S}};x.prototype.setInputAction=function(e,t,r){if(!I(e))throw new P("action is required.");if(!I(t))throw new P("type is required.");var n=i(t,r);this._inputEvents[n]=e},x.prototype.getInputAction=function(e,t){if(!I(e))throw new P("type is required.");var r=i(e,t);return this._inputEvents[r]},x.prototype.removeInputAction=function(e,t){if(!I(e))throw new P("type is required.");var r=i(e,t);delete this._inputEvents[r]},x.prototype.isDestroyed=function(){return!1},x.prototype.destroy=function(){return u(this),R(this)},x.mouseEmulationIgnoreMilliseconds=800,e.exports=x},function(e,t,r){"use strict";function n(e){e=o(e,!0),this.value=n.toValue(e)}var i=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),o=r(3),a=r(1),s=r(2);Object.defineProperties(n.prototype,{componentDatatype:{get:function(){return i.UNSIGNED_BYTE}},componentsPerAttribute:{get:function(){return 1}},normalize:{get:function(){return!1}}}),n.toValue=function(e,t){if(!a(e))throw new s("show is required.");return a(t)?(t[0]=e,t):new Uint8Array([e])},e.exports=n},function(e,t,r){"use strict";function n(e){var t=6.239996+.0172019696544*e;return.001657*Math.sin(t+.01671*Math.sin(t))}function i(e,t){t=w.addSeconds(e,T,t);var r=w.totalDays(t)-x;return t=w.addSeconds(t,n(r),t)}function o(e,t,r,n,i,o,u){if(r<0&&(r=-r,i+=v.PI),r<0||r>v.PI)throw new g("The inclination is out of range. Inclination must be greater than or equal to zero and less than or equal to Pi radians.");var l=e*(1-t),h=n-i,f=i,d=s(o-n,t),w=a(t,0);if("Hyperbolic"===w&&Math.abs(v.negativePiToPi(d))>=Math.acos(-1/t))throw new g("The true anomaly of the hyperbolic orbit lies outside of the bounds of the hyperbola.");c(h,r,f,P);var _=l*(1+t),E=Math.cos(d),b=Math.sin(d),T=1+t*E;if(T<=v.Epsilon10)throw new g("elements cannot be converted to cartesian");var x=_/T;return m(u)?(u.x=x*E,u.y=x*b,u.z=0):u=new p(x*E,x*b,0),y.multiplyByVector(P,u,u)}function a(e,t){if(e<0)throw new g("eccentricity cannot be negative.");return e<=t?"Circular":e<1-t?"Elliptical":e<=1+t?"Parabolic":"Hyperbolic"}function s(e,t){if(t<0||t>=1)throw new g("eccentricity out of range.");var r=u(e,t);return l(r,t)}function u(e,t){if(t<0||t>=1)throw new g("eccentricity out of range.");var r=Math.floor(e/v.TWO_PI);e-=r*v.TWO_PI;var n,i=e+t*Math.sin(e)/(1-Math.sin(e+t)+Math.sin(e)),o=Number.MAX_VALUE;for(n=0;n<C&&Math.abs(o-i)>M;++n){o=i;var a=o-t*Math.sin(o)-e,s=1-t*Math.cos(o);i=o-a/s}if(n>=C)throw new g("Kepler equation did not converge");return o=i+r*v.TWO_PI}function l(e,t){if(t<0||t>=1)throw new g("eccentricity out of range.");var r=Math.floor(e/v.TWO_PI);e-=r*v.TWO_PI;var n=Math.cos(e)-t,i=Math.sin(e)*Math.sqrt(1-t*t),o=Math.atan2(i,n);return o=v.zeroToTwoPi(o),e<0&&(o-=v.TWO_PI),o+=r*v.TWO_PI}function c(e,t,r,n){if(t<0||t>v.PI)throw new g("inclination out of range");var i=Math.cos(e),o=Math.sin(e),a=Math.cos(t),s=Math.sin(t),u=Math.cos(r),l=Math.sin(r);return m(n)?(n[0]=u*i-l*o*a,n[1]=l*i+u*o*a,n[2]=o*s,n[3]=-u*o-l*i*a,n[4]=-l*o+u*i*a,n[5]=i*s,n[6]=l*s,n[7]=-u*s,n[8]=a):n=new y(u*i-l*o*a,-u*o-l*i*a,l*s,l*i+u*o*a,-l*o+u*i*a,-u*s,o*s,i*s,a),n}function h(e,t){i(e,Pe);var r=Pe.dayNumber-A.dayNumber+(Pe.secondsOfDay-A.secondsOfDay)/_.SECONDS_PER_DAY,n=r/(10*_.DAYS_PER_JULIAN_CENTURY),a=.3595362*n,s=N+H*Math.cos(F*a)+J*Math.sin(F*a)+V*Math.cos(D*a)+$*Math.sin(D*a)+W*Math.cos(z*a)+ee*Math.sin(z*a)+Y*Math.cos(k*a)+te*Math.sin(k*a)+X*Math.cos(U*a)+re*Math.sin(U*a)+Q*Math.cos(B*a)+ne*Math.sin(B*a)+Z*Math.cos(j*a)+ie*Math.sin(j*a)+K*Math.cos(G*a)+oe*Math.sin(G*a),u=q+L*n+pe*Math.cos(ae*a)+be*Math.sin(ae*a)+me*Math.cos(se*a)+Te*Math.sin(se*a)+ge*Math.cos(ue*a)+xe*Math.sin(ue*a)+we*Math.cos(le*a)+Ae*Math.sin(le*a)+ve*Math.cos(ce*a)+Se*Math.sin(ce*a)+ye*Math.cos(he*a)+Oe*Math.sin(he*a)+_e*Math.cos(fe*a)+Ie*Math.sin(fe*a)+Ee*Math.cos(de*a)+Re*Math.sin(de*a),l=.0167086342-.0004203654*n,c=102.93734808*O+11612.3529*I*n,h=469.97289*I*n,f=174.87317577*O-8679.27034*I*n;return o(s,l,h,c,f,u,t)}function f(e,t){i(e,Pe);var r=Pe.dayNumber-A.dayNumber+(Pe.secondsOfDay-A.secondsOfDay)/_.SECONDS_PER_DAY,n=r/_.DAYS_PER_JULIAN_CENTURY,a=n*n,s=a*n,u=s*n,l=383397.7725+.004*n,c=.055545526-1.6e-8*n,h=5.15668983*O,f=-8e-5*n+.02966*a-42e-6*s-1.3e-7*u,d=83.35324312*O,p=14643420.2669*n-38.2702*a-.045047*s+21301e-8*u,m=125.04455501*O,g=-6967919.3631*n+6.3602*a+.007625*s-3586e-8*u,w=218.31664563*O,v=1732559343.4847*n-6.391*a+.006588*s-3169e-8*u,y=297.85019547*O+I*(1602961601.209*n-6.3706*a+.006593*s-3169e-8*u),E=93.27209062*O+I*(1739527262.8478*n-12.7512*a-.001037*s+417e-8*u),b=134.96340251*O+I*(1717915923.2178*n+31.8792*a+.051635*s-2447e-7*u),T=357.52910918*O+I*(129596581.0481*n-.5532*a+136e-6*s-1149e-8*u),x=310.17137918*O-I*(6967051.436*n+6.2068*a+.007618*s-3219e-8*u),R=2*y,P=4*y,C=6*y,M=2*b,N=3*b,q=4*b,L=2*E;l+=3400.4*Math.cos(R)-635.6*Math.cos(R-b)-235.6*Math.cos(b)+218.1*Math.cos(R-T)+181*Math.cos(R+b),c+=.014216*Math.cos(R-b)+.008551*Math.cos(R-M)-.001383*Math.cos(b)+.001356*Math.cos(R+b)-.001147*Math.cos(P-N)-914e-6*Math.cos(P-M)+869e-6*Math.cos(R-T-b)-627e-6*Math.cos(R)-394e-6*Math.cos(P-q)+282e-6*Math.cos(R-T-M)-279e-6*Math.cos(y-b)-236e-6*Math.cos(M)+231e-6*Math.cos(P)+229e-6*Math.cos(C-q)-201e-6*Math.cos(M-L),f+=486.26*Math.cos(R-L)-40.13*Math.cos(R)+37.51*Math.cos(L)+25.73*Math.cos(M-L)+19.97*Math.cos(R-T-L),p+=-55609*Math.sin(R-b)-34711*Math.sin(R-M)-9792*Math.sin(b)+9385*Math.sin(P-N)+7505*Math.sin(P-M)+5318*Math.sin(R+b)+3484*Math.sin(P-q)-3417*Math.sin(R-T-b)-2530*Math.sin(C-q)-2376*Math.sin(R)-2075*Math.sin(R-N)-1883*Math.sin(M)-1736*Math.sin(C-5*b)+1626*Math.sin(T)-1370*Math.sin(C-N),g+=-5392*Math.sin(R-L)-540*Math.sin(T)-441*Math.sin(R)+423*Math.sin(L)-288*Math.sin(M-L),v+=-3332.9*Math.sin(R)+1197.4*Math.sin(R-b)-662.5*Math.sin(T)+396.3*Math.sin(b)-218*Math.sin(R-T);var F=2*x,D=3*x;f+=46.997*Math.cos(x)*n-.614*Math.cos(R-L+x)*n+.614*Math.cos(R-L-x)*n-.0297*Math.cos(F)*a-.0335*Math.cos(x)*a+.0012*Math.cos(R-L+F)*a-16e-5*Math.cos(x)*s+4e-5*Math.cos(D)*s+4e-5*Math.cos(F)*s;var z=2.116*Math.sin(x)*n-.111*Math.sin(R-L-x)*n-.0015*Math.sin(x)*a;p+=z,v+=z,g+=-520.77*Math.sin(x)*n+13.66*Math.sin(R-L+x)*n+1.12*Math.sin(R-x)*n-1.06*Math.sin(L-x)*n+.66*Math.sin(F)*a+.371*Math.sin(x)*a-.035*Math.sin(R-L+F)*a-.015*Math.sin(R-L+x)*a+.0014*Math.sin(x)*s-.0011*Math.sin(D)*s-9e-4*Math.sin(F)*s,l*=S;var k=h+f*I,U=d+p*I,B=w+v*I,j=m+g*I;return o(l,c,k,U,j,B,t)}function d(e,t){return t=f(e,t),p.multiplyByScalar(t,Me,t)}var p=r(4),m=r(1),g=r(2),w=r(21),v=r(5),y=r(17),_=r(44),E=r(45),b={},T=32.184,x=2451545,A=new w(2451545,0,E.TAI),S=1e3,O=v.RADIANS_PER_DEGREE,I=v.RADIANS_PER_ARCSECOND,R=14959787e4,P=new y,C=50,M=v.EPSILON8,N=1.0000010178*R,q=100.46645683*O,L=1295977422.83429*I,F=16002,D=21863,z=32004,k=10931,U=14529,B=16368,j=15318,G=32794,H=64e-7*R,V=-152e-7*R,W=62e-7*R,Y=-8e-7*R,X=32e-7*R,Q=-41e-7*R,Z=19e-7*R,K=-11e-7*R,J=1e-7*-150*R,$=-46e-7*R,ee=68*1e-7*R,te=54e-7*R,re=14e-7*R,ne=24e-7*R,ie=-28e-7*R,oe=22e-7*R,ae=10,se=16002,ue=21863,le=10931,ce=1473,he=32004,fe=4387,de=73,pe=-325e-7,me=-322e-7,ge=1e-7*-79,we=232*1e-7,ve=1e-7*-52,ye=97e-7,_e=55e-7,Ee=-41e-7,be=-105e-7,Te=-137e-7,xe=258e-7,Ae=35e-7,Se=1e-7*-116,Oe=-88e-7,Ie=-112e-7,Re=-8e-6,Pe=new w(0,0,E.TAI),Ce=.012300034,Me=Ce/(Ce+1)*-1,Ne=new y(1.0000000000000002,5.619723173785822e-16,4.690511510146299e-19,-5.154129427414611e-16,.9174820620691819,-.39777715593191376,-2.23970096136568e-16,.39777715593191376,.9174820620691819),qe=new p;b.computeSunPositionInEarthInertialFrame=function(e,t){return m(e)||(e=w.now()),m(t)||(t=new p),qe=h(e,qe),t=p.negate(qe,t),d(e,qe),p.subtract(t,qe,t),y.multiplyByVector(Ne,t,t),t},b.computeMoonPositionInEarthInertialFrame=function(e,t){return m(e)||(e=w.now()),t=f(e,t),y.multiplyByVector(Ne,t,t),t},e.exports=b},function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){var u,l=v.numberOfPoints(e,t,i),c=r.red,h=r.green,f=r.blue,d=r.alpha,p=n.red,m=n.green,g=n.blue,w=n.alpha;if(s.equals(r,n)){for(u=0;u<l;u++)o[a++]=s.floatToByte(c),o[a++]=s.floatToByte(h),o[a++]=s.floatToByte(f),o[a++]=s.floatToByte(d);return a}var y=(p-c)/l,_=(m-h)/l,E=(g-f)/l,b=(w-d)/l,T=a;for(u=0;u<l;u++)o[T++]=s.floatToByte(c+u*y),o[T++]=s.floatToByte(h+u*_),o[T++]=s.floatToByte(f+u*E),o[T++]=s.floatToByte(d+u*b);return T}function i(e){e=l(e,l.EMPTY_OBJECT);var t=e.positions,r=e.colors,n=l(e.colorsPerVertex,!1);if(!c(t)||t.length<2)throw new h("At least two positions are required.");if(c(r)&&(n&&r.length<t.length||!n&&r.length<t.length-1))throw new h("colors has an invalid length.");this._positions=t,this._colors=r,this._colorsPerVertex=n,this._followSurface=l(e.followSurface,!0),this._granularity=l(e.granularity,w.RADIANS_PER_DEGREE),this._ellipsoid=l(e.ellipsoid,f.WGS84),this._workerName="createSimplePolylineGeometry";var i=1+t.length*a.packedLength;i+=c(r)?1+r.length*s.packedLength:1,this.packedLength=i+f.packedLength+3}var o=r(7),a=r(4),s=r(31),u=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),l=r(3),c=r(1),h=r(2),f=r(6),d=r(10),p=r(11),m=r(13),g=r(14),w=r(5),v=r(40),y=r(12);i.pack=function(e,t,r){if(!c(e))throw new h("value is required");if(!c(t))throw new h("array is required");r=l(r,0);var n,i=e._positions,o=i.length;for(t[r++]=o,n=0;n<o;++n,r+=a.packedLength)a.pack(i[n],t,r);var u=e._colors;for(o=c(u)?u.length:0,t[r++]=o,n=0;n<o;++n,r+=s.packedLength)s.pack(u[n],t,r);return f.pack(e._ellipsoid,t,r),r+=f.packedLength,t[r++]=e._colorsPerVertex?1:0,t[r++]=e._followSurface?1:0,t[r]=e._granularity,t},i.unpack=function(e,t,r){if(!c(e))throw new h("array is required");t=l(t,0);var n,o=e[t++],u=new Array(o);for(n=0;n<o;++n,t+=a.packedLength)u[n]=a.unpack(e,t);o=e[t++];var d=o>0?new Array(o):void 0;for(n=0;n<o;++n,t+=s.packedLength)d[n]=s.unpack(e,t);var p=f.unpack(e,t);t+=f.packedLength;var m=1===e[t++],g=1===e[t++],w=e[t];return c(r)?(r._positions=u,r._colors=d,r._ellipsoid=p,r._colorsPerVertex=m,r._followSurface=g,r._granularity=w,r):new i({positions:u,colors:d,ellipsoid:p,colorsPerVertex:m,followSurface:g,granularity:w})};var _=new Array(2),E=new Array(2),b={positions:_,height:E,ellipsoid:void 0,minDistance:void 0};i.createGeometry=function(e){var t,r,i,l,h,f=e._positions,T=e._colors,x=e._colorsPerVertex,A=e._followSurface,S=e._granularity,O=e._ellipsoid,I=w.chordLength(S,O.maximumRadius),R=c(T)&&!x,P=f.length,C=0;if(A){var M=v.extractHeights(f,O),N=b;if(N.minDistance=I,N.ellipsoid=O,R){var q=0;for(t=0;t<P-1;t++)q+=v.numberOfPoints(f[t],f[t+1],I)+1;r=new Float64Array(3*q),l=new Uint8Array(4*q),N.positions=_,N.height=E;var L=0;for(t=0;t<P-1;++t){_[0]=f[t],_[1]=f[t+1],E[0]=M[t],E[1]=M[t+1];var F=v.generateArc(N);if(c(T)){var D=F.length/3;h=T[t];for(var z=0;z<D;++z)l[L++]=s.floatToByte(h.red),l[L++]=s.floatToByte(h.green),l[L++]=s.floatToByte(h.blue),l[L++]=s.floatToByte(h.alpha)}r.set(F,C),C+=F.length}}else if(N.positions=f,N.height=M,r=new Float64Array(v.generateArc(N)),c(T)){for(l=new Uint8Array(r.length/3*4),t=0;t<P-1;++t){var k=f[t],U=f[t+1],B=T[t],j=T[t+1];C=n(k,U,B,j,I,l,C)}var G=T[P-1];l[C++]=s.floatToByte(G.red),l[C++]=s.floatToByte(G.green),l[C++]=s.floatToByte(G.blue),l[C++]=s.floatToByte(G.alpha)}}else{i=R?2*P-2:P,r=new Float64Array(3*i),l=c(T)?new Uint8Array(4*i):void 0;var H=0,V=0;for(t=0;t<P;++t){var W=f[t];if(R&&t>0&&(a.pack(W,r,H),H+=3,h=T[t-1],l[V++]=s.floatToByte(h.red),l[V++]=s.floatToByte(h.green),l[V++]=s.floatToByte(h.blue),l[V++]=s.floatToByte(h.alpha)),R&&t===P-1)break;a.pack(W,r,H),H+=3,c(T)&&(h=T[t],l[V++]=s.floatToByte(h.red),l[V++]=s.floatToByte(h.green),l[V++]=s.floatToByte(h.blue),l[V++]=s.floatToByte(h.alpha))}}var Y=new m;Y.position=new p({componentDatatype:u.DOUBLE,componentsPerAttribute:3,values:r}),c(T)&&(Y.color=new p({componentDatatype:u.UNSIGNED_BYTE,componentsPerAttribute:4,values:l,normalize:!0})),i=r.length/3;var X=2*(i-1),Q=g.createTypedArray(i,X),Z=0;for(t=0;t<i-1;++t)Q[Z++]=t,Q[Z++]=t+1;return new d({attributes:Y,indices:Q,primitiveType:y.LINES,boundingSphere:o.fromPoints(f)})},e.exports=i},function(e,t,r){"use strict";function n(e){var t=o(e.radius,1),r=new i(t,t,t),n={radii:r,stackPartitions:e.stackPartitions,slicePartitions:e.slicePartitions,vertexFormat:e.vertexFormat};this._ellipsoidGeometry=new u(n),this._workerName="createSphereGeometry"}var i=r(4),o=r(3),a=r(1),s=r(2),u=r(92),l=r(20);n.packedLength=u.packedLength,n.pack=function(e,t,r){if(!a(e))throw new s("value is required");return u.pack(e._ellipsoidGeometry,t,r)};var c=new u,h={radius:void 0,radii:new i,vertexFormat:new l,stackPartitions:void 0,slicePartitions:void 0};n.unpack=function(e,t,r){var o=u.unpack(e,t,c);return h.vertexFormat=l.clone(o._vertexFormat,h.vertexFormat),h.stackPartitions=o._stackPartitions,h.slicePartitions=o._slicePartitions,a(r)?(i.clone(o._radii,h.radii),r._ellipsoidGeometry=new u(h),r):(h.radius=o._radii.x,new n(h))},n.createGeometry=function(e){return u.createGeometry(e._ellipsoidGeometry)},e.exports=n},function(e,t,r){"use strict";function n(e){var t=o(e.radius,1),r=new i(t,t,t),n={radii:r,stackPartitions:e.stackPartitions,slicePartitions:e.slicePartitions,subdivisions:e.subdivisions};this._ellipsoidGeometry=new u(n),this._workerName="createSphereOutlineGeometry"}var i=r(4),o=r(3),a=r(1),s=r(2),u=r(93);n.packedLength=u.packedLength,n.pack=function(e,t,r){if(!a(e))throw new s("value is required");return u.pack(e._ellipsoidGeometry,t,r)};var l=new u,c={radius:void 0,radii:new i,stackPartitions:void 0,slicePartitions:void 0,subdivisions:void 0};n.unpack=function(e,t,r){var o=u.unpack(e,t,l);return c.stackPartitions=o._stackPartitions,c.slicePartitions=o._slicePartitions,c.subdivisions=o._subdivisions,a(r)?(i.clone(o._radii,c.radii),r._ellipsoidGeometry=new u(c),r):(c.radius=o._radii.x,new n(c))},n.createGeometry=function(e){return u.createGeometry(e._ellipsoidGeometry)},e.exports=n},function(e,t,r){"use strict";function n(e,t,r){this.clock=i(e,0),this.cone=i(t,0),this.magnitude=i(r,1)}var i=r(3),o=r(1),a=r(2);n.fromCartesian3=function(e,t){if(!o(e))throw new a("cartesian3 is required");var r=e.x,i=e.y,s=e.z,u=r*r+i*i;return o(t)||(t=new n),t.clock=Math.atan2(i,r),t.cone=Math.atan2(Math.sqrt(u),s),t.magnitude=Math.sqrt(u+s*s),t},n.clone=function(e,t){if(o(e))return o(t)?(t.clock=e.clock,t.cone=e.cone,t.magnitude=e.magnitude,t):new n(e.clock,e.cone,e.magnitude)},n.normalize=function(e,t){if(!o(e))throw new a("spherical is required");return o(t)?(t.clock=e.clock,t.cone=e.cone,t.magnitude=1,t):new n(e.clock,e.cone,1)},n.equals=function(e,t){return e===t||o(e)&&o(t)&&e.clock===t.clock&&e.cone===t.cone&&e.magnitude===t.magnitude},n.equalsEpsilon=function(e,t,r){return r=i(r,0),e===t||o(e)&&o(t)&&Math.abs(e.clock-t.clock)<=r&&Math.abs(e.cone-t.cone)<=r&&Math.abs(e.magnitude-t.magnitude)<=r},n.prototype.equals=function(e){return n.equals(this,e)},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equalsEpsilon=function(e,t){return n.equalsEpsilon(this,e,t)},n.prototype.toString=function(){return"("+this.clock+", "+this.cone+", "+this.magnitude+")"},e.exports=n},function(e,t,r){"use strict";function n(){i.throwInstantiationError()}var i=r(2);Object.defineProperties(n.prototype,{waterMask:{get:i.throwInstantiationError}}),n.prototype.interpolateHeight=i.throwInstantiationError,n.prototype.isChildAvailable=i.throwInstantiationError,n.prototype.createMesh=i.throwInstantiationError,n.prototype.upsample=i.throwInstantiationError,n.prototype.wasCreatedByUpsampling=i.throwInstantiationError,e.exports=n},function(e,t){"use strict";var r={NONE:0,BITS12:1};e.exports=Object.freeze(r)},function(e,t,r){"use strict";function n(e){throw new i("This type should not be instantiated directly.  Instead, use WebMercatorTilingScheme or GeographicTilingScheme.")}var i=r(2);Object.defineProperties(n.prototype,{ellipsoid:{get:i.throwInstantiationError},rectangle:{get:i.throwInstantiationError},projection:{get:i.throwInstantiationError}}),n.prototype.getNumberOfXTilesAtLevel=i.throwInstantiationError,n.prototype.getNumberOfYTilesAtLevel=i.throwInstantiationError,n.prototype.rectangleToNativeRectangle=i.throwInstantiationError,n.prototype.tileXYToNativeRectangle=i.throwInstantiationError,n.prototype.tileXYToRectangle=i.throwInstantiationError,n.prototype.positionToTileXY=i.throwInstantiationError,e.exports=n},function(e,t,r){"use strict";function n(e,t){return c.compare(e.start,t.start)}function i(e){if(this._intervals=[],this._changedEvent=new l,s(e))for(var t=e.length,r=0;r<t;r++)this.addInterval(e[r])}var o=r(54),a=r(3),s=r(1),u=r(2),l=r(33),c=r(21),h=r(69);Object.defineProperties(i.prototype,{changedEvent:{get:function(){return this._changedEvent}},start:{get:function(){var e=this._intervals;return 0===e.length?void 0:e[0].start}},isStartIncluded:{get:function(){var e=this._intervals;return 0!==e.length&&e[0].isStartIncluded}},stop:{get:function(){var e=this._intervals,t=e.length;return 0===t?void 0:e[t-1].stop}},isStopIncluded:{get:function(){var e=this._intervals,t=e.length;return 0!==t&&e[t-1].isStopIncluded}},length:{get:function(){return this._intervals.length}},isEmpty:{get:function(){return 0===this._intervals.length}}}),i.prototype.equals=function(e,t){if(this===e)return!0;if(!(e instanceof i))return!1;var r=this._intervals,n=e._intervals,o=r.length;if(o!==n.length)return!1;for(var a=0;a<o;a++)if(!h.equals(r[a],n[a],t))return!1;return!0},i.prototype.get=function(e){if(!s(e))throw new u("index is required.");return this._intervals[e]},i.prototype.removeAll=function(){this._intervals.length>0&&(this._intervals.length=0,this._changedEvent.raiseEvent(this))},i.prototype.findIntervalContainingDate=function(e){var t=this.indexOf(e);return t>=0?this._intervals[t]:void 0},i.prototype.findDataForIntervalContainingDate=function(e){var t=this.indexOf(e);return t>=0?this._intervals[t].data:void 0},i.prototype.contains=function(e){return this.indexOf(e)>=0};var f=new h;i.prototype.indexOf=function(e){if(!s(e))throw new u("date is required");var t=this._intervals;f.start=e,f.stop=e;var r=o(t,f,n);return r>=0?t[r].isStartIncluded?r:r>0&&t[r-1].stop.equals(e)&&t[r-1].isStopIncluded?r-1:~r:(r=~r,r>0&&r-1<t.length&&h.contains(t[r-1],e)?r-1:~r)},i.prototype.findInterval=function(e){e=a(e,a.EMPTY_OBJECT);for(var t=e.start,r=e.stop,n=e.isStartIncluded,i=e.isStopIncluded,o=this._intervals,u=0,l=o.length;u<l;u++){var c=o[u];if((!s(t)||c.start.equals(t))&&(!s(r)||c.stop.equals(r))&&(!s(n)||c.isStartIncluded===n)&&(!s(i)||c.isStopIncluded===i))return o[u]}},i.prototype.addInterval=function(e,t){if(!s(e))throw new u("interval is required");if(!e.isEmpty){var r,i,a=this._intervals;if(0===a.length||c.greaterThan(e.start,a[a.length-1].stop))return a.push(e),void this._changedEvent.raiseEvent(this);for(i=o(a,e,n),i<0?i=~i:i>0&&e.isStartIncluded&&a[i-1].isStartIncluded&&a[i-1].start.equals(e.start)?--i:i<a.length&&!e.isStartIncluded&&a[i].isStartIncluded&&a[i].start.equals(e.start)&&++i,i>0&&(r=c.compare(a[i-1].stop,e.start),(r>0||0===r&&(a[i-1].isStopIncluded||e.isStartIncluded))&&((s(t)?t(a[i-1].data,e.data):a[i-1].data===e.data)?(e=new h(c.greaterThan(e.stop,a[i-1].stop)?{start:a[i-1].start,stop:e.stop,isStartIncluded:a[i-1].isStartIncluded,isStopIncluded:e.isStopIncluded,data:e.data}:{start:a[i-1].start,stop:a[i-1].stop,isStartIncluded:a[i-1].isStartIncluded,isStopIncluded:a[i-1].isStopIncluded||e.stop.equals(a[i-1].stop)&&e.isStopIncluded,data:e.data}),a.splice(i-1,1),--i):(r=c.compare(a[i-1].stop,e.stop),r>0||0===r&&a[i-1].isStopIncluded&&!e.isStopIncluded?a.splice(i-1,1,new h({start:a[i-1].start,stop:e.start,isStartIncluded:a[i-1].isStartIncluded,isStopIncluded:!e.isStartIncluded,data:a[i-1].data}),new h({start:e.stop,stop:a[i-1].stop,isStartIncluded:!e.isStopIncluded,isStopIncluded:a[i-1].isStopIncluded,data:a[i-1].data})):a[i-1]=new h({start:a[i-1].start,stop:e.start,isStartIncluded:a[i-1].isStartIncluded,isStopIncluded:!e.isStartIncluded,data:a[i-1].data}))));i<a.length&&(r=c.compare(e.stop,a[i].start),r>0||0===r&&(e.isStopIncluded||a[i].isStartIncluded));)if(s(t)?t(a[i].data,e.data):a[i].data===e.data)e=new h({start:e.start,stop:c.greaterThan(a[i].stop,e.stop)?a[i].stop:e.stop,isStartIncluded:e.isStartIncluded,isStopIncluded:c.greaterThan(a[i].stop,e.stop)?a[i].isStopIncluded:e.isStopIncluded,data:e.data}),a.splice(i,1);else{if(a[i]=new h({start:e.stop,stop:a[i].stop,isStartIncluded:!e.isStopIncluded,isStopIncluded:a[i].isStopIncluded,data:a[i].data}),!a[i].isEmpty)break;a.splice(i,1)}a.splice(i,0,e),this._changedEvent.raiseEvent(this)}},i.prototype.removeInterval=function(e){if(!s(e))throw new u("interval is required");if(e.isEmpty)return!1;var t=!1,r=this._intervals,i=o(r,e,n);i<0&&(i=~i);var a=e.start,l=e.stop,f=e.isStartIncluded,d=e.isStopIncluded;if(i>0){var p=r[i-1],m=p.stop;(c.greaterThan(m,a)||h.equals(m,a)&&p.isStopIncluded&&f)&&(t=!0,(c.greaterThan(m,l)||p.isStopIncluded&&!d&&h.equals(m,l))&&r.splice(i,0,new h({start:l,stop:m,isStartIncluded:!d,isStopIncluded:p.isStopIncluded,data:p.data})),r[i-1]=new h({start:p.start,stop:a,isStartIncluded:p.isStartIncluded,isStopIncluded:!f,data:p.data}))}var g=r[i];for(i<r.length&&!f&&g.isStartIncluded&&a.equals(g.start)&&(t=!0,r.splice(i,0,new h({start:g.start,stop:g.start,isStartIncluded:!0,isStopIncluded:!0,data:g.data})),++i,g=r[i]);i<r.length&&c.greaterThan(l,g.stop);)t=!0,r.splice(i,1),g=r[i];return i<r.length&&l.equals(g.stop)&&(t=!0,!d&&g.isStopIncluded?(i+1<r.length&&r[i+1].start.equals(l)&&g.data===r[i+1].data?(r.splice(i,1),g=new h({start:g.start,stop:g.stop,isStartIncluded:!0,isStopIncluded:g.isStopIncluded,data:g.data})):g=new h({start:l,stop:l,isStartIncluded:!0,isStopIncluded:!0,data:g.data}),r[i]=g):r.splice(i,1)),i<r.length&&(c.greaterThan(l,g.start)||l.equals(g.start)&&d&&g.isStartIncluded)&&(t=!0,r[i]=new h({start:l,stop:g.stop,isStartIncluded:!d,isStopIncluded:g.isStopIncluded,data:g.data})),t&&this._changedEvent.raiseEvent(this),t},i.prototype.intersect=function(e,t,r){if(!s(e))throw new u("other is required.");for(var n=0,o=0,a=new i,l=this._intervals,f=e._intervals;n<l.length&&o<f.length;){var d=l[n],p=f[o];if(c.lessThan(d.stop,p.start))++n;else if(c.lessThan(p.stop,d.start))++o;else{if(s(r)||s(t)&&t(d.data,p.data)||!s(t)&&p.data===d.data){var m=h.intersect(d,p,new h,r);m.isEmpty||a.addInterval(m,t)}c.lessThan(d.stop,p.stop)||d.stop.equals(p.stop)&&!d.isStopIncluded&&p.isStopIncluded?++n:++o}}return a},e.exports=i},function(e,t,r){"use strict";var n=r(3),i=r(1),o=r(2),a={};a.calculateACMR=function(e){e=n(e,n.EMPTY_OBJECT);var t=e.indices,r=e.maximumIndex,a=n(e.cacheSize,24);if(!i(t))throw new o("indices is required.");var s=t.length;if(s<3||s%3!==0)throw new o("indices length must be a multiple of three.");if(r<=0)throw new o("maximumIndex must be greater than zero.");if(a<3)throw new o("cacheSize must be greater than two.");if(!i(r)){r=0;for(var u=0,l=t[u];u<s;)l>r&&(r=l),++u,l=t[u]}for(var c=[],h=0;h<r+1;h++)c[h]=0;for(var f=a+1,d=0;d<s;++d)f-c[t[d]]>a&&(c[t[d]]=f,++f);return(f-a+1)/(s/3)},a.tipsify=function(e){function t(e,t,r,n){for(;t.length>=1;){var i=t[t.length-1];if(t.splice(t.length-1,1),e[i].numLiveTriangles>0)return i}for(;a<n;){if(e[a].numLiveTriangles>0)return++a,a-1;++a}return-1}function r(e,r,n,i,o,a,s){for(var u,l=-1,c=-1,h=0;h<n.length;){var f=n[h];i[f].numLiveTriangles&&(u=0,o-i[f].timeStamp+2*i[f].numLiveTriangles<=r&&(u=o-i[f].timeStamp),(u>c||c===-1)&&(c=u,l=f)),++h}return l===-1?t(i,a,e,s):l}e=n(e,n.EMPTY_OBJECT);var a,s=e.indices,u=e.maximumIndex,l=n(e.cacheSize,24);if(!i(s))throw new o("indices is required.");var c=s.length;if(c<3||c%3!==0)throw new o("indices length must be a multiple of three.");if(u<=0)throw new o("maximumIndex must be greater than zero.");if(l<3)throw new o("cacheSize must be greater than two.");var h=0,f=0,d=s[f],p=c;if(i(u))h=u+1;else{for(;f<p;)d>h&&(h=d),++f,d=s[f];if(h===-1)return 0;++h}for(var m=[],g=0;g<h;g++)m[g]={numLiveTriangles:0,timeStamp:0,vertexTriangles:[]};f=0;for(var w=0;f<p;)m[s[f]].vertexTriangles.push(w),++m[s[f]].numLiveTriangles,m[s[f+1]].vertexTriangles.push(w),++m[s[f+1]].numLiveTriangles,m[s[f+2]].vertexTriangles.push(w),++m[s[f+2]].numLiveTriangles,++w,f+=3;var v=0,y=l+1;a=1;var _,E,b=[],T=[],x=0,A=[],S=c/3,O=[];for(g=0;g<S;g++)O[g]=!1;for(var I,R;v!==-1;){b=[],E=m[v],R=E.vertexTriangles.length;for(var P=0;P<R;++P)if(w=E.vertexTriangles[P],!O[w]){O[w]=!0,f=w+w+w;for(var C=0;C<3;++C)I=s[f],b.push(I),T.push(I),A[x]=I,++x,_=m[I],--_.numLiveTriangles,y-_.timeStamp>l&&(_.timeStamp=y,++y),++f}v=r(s,l,b,m,y,T,h)}return A},e.exports=a},function(e,t,r){"use strict";var n=r(4),i=r(3),o=r(1),a=r(22),s=new n(1,1,1),u=n.ZERO,l=a.IDENTITY,c=function(e,t,r){this.translation=n.clone(i(e,u)),this.rotation=a.clone(i(t,l)),this.scale=n.clone(i(r,s))};c.prototype.equals=function(e){return this===e||o(e)&&n.equals(this.translation,e.translation)&&a.equals(this.rotation,e.rotation)&&n.equals(this.scale,e.scale)},e.exports=c},function(e,t,r){"use strict";function n(e,t){this.rectangle=e,this.maxLevel=t}function i(e){function t(e){var t=e.getElementsByTagName("SRS")[0].textContent;if("EPSG:4326"!==t)return void r("SRS "+t+" is not supported.");m._tilingScheme=new p({ellipsoid:g});var i=e.getElementsByTagName("TileFormat")[0];m._heightmapWidth=parseInt(i.getAttribute("width"),10),m._heightmapHeight=parseInt(i.getAttribute("height"),10),m._levelZeroMaximumGeometricError=E.getEstimatedLevelZeroGeometricErrorForAHeightmap(g,Math.min(m._heightmapWidth,m._heightmapHeight),m._tilingScheme.getNumberOfXTilesAtLevel(0));for(var o=e.getElementsByTagName("DataExtent"),a=0;a<o.length;++a){var s=o[a],u=y.toRadians(parseFloat(s.getAttribute("minx"))),l=y.toRadians(parseFloat(s.getAttribute("miny"))),c=y.toRadians(parseFloat(s.getAttribute("maxx"))),h=y.toRadians(parseFloat(s.getAttribute("maxy"))),f=parseInt(s.getAttribute("maxlevel"),10);m._rectangles.push(new n(new _(u,l,c,h),f))}m._ready=!0,m._readyPromise.resolve(!0)}function r(e){var t=l(e,"An error occurred while accessing "+m._url+".");a=T.handleError(a,m,m._errorEvent,t,void 0,void 0,void 0,i)}function i(){when(v(m._url),t,r)}if(e=l(e,l.EMPTY_OBJECT),!c(e.url))throw new h("options.url is required.");this._url=e.url,this._url.length>0&&"/"!==this._url[this._url.length-1]&&(this._url+="/"),this._errorEvent=new d,this._ready=!1,this._readyPromise=s.defer(),this._proxy=e.proxy,this._terrainDataStructure={heightScale:.001,heightOffset:-1e3,elementsPerHeight:3,stride:4,elementMultiplier:256,isBigEndian:!0,lowestEncodedHeight:0,highestEncodedHeight:16777215};var o=e.credit;"string"==typeof o&&(o=new u(o)),this._credit=o,this._tilingScheme=void 0,this._rectangles=[];var a,m=this,g=l(e.ellipsoid,f.WGS84);i()}function o(e,t,r,n){for(var i=e._tilingScheme,o=e._rectangles,s=i.tileXYToRectangle(t,r,n),u=0,l=0;l<o.length&&15!==u;++l){var h=o[l];if(!(h.maxLevel<=n)){var f=h.rectangle,d=_.intersection(f,s,x);c(d)&&(a(i,f,2*t,2*r,n+1)&&(u|=4),a(i,f,2*t+1,2*r,n+1)&&(u|=8),a(i,f,2*t,2*r+1,n+1)&&(u|=1),a(i,f,2*t+1,2*r+1,n+1)&&(u|=2))}}return u}function a(e,t,r,n,i){var o=e.tileXYToRectangle(r,n,i);return c(_.intersection(o,t,x))}var s=r(18),u=r(36),l=r(3),c=r(1),h=r(2),f=r(6),d=r(33),p=r(37),m=r(75),g=r(51),w=r(35),v=r(120),y=r(5),_=r(16),E=r(43),b=r(78),T=r(109);Object.defineProperties(i.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},tilingScheme:{get:function(){if(!this.ready)throw new h("requestTileGeometry must not be called before ready returns true.");return this._tilingScheme}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}}}),i.prototype.requestTileGeometry=function(e,t,r,n){if(!this.ready)throw new h("requestTileGeometry must not be called before ready returns true.");var i=this._tilingScheme.getNumberOfYTilesAtLevel(r),a=this._url+r+"/"+e+"/"+(i-t-1)+".tif?cesium=true",s=this._proxy;c(s)&&(a=s.getURL(a));var u;if(n=l(n,!0)){
if(u=b(a,w),!c(u))return}else u=w(a);var f=this;return when(u,function(n){return new g({buffer:m(n),width:f._heightmapWidth,height:f._heightmapHeight,childTileMask:o(f,e,t,r),structure:f._terrainDataStructure})})},i.prototype.getLevelMaximumGeometricError=function(e){if(!this.ready)throw new h("requestTileGeometry must not be called before ready returns true.");return this._levelZeroMaximumGeometricError/(1<<e)};var x=new _;i.prototype.getTileDataAvailable=function(e,t,r){},e.exports=i},function(e,t,r){"use strict";function n(e){e=o(e,o.EMPTY_OBJECT),this._clock=void 0,this._element=void 0,this._clockSubscription=void 0,this._seekFunction=void 0,this.clock=e.clock,this.element=e.element,this.epoch=o(e.epoch,u.MINIMUM_VALUE),this.tolerance=o(e.tolerance,1),this._seeking=!1,this._seekFunction=void 0,this._firstTickAfterSeek=!1}function i(e){return function(){e._seeking=!1,e._firstTickAfterSeek=!0}}var o=r(3),a=r(1),s=r(56),u=r(100),l=r(21);Object.defineProperties(n.prototype,{clock:{get:function(){return this._clock},set:function(e){var t=this._clock;t!==e&&(a(t)&&(this._clockSubscription(),this._clockSubscription=void 0),a(e)&&(this._clockSubscription=e.onTick.addEventListener(n.prototype._onTick,this)),this._clock=e)}},element:{get:function(){return this._element},set:function(e){var t=this._element;t!==e&&(a(t)&&t.removeEventListener("seeked",this._seekFunction,!1),a(e)&&(this._seeking=!1,this._seekFunction=i(this),e.addEventListener("seeked",this._seekFunction,!1)),this._element=e,this._seeking=!1,this._firstTickAfterSeek=!1)}}}),n.prototype.destroy=function(){return this.element=void 0,this.clock=void 0,s(this)},n.prototype.isDestroyed=function(){return!1},n.prototype._onTick=function(e){var t=this._element;if(a(t)&&!(t.readyState<2)){var r=t.paused,n=e.shouldAnimate;if(n===r&&(n?t.play():t.pause()),this._seeking||this._firstTickAfterSeek)return void(this._firstTickAfterSeek=!1);t.playbackRate=e.multiplier;var i,s=e.currentTime,c=o(this.epoch,u.MINIMUM_VALUE),h=l.secondsDifference(s,c),f=t.duration,d=t.currentTime;t.loop?(h%=f,h<0&&(h=f-h),i=h):i=h>f?f:h<0?0:h;var p=n?o(this.tolerance,1):.001;Math.abs(i-d)>p&&(this._seeking=!0,t.currentTime=i)}},e.exports=n},function(e,t,r){"use strict";function n(e){e=s(e,s.EMPTY_OBJECT);var t=e.positions,r=e.maximumHeights,n=e.minimumHeights;if(!u(t))throw new l("options.positions is required.");if(u(r)&&r.length!==t.length)throw new l("options.positions and options.maximumHeights must have the same length.");if(u(n)&&n.length!==t.length)throw new l("options.positions and options.minimumHeights must have the same length.");var i=s(e.vertexFormat,w.DEFAULT),a=s(e.granularity,m.RADIANS_PER_DEGREE),h=s(e.ellipsoid,c.WGS84);this._positions=t,this._minimumHeights=n,this._maximumHeights=r,this._vertexFormat=w.clone(i),this._granularity=a,this._ellipsoid=c.clone(h),this._workerName="createWallGeometry";var f=1+t.length*o.packedLength+2;u(n)&&(f+=n.length),u(r)&&(f+=r.length),this.packedLength=f+c.packedLength+w.packedLength+1}var i=r(7),o=r(4),a=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),s=r(3),u=r(1),l=r(2),c=r(6),h=r(10),f=r(11),d=r(13),p=r(14),m=r(5),g=r(12),w=r(20),v=r(71),y=new o,_=new o,E=new o,b=new o,T=new o,x=new o,A=new o,S=new o;n.pack=function(e,t,r){if(!u(e))throw new l("value is required");if(!u(t))throw new l("array is required");r=s(r,0);var n,i=e._positions,a=i.length;for(t[r++]=a,n=0;n<a;++n,r+=o.packedLength)o.pack(i[n],t,r);var h=e._minimumHeights;if(a=u(h)?h.length:0,t[r++]=a,u(h))for(n=0;n<a;++n)t[r++]=h[n];var f=e._maximumHeights;if(a=u(f)?f.length:0,t[r++]=a,u(f))for(n=0;n<a;++n)t[r++]=f[n];return c.pack(e._ellipsoid,t,r),r+=c.packedLength,w.pack(e._vertexFormat,t,r),r+=w.packedLength,t[r]=e._granularity,t};var O=c.clone(c.UNIT_SPHERE),I=new w,R={positions:void 0,minimumHeights:void 0,maximumHeights:void 0,ellipsoid:O,vertexFormat:I,granularity:void 0};n.unpack=function(e,t,r){if(!u(e))throw new l("array is required");t=s(t,0);var i,a=e[t++],h=new Array(a);for(i=0;i<a;++i,t+=o.packedLength)h[i]=o.unpack(e,t);a=e[t++];var f;if(a>0)for(f=new Array(a),i=0;i<a;++i)f[i]=e[t++];a=e[t++];var d;if(a>0)for(d=new Array(a),i=0;i<a;++i)d[i]=e[t++];var p=c.unpack(e,t,O);t+=c.packedLength;var m=w.unpack(e,t,I);t+=w.packedLength;var g=e[t];return u(r)?(r._positions=h,r._minimumHeights=f,r._maximumHeights=d,r._ellipsoid=c.clone(p,r._ellipsoid),r._vertexFormat=w.clone(m,r._vertexFormat),r._granularity=g,r):(R.positions=h,R.minimumHeights=f,R.maximumHeights=d,R.granularity=g,new n(R))},n.fromConstantHeights=function(e){e=s(e,s.EMPTY_OBJECT);var t=e.positions;if(!u(t))throw new l("options.positions is required.");var r,i,o=e.minimumHeight,a=e.maximumHeight,c=u(o),h=u(a);if(c||h){var f=t.length;r=c?new Array(f):void 0,i=h?new Array(f):void 0;for(var d=0;d<f;++d)c&&(r[d]=o),h&&(i[d]=a)}var p={positions:t,maximumHeights:i,minimumHeights:r,ellipsoid:e.ellipsoid,vertexFormat:e.vertexFormat};return new n(p)},n.createGeometry=function(e){var t=e._positions,r=e._minimumHeights,n=e._maximumHeights,s=e._vertexFormat,l=e._granularity,c=e._ellipsoid,w=v.computePositions(c,t,n,r,l,!0);if(u(w)){var O=w.bottomPositions,I=w.topPositions,R=w.numCorners,P=I.length,C=2*P,M=s.position?new Float64Array(C):void 0,N=s.normal?new Float32Array(C):void 0,q=s.tangent?new Float32Array(C):void 0,L=s.binormal?new Float32Array(C):void 0,F=s.st?new Float32Array(C/3*2):void 0,D=0,z=0,k=0,U=0,B=0,j=S,G=A,H=x,V=!0;P/=3;var W,Y=0,X=1/(P-t.length+1);for(W=0;W<P;++W){var Q=3*W,Z=o.fromArray(I,Q,y),K=o.fromArray(O,Q,_);if(s.position&&(M[D++]=K.x,M[D++]=K.y,M[D++]=K.z,M[D++]=Z.x,M[D++]=Z.y,M[D++]=Z.z),s.st&&(F[B++]=Y,F[B++]=0,F[B++]=Y,F[B++]=1),s.normal||s.tangent||s.binormal){var J,$=o.clone(o.ZERO,T),ee=c.scaleToGeodeticSurface(o.fromArray(I,Q,_),_);if(W+1<P&&(J=c.scaleToGeodeticSurface(o.fromArray(I,Q+3,E),E),$=o.fromArray(I,Q+3,T)),V){var te=o.subtract($,Z,b),re=o.subtract(ee,Z,y);j=o.normalize(o.cross(re,te,j),j),V=!1}o.equalsEpsilon(J,ee,m.EPSILON10)?V=!0:(Y+=X,s.tangent&&(G=o.normalize(o.subtract(J,ee,G),G)),s.binormal&&(H=o.normalize(o.cross(j,G,H),H))),s.normal&&(N[z++]=j.x,N[z++]=j.y,N[z++]=j.z,N[z++]=j.x,N[z++]=j.y,N[z++]=j.z),s.tangent&&(q[U++]=G.x,q[U++]=G.y,q[U++]=G.z,q[U++]=G.x,q[U++]=G.y,q[U++]=G.z),s.binormal&&(L[k++]=H.x,L[k++]=H.y,L[k++]=H.z,L[k++]=H.x,L[k++]=H.y,L[k++]=H.z)}}var ne=new d;s.position&&(ne.position=new f({componentDatatype:a.DOUBLE,componentsPerAttribute:3,values:M})),s.normal&&(ne.normal=new f({componentDatatype:a.FLOAT,componentsPerAttribute:3,values:N})),s.tangent&&(ne.tangent=new f({componentDatatype:a.FLOAT,componentsPerAttribute:3,values:q})),s.binormal&&(ne.binormal=new f({componentDatatype:a.FLOAT,componentsPerAttribute:3,values:L})),s.st&&(ne.st=new f({componentDatatype:a.FLOAT,componentsPerAttribute:2,values:F}));var ie=C/3;C-=6*(R+1);var oe=p.createTypedArray(ie,C),ae=0;for(W=0;W<ie-2;W+=2){var se=W,ue=W+2,le=o.fromArray(M,3*se,y),ce=o.fromArray(M,3*ue,_);if(!o.equalsEpsilon(le,ce,m.EPSILON10)){var he=W+1,fe=W+3;oe[ae++]=he,oe[ae++]=se,oe[ae++]=fe,oe[ae++]=fe,oe[ae++]=se,oe[ae++]=ue}}return new h({attributes:ne,indices:oe,primitiveType:g.TRIANGLES,boundingSphere:new i.fromVertices(M)})}},e.exports=n},function(e,t,r){"use strict";function n(e){e=s(e,s.EMPTY_OBJECT);var t=e.positions,r=e.maximumHeights,n=e.minimumHeights;if(!u(t))throw new l("options.positions is required.");if(u(r)&&r.length!==t.length)throw new l("options.positions and options.maximumHeights must have the same length.");if(u(n)&&n.length!==t.length)throw new l("options.positions and options.minimumHeights must have the same length.");var i=s(e.granularity,m.RADIANS_PER_DEGREE),a=s(e.ellipsoid,c.WGS84);this._positions=t,this._minimumHeights=n,this._maximumHeights=r,this._granularity=i,this._ellipsoid=c.clone(a),this._workerName="createWallOutlineGeometry";var h=1+t.length*o.packedLength+2;u(n)&&(h+=n.length),u(r)&&(h+=r.length),this.packedLength=h+c.packedLength+1}var i=r(7),o=r(4),a=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),s=r(3),u=r(1),l=r(2),c=r(6),h=r(10),f=r(11),d=r(13),p=r(14),m=r(5),g=r(12),w=r(71),v=new o,y=new o;n.pack=function(e,t,r){if(!u(e))throw new l("value is required");if(!u(t))throw new l("array is required");r=s(r,0);var n,i=e._positions,a=i.length;for(t[r++]=a,n=0;n<a;++n,r+=o.packedLength)o.pack(i[n],t,r);var h=e._minimumHeights;if(a=u(h)?h.length:0,t[r++]=a,u(h))for(n=0;n<a;++n)t[r++]=h[n];var f=e._maximumHeights;if(a=u(f)?f.length:0,t[r++]=a,u(f))for(n=0;n<a;++n)t[r++]=f[n];return c.pack(e._ellipsoid,t,r),r+=c.packedLength,t[r]=e._granularity,t};var _=c.clone(c.UNIT_SPHERE),E={positions:void 0,minimumHeights:void 0,maximumHeights:void 0,ellipsoid:_,granularity:void 0};n.unpack=function(e,t,r){if(!u(e))throw new l("array is required");t=s(t,0);var i,a=e[t++],h=new Array(a);for(i=0;i<a;++i,t+=o.packedLength)h[i]=o.unpack(e,t);a=e[t++];var f;if(a>0)for(f=new Array(a),i=0;i<a;++i)f[i]=e[t++];a=e[t++];var d;if(a>0)for(d=new Array(a),i=0;i<a;++i)d[i]=e[t++];var p=c.unpack(e,t,_);t+=c.packedLength;var m=e[t];return u(r)?(r._positions=h,r._minimumHeights=f,r._maximumHeights=d,r._ellipsoid=c.clone(p,r._ellipsoid),r._granularity=m,r):(E.positions=h,E.minimumHeights=f,E.maximumHeights=d,E.granularity=m,new n(E))},n.fromConstantHeights=function(e){e=s(e,s.EMPTY_OBJECT);var t=e.positions;if(!u(t))throw new l("options.positions is required.");var r,i,o=e.minimumHeight,a=e.maximumHeight,c=u(o),h=u(a);if(c||h){var f=t.length;r=c?new Array(f):void 0,i=h?new Array(f):void 0;for(var d=0;d<f;++d)c&&(r[d]=o),h&&(i[d]=a)}var p={positions:t,maximumHeights:i,minimumHeights:r,ellipsoid:e.ellipsoid};return new n(p)},n.createGeometry=function(e){var t=e._positions,r=e._minimumHeights,n=e._maximumHeights,s=e._granularity,l=e._ellipsoid,c=w.computePositions(l,t,n,r,s,!1);if(u(c)){var _=c.bottomPositions,E=c.topPositions,b=E.length,T=2*b,x=new Float64Array(T),A=0;b/=3;var S;for(S=0;S<b;++S){var O=3*S,I=o.fromArray(E,O,v),R=o.fromArray(_,O,y);x[A++]=R.x,x[A++]=R.y,x[A++]=R.z,x[A++]=I.x,x[A++]=I.y,x[A++]=I.z}var P=new d({position:new f({componentDatatype:a.DOUBLE,componentsPerAttribute:3,values:x})}),C=T/3;T=2*C-4+C;var M=p.createTypedArray(C,T),N=0;for(S=0;S<C-2;S+=2){var q=S,L=S+2,F=o.fromArray(x,3*q,v),D=o.fromArray(x,3*L,y);if(!o.equalsEpsilon(F,D,m.EPSILON10)){var z=S+1,k=S+3;M[N++]=z,M[N++]=q,M[N++]=z,M[N++]=k,M[N++]=q,M[N++]=L}}return M[N++]=C-2,M[N++]=C-1,new h({attributes:P,indices:M,primitiveType:g.LINES,boundingSphere:new i.fromVertices(x)})}},e.exports=n},function(e,t,r){"use strict";function n(e){if(e=o(e,{}),this._ellipsoid=o(e.ellipsoid,s.WGS84),this._numberOfLevelZeroTilesX=o(e.numberOfLevelZeroTilesX,1),this._numberOfLevelZeroTilesY=o(e.numberOfLevelZeroTilesY,1),this._projection=new l(this._ellipsoid),a(e.rectangleSouthwestInMeters)&&a(e.rectangleNortheastInMeters))this._rectangleSouthwestInMeters=e.rectangleSouthwestInMeters,this._rectangleNortheastInMeters=e.rectangleNortheastInMeters;else{var t=this._ellipsoid.maximumRadius*Math.PI;this._rectangleSouthwestInMeters=new i(-t,-t),this._rectangleNortheastInMeters=new i(t,t)}var r=this._projection.unproject(this._rectangleSouthwestInMeters),n=this._projection.unproject(this._rectangleNortheastInMeters);this._rectangle=new u(r.longitude,r.latitude,n.longitude,n.latitude)}var i=r(9),o=r(3),a=r(1),s=r(6),u=r(16),l=r(72);Object.defineProperties(n.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),n.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e},n.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e},n.prototype.rectangleToNativeRectangle=function(e,t){var r=this._projection,n=r.project(u.southwest(e)),i=r.project(u.northeast(e));return a(t)?(t.west=n.x,t.south=n.y,t.east=i.x,t.north=i.y,t):new u(n.x,n.y,i.x,i.y)},n.prototype.tileXYToNativeRectangle=function(e,t,r,n){var i=this.getNumberOfXTilesAtLevel(r),o=this.getNumberOfYTilesAtLevel(r),s=(this._rectangleNortheastInMeters.x-this._rectangleSouthwestInMeters.x)/i,l=this._rectangleSouthwestInMeters.x+e*s,c=this._rectangleSouthwestInMeters.x+(e+1)*s,h=(this._rectangleNortheastInMeters.y-this._rectangleSouthwestInMeters.y)/o,f=this._rectangleNortheastInMeters.y-t*h,d=this._rectangleNortheastInMeters.y-(t+1)*h;return a(n)?(n.west=l,n.south=d,n.east=c,n.north=f,n):new u(l,d,c,f)},n.prototype.tileXYToRectangle=function(e,t,r,n){var o=this.tileXYToNativeRectangle(e,t,r,n),a=this._projection,s=a.unproject(new i(o.west,o.south)),u=a.unproject(new i(o.east,o.north));return o.west=s.longitude,o.south=s.latitude,o.east=u.longitude,o.north=u.latitude,o},n.prototype.positionToTileXY=function(e,t,r){var n=this._rectangle;if(u.contains(n,e)){var o=this.getNumberOfXTilesAtLevel(t),s=this.getNumberOfYTilesAtLevel(t),l=this._rectangleNortheastInMeters.x-this._rectangleSouthwestInMeters.x,c=l/o,h=this._rectangleNortheastInMeters.y-this._rectangleSouthwestInMeters.y,f=h/s,d=this._projection,p=d.project(e),m=p.x-this._rectangleSouthwestInMeters.x,g=this._rectangleNortheastInMeters.y-p.y,w=m/c|0;w>=o&&(w=o-1);var v=g/f|0;return v>=s&&(v=s-1),a(r)?(r.x=w,r.y=v,r):new i(w,v)}},e.exports=n},function(e,t){"use strict";function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,r="x"===e?t:3&t|8;return r.toString(16)})}e.exports=r},function(e,t,r){"use strict";function n(e,t){if(!i(e)||!i(t))throw new o("identifier and message are required.");a(e,t)}var i=r(1),o=r(2),a=r(122);e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!o(e))throw new a("uri is required.");var r="",n=e.lastIndexOf("/");return n!==-1&&(r=e.substring(0,n+1)),t?(e=new i(e),o(e.query)&&(r+="?"+e.query),o(e.fragment)&&(r+="#"+e.fragment),r):r}var i=r(30),o=r(1),a=r(2);e.exports=n},function(e,t,r){"use strict";function n(e){if(!o(e))throw new a("uri is required.");var t=new i(e);t.normalizeQuery();var r=t.path,n=r.lastIndexOf("/");return n!==-1&&(r=r.substr(n+1)),n=r.lastIndexOf("."),r=n===-1?"":r.substr(n+1)}var i=r(30),o=r(1),a=r(2);e.exports=n},function(e,t,r){"use strict";function n(e){if(!o(e))throw new a("uri is required.");var t=new i(e);t.normalizeQuery();var r=t.path,n=r.lastIndexOf("/");return n!==-1&&(r=r.substr(n+1)),r}var i=r(30),o=r(1),a=r(2);e.exports=n},function(e,t,r){"use strict";function n(e,t,r){if(!a(e))throw new s("first is required");if(!a(t))throw new s("second is required");r=o(r,!0),e instanceof i||(e=new i(e)),t instanceof i||(t=new i(t)),a(t.authority)&&!a(t.scheme)&&("undefined"!=typeof document&&a(document.location)&&a(document.location.href)?t.scheme=new i(document.location.href).protocol():t.scheme=e.scheme);var n=e;t.isAbsolute()&&(n=t);var u="";a(n.protocol())&&(u+=n.protocol()+":"),a(n.authority())&&(u+="//"+n.authority(),""!==n.path&&"/"!==n.path&&(u=u.replace(/\/?$/,"/"),n.path=n.path.replace(/^\/?/g,""))),u+=n===e?r?e.path.replace(/\/?$/,"/")+t.path.replace(/^\/?/g,""):e.path+t.path:t.path;var l=a(e.query),c=a(t.query);l&&c?u+="?"+e.query+"&"+t.query:l&&!c?u+="?"+e.query:!l&&c&&(u+="?"+t.query);var h=a(t.fragment);return a(e.fragment)&&!h?u+="#"+e.fragment:h&&(u+="#"+t.fragment),u}var i=r(30),o=r(3),a=r(1),s=r(2);e.exports=n},function(e,t,r){"use strict";function n(e,t){return i({url:e,responseType:"arraybuffer",headers:t})}var i=r(48);e.exports=n},function(e,t,r){"use strict";function n(e){return s.test(e)?a(e):o(e).then(function(e){var t=window.URL.createObjectURL(e);return a(t,!1).then(function(r){return r.blob=e,window.URL.revokeObjectURL(t),r},function(e){return window.URL.revokeObjectURL(t),i.reject(e)})})}var i=r(18),o=r(118),a=r(35),s=/^data:/,u=function(){try{var e=new XMLHttpRequest;return e.open("GET","#",!0),e.responseType="blob","blob"===e.responseType}catch(e){return!1}}();e.exports=u?n:a},function(e,t,r){"use strict";function n(e,t){if(!u(e))throw new l("url is required.");t=s(t,s.EMPTY_OBJECT);var r;do r="loadJsonp"+Math.random().toString().substring(2,8);while(u(window[r]));var f=o.defer();window[r]=function(e){f.resolve(e);try{delete window[r]}catch(e){window[r]=void 0}};var d=new i(e),p=h(s(d.query,""));u(t.parameters)&&(p=a(t.parameters,p));var m=s(t.callbackParameterName,"callback");p[m]=r,d.query=c(p),e=d.toString();var g=t.proxy;return u(g)&&(e=g.getURL(e)),n.loadAndExecuteScript(e,r,f),f.promise}var i=r(30),o=r(18),a=r(113),s=r(3),u=r(1),l=r(2),c=r(121),h=r(123);n.loadAndExecuteScript=function(e,t,r){var n=document.createElement("script");n.async=!0,n.src=e;var i=document.getElementsByTagName("head")[0];n.onload=function(){n.onload=void 0,i.removeChild(n)},n.onerror=function(e){r.reject(e)},i.appendChild(n)},n.defaultLoadAndExecuteScript=n.loadAndExecuteScript,e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n,i,o){var a,s,c=i-n+1,h=o-i,f=u,d=l;for(a=0;a<c;++a)f[a]=e[n+a];for(s=0;s<h;++s)d[s]=e[i+s+1];a=0,s=0;for(var p=n;p<=o;++p){var m=f[a],g=d[s];a<c&&(s>=h||t(m,g,r)<=0)?(e[p]=m,++a):s<h&&(e[p]=g,++s)}}function i(e,t,r,o,a){if(!(o>=a)){var s=Math.floor(.5*(o+a));i(e,t,r,o,s),i(e,t,r,s+1,a),n(e,t,r,o,s,a)}}function o(e,t,r){if(!a(e))throw new s("array is required.");if(!a(t))throw new s("comparator is required.");var n=e.length,o=Math.ceil(.5*n);u.length=o,l.length=o,i(e,t,r,0,n-1),u.length=0,l.length=0}var a=r(1),s=r(2),u=[],l=[];e.exports=o},function(e,t){"use strict";function r(e){var t={};if(!e)return t;for(var r=e.split("\r\n"),n=0;n<r.length;++n){var i=r[n],o=i.indexOf(": ");if(o>0){var a=i.substring(0,o),s=i.substring(o+2);t[a]=s}}return t}e.exports=r},function(e,t,r){"use strict";function n(e,t,r,n){return i(e,t,r,n,a),a.x>0&&a.y>0&&a.z>0}var i=r(73),o=r(4),a=new o;e.exports=n},function(e,t,r){"use strict";function n(e,t,r){function n(){e.ready?when(i(e,t,r),function(e){o.resolve(e)}):setTimeout(n,10)}if(!u(e))throw new l("terrainProvider is required.");if(!u(t))throw new l("level is required.");if(!u(r))throw new l("positions is required.");var o=s.defer();return n(),o.promise}function i(e,t,r){var n,i=e.tilingScheme,u=[],l={};for(n=0;n<r.length;++n){var c=i.positionToTileXY(r[n],t),h=c.toString();if(!l.hasOwnProperty(h)){var f={x:c.x,y:c.y,level:t,tilingScheme:i,terrainProvider:e,positions:[]};l[h]=f,u.push(f)}l[h].positions.push(r[n])}var d=[];for(n=0;n<u.length;++n){var p=u[n],m=p.terrainProvider.requestTileGeometry(p.x,p.y,p.level,!1),g=when(m,o(p),a(p));d.push(g)}return s.all(d,function(){return r})}function o(e){var t=e.positions,r=e.tilingScheme.tileXYToRectangle(e.x,e.y,e.level);return function(e){for(var n=0;n<t.length;++n){var i=t[n];i.height=e.interpolateHeight(r,i.longitude,i.latitude)}}}function a(e){var t=e.positions;return function(){for(var e=0;e<t.length;++e){var r=t[e];r.height=void 0}}}var s=r(18),u=r(1),l=r(2);e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!i(e))throw new o("array is required.");if(!i(t)||t<1)throw new o("numberOfArrays must be greater than 0.");for(var r=[],n=e.length,a=0;a<n;){var s=Math.ceil((n-a)/t--);r.push(e.slice(a,a+s)),a+=s}return r}var i=r(1),o=r(2);e.exports=n},function(e,t,r){(function(e,n){function i(e,t){this._id=e,this._clearFn=t}var o=r(126).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,u={},l=0;t.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var r=l++,n=!(arguments.length<2)&&s.call(arguments,1);return u[r]=!0,o(function(){u[r]&&(n?e.apply(null,n):e.call(null),t.clearImmediate(r))}),r},t.clearImmediate="function"==typeof n?n:function(e){delete u[e]}}).call(t,r(212).setImmediate,r(212).clearImmediate)},,function(e,t,r){"use strict";function n(e){a(e)&&"function"==typeof e||(e=s.ComputeMoon),this._computeFunction=e}function i(e,t,r){var n=f;n.x=Math.cos(e+l.PI_OVER_TWO),n.y=Math.sin(e+l.PI_OVER_TWO),n.z=0;var i=Math.cos(t),s=p;s.x=i*Math.cos(e),s.y=i*Math.sin(e),s.z=Math.sin(t);var u=o.cross(s,n,d);return a(r)||(r=new c),r[0]=n.x,r[1]=u.x,r[2]=s.x,r[3]=n.y,r[4]=u.y,r[5]=s.y,r[6]=n.z,r[7]=u.z,r[8]=s.z,r}var o=r(4),a=r(1),s=r(155),u=r(21),l=r(5),c=r(17),h=r(22),f=new o,d=new o,p=new o,m=new c,g=new h;n.prototype.evaluate=function(e,t){a(e)||(e=u.now());var r=this._computeFunction(e),n=i(r.rightAscension,r.declination,t),s=l.zeroToTwoPi(r.rotation),f=h.fromAxisAngle(o.UNIT_Z,s,g),d=c.fromQuaternion(h.conjugate(f,f),m),p=c.multiply(d,n,n);return p},e.exports=n},function(e,t,r){"use strict";function n(e){if(e=a(e,a.EMPTY_OBJECT),!s(e.positionsTypedArray))throw new u("options.positionsTypedArray is required.");if(!s(e.colorsTypedArray))throw new u("options.colorsTypedArray is required");this._positionsTypedArray=e.positionsTypedArray,this._colorsTypedArray=e.colorsTypedArray,this._boundingSphere=i.clone(e.boundingSphere),this._workerName="createPointGeometry"}var i=r(7),o=r(!function(){var e=new Error('Cannot find module "./ComponentDatatype"');throw e.code="MODULE_NOT_FOUND",e}()),a=r(3),s=r(1),u=r(2),l=r(10),c=r(11),h=r(13),f=r(12);n.createGeometry=function(e){var t=e._positionsTypedArray,r=t.byteLength/t.length,n=4===r?o.FLOAT:o.DOUBLE,a=new h;a.position=new c({componentDatatype:n,componentsPerAttribute:3,values:t}),a.color=new c({componentDatatype:o.UNSIGNED_BYTE,componentsPerAttribute:3,values:e._colorsTypedArray,normalize:!0});var u=e._boundingSphere;return s(u)||(u=i.fromVertices(t)),new l({attributes:a,primitiveType:f.POINTS,boundingSphere:u})},e.exports=n},function(e,t){"use strict";function r(e){return 0!==e.length&&"/"===e[e.length-1]||(e+="/"),e}e.exports=r},,function(e,t,r){"use strict";function n(e,t){return t=i(t,0),o(e,t,Math.min(4,e.length))}var i=r(3),o=r(115);e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!o(e))throw new a("uint8Array is required.");if(!o(t))throw new a("format is required.");var r=new Blob([e],{type:t}),n=window.URL.createObjectURL(r);return s(n,!1).then(function(e){return window.URL.revokeObjectURL(n),e},function(e){return window.URL.revokeObjectURL(n),i.reject(e)})}var i=r(18),o=r(1),a=r(2),s=r(35);e.exports=n},,function(e,t,r){"use strict";function n(e,t,r){if("function"!=typeof t)throw new i("oldFunction is required to be a function.");if("function"!=typeof r)throw new i("oldFunction is required to be a function.");return function(){r.apply(e,arguments),t.apply(e,arguments)}}var i=r(2);e.exports=n},function(e,t,r){var n,i;/*!
	 * URI.js - Mutating URLs
	 * IPv6 Support
	 *
	 * Version: 1.18.4
	 *
	 * Author: Rodney Rehm
	 * Web: http://medialize.github.io/URI.js/
	 *
	 * Licensed under
	 *   MIT License http://www.opensource.org/licenses/mit-license
	 *
	 */
!function(o,a){"use strict";"object"==typeof e&&e.exports?e.exports=a():(n=a,i="function"==typeof n?n.call(t,r,t,e):n,!(void 0!==i&&(e.exports=i)))}(this,function(e){"use strict";function t(e){var t=e.toLowerCase(),r=t.split(":"),n=r.length,i=8;""===r[0]&&""===r[1]&&""===r[2]?(r.shift(),r.shift()):""===r[0]&&""===r[1]?r.shift():""===r[n-1]&&""===r[n-2]&&r.pop(),n=r.length,r[n-1].indexOf(".")!==-1&&(i=7);var o;for(o=0;o<n&&""!==r[o];o++);if(o<i)for(r.splice(o,1,"0000");r.length<i;)r.splice(o,0,"0000");for(var a,s=0;s<i;s++){a=r[s].split("");for(var u=0;u<3&&"0"===a[0]&&a.length>1;u++)a.splice(0,1);r[s]=a.join("")}var l=-1,c=0,h=0,f=-1,d=!1;for(s=0;s<i;s++)d?"0"===r[s]?h+=1:(d=!1,h>c&&(l=f,c=h)):"0"===r[s]&&(d=!0,f=s,h=1);h>c&&(l=f,c=h),c>1&&r.splice(l,c,""),n=r.length;var p="";for(""===r[0]&&(p=":"),s=0;s<n&&(p+=r[s],s!==n-1);s++)p+=":";return""===r[n-1]&&(p+=":"),p}function r(){return e.IPv6===this&&(e.IPv6=n),this}var n=e&&e.IPv6;return{best:t,noConflict:r}})},function(e,t,r){var n,i;/*!
	 * URI.js - Mutating URLs
	 * Second Level Domain (SLD) Support
	 *
	 * Version: 1.18.4
	 *
	 * Author: Rodney Rehm
	 * Web: http://medialize.github.io/URI.js/
	 *
	 * Licensed under
	 *   MIT License http://www.opensource.org/licenses/mit-license
	 *
	 */
!function(o,a){"use strict";"object"==typeof e&&e.exports?e.exports=a():(n=a,i="function"==typeof n?n.call(t,r,t,e):n,!(void 0!==i&&(e.exports=i)))}(this,function(e){"use strict";var t=e&&e.SecondLevelDomains,r={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var n=e.lastIndexOf(".",t-1);if(n<=0||n>=t-1)return!1;var i=r.list[e.slice(t+1)];return!!i&&i.indexOf(" "+e.slice(n+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var n=e.lastIndexOf(".",t-1);if(n>=0)return!1;var i=r.list[e.slice(t+1)];return!!i&&i.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var n=e.lastIndexOf(".",t-1);if(n<=0||n>=t-1)return null;var i=r.list[e.slice(t+1)];return i?i.indexOf(" "+e.slice(n+1,t)+" ")<0?null:e.slice(n+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return r})},function(e,t,r){var n;(function(e,i){!function(o){function a(e){throw new RangeError(M[e])}function s(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function u(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(C,".");var i=e.split("."),o=s(i,t).join(".");return n+o}function l(e){for(var t,r,n=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(r=e.charCodeAt(i++),56320==(64512&r)?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--)):n.push(t);return n}function c(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=L(e>>>10&1023|55296),e=56320|1023&e),t+=L(e)}).join("")}function h(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:E}function f(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function d(e,t,r){var n=0;for(e=r?q(e/A):e>>1,e+=q(e/t);e>N*T>>1;n+=E)e=q(e/N);return q(n+(N+1)*e/(e+x))}function p(e){var t,r,n,i,o,s,u,l,f,p,m=[],g=e.length,w=0,v=O,y=S;for(r=e.lastIndexOf(I),r<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&a("not-basic"),m.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<g;){for(o=w,s=1,u=E;i>=g&&a("invalid-input"),l=h(e.charCodeAt(i++)),(l>=E||l>q((_-w)/s))&&a("overflow"),w+=l*s,f=u<=y?b:u>=y+T?T:u-y,!(l<f);u+=E)p=E-f,s>q(_/p)&&a("overflow"),s*=p;t=m.length+1,y=d(w-o,t,0==o),q(w/t)>_-v&&a("overflow"),v+=q(w/t),w%=t,m.splice(w++,0,v)}return c(m)}function m(e){var t,r,n,i,o,s,u,c,h,p,m,g,w,v,y,x=[];for(e=l(e),g=e.length,t=O,r=0,o=S,s=0;s<g;++s)m=e[s],m<128&&x.push(L(m));for(n=i=x.length,i&&x.push(I);n<g;){for(u=_,s=0;s<g;++s)m=e[s],m>=t&&m<u&&(u=m);for(w=n+1,u-t>q((_-r)/w)&&a("overflow"),r+=(u-t)*w,t=u,s=0;s<g;++s)if(m=e[s],m<t&&++r>_&&a("overflow"),m==t){for(c=r,h=E;p=h<=o?b:h>=o+T?T:h-o,!(c<p);h+=E)y=c-p,v=E-p,x.push(L(f(p+y%v,0))),c=q(y/v);x.push(L(f(c,0))),o=d(r,w,n==i),r=0,++n}++r,++t}return x.join("")}function g(e){return u(e,function(e){return R.test(e)?p(e.slice(4).toLowerCase()):e})}function w(e){return u(e,function(e){return P.test(e)?"xn--"+m(e):e})}var v=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof i&&i);v.global!==v&&v.window!==v&&v.self!==v||(o=v);var y,_=2147483647,E=36,b=1,T=26,x=38,A=700,S=72,O=128,I="-",R=/^xn--/,P=/[^\x20-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=E-b,q=Math.floor,L=String.fromCharCode;y={version:"1.3.2",ucs2:{decode:l,encode:c},decode:p,encode:m,toASCII:w,toUnicode:g},n=function(){return y}.call(t,r,t,e),!(void 0!==n&&(e.exports=n))}(this)}).call(t,r(229)(e),function(){return this}())},function(e,t){"use strict";function r(e,t,r){r=r||2;var i=t&&t.length,a=i?t[0]*r:e.length,s=n(e,0,a,r,!0),u=[];if(!s)return u;var l,h,f,d,p,m,g;if(i&&(s=c(e,t,s,r)),e.length>80*r){l=f=e[0],h=d=e[1];for(var w=r;w<a;w+=r)p=e[w],m=e[w+1],p<l&&(l=p),m<h&&(h=m),p>f&&(f=p),m>d&&(d=m);g=Math.max(f-l,d-h)}return o(s,u,r,l,h,g),u}function n(e,t,r,n,i){var o,a;if(i===P(e,t,r,n)>0)for(o=t;o<r;o+=n)a=O(o,e[o],e[o+1],a);else for(o=r-n;o>=t;o-=n)a=O(o,e[o],e[o+1],a);return a&&E(a,a.next)&&(I(a),a=a.next),a}function i(e,t){if(!e)return e;t||(t=e);var r,n=e;do if(r=!1,n.steiner||!E(n,n.next)&&0!==_(n.prev,n,n.next))n=n.next;else{if(I(n),n=t=n.prev,n===n.next)return null;r=!0}while(r||n!==t);return t}function o(e,t,r,n,c,h,f){if(e){!f&&h&&p(e,n,c,h);for(var d,m,g=e;e.prev!==e.next;)if(d=e.prev,m=e.next,h?s(e,n,c,h):a(e))t.push(d.i/r),t.push(e.i/r),t.push(m.i/r),I(e),e=m.next,g=m.next;else if(e=m,e===g){f?1===f?(e=u(e,t,r),o(e,t,r,n,c,h,2)):2===f&&l(e,t,r,n,c,h):o(i(e),t,r,n,c,h,1);break}}}function a(e){var t=e.prev,r=e,n=e.next;if(_(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(v(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&_(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function s(e,t,r,n){var i=e.prev,o=e,a=e.next;if(_(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=g(s,u,t,r,n),f=g(l,c,t,r,n),d=e.nextZ;d&&d.z<=f;){if(d!==e.prev&&d!==e.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&_(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=e.prevZ;d&&d.z>=h;){if(d!==e.prev&&d!==e.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&_(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function u(e,t,r){var n=e;do{var i=n.prev,o=n.next.next;!E(i,o)&&b(i,n,n.next,o)&&x(i,o)&&x(o,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(o.i/r),I(n),I(n.next),n=e=o),n=n.next}while(n!==e);return n}function l(e,t,r,n,a,s){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&y(u,l)){var c=S(u,l);return u=i(u,u.next),c=i(c,c.next),o(u,t,r,n,a,s),void o(c,t,r,n,a,s)}l=l.next}u=u.next}while(u!==e)}function c(e,t,r,o){var a,s,u,l,c,d=[];for(a=0,s=t.length;a<s;a++)u=t[a]*o,l=a<s-1?t[a+1]*o:e.length,c=n(e,u,l,o,!1),c===c.next&&(c.steiner=!0),d.push(w(c));for(d.sort(h),a=0;a<d.length;a++)f(d[a],r),r=i(r,r.next);return r}function h(e,t){return e.x-t.x}function f(e,t){if(t=d(e,t)){var r=S(t,e);i(r,r.next)}}function d(e,t){var r,n=t,i=e.x,o=e.y,a=-(1/0);do{if(o<=n.y&&o>=n.next.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a){if(a=s,s===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(i===a)return r.prev;var u,l=r,c=r.x,h=r.y,f=1/0;for(n=r.next;n!==l;)i>=n.x&&n.x>=c&&v(o<h?i:a,o,c,h,o<h?a:i,o,n.x,n.y)&&(u=Math.abs(o-n.y)/(i-n.x),(u<f||u===f&&n.x>r.x)&&x(n,e)&&(r=n,f=u)),n=n.next;return r}function p(e,t,r,n){var i=e;do null===i.z&&(i.z=g(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,m(i)}function m(e){var t,r,n,i,o,a,s,u,l=1;do{for(r=e,e=null,o=null,a=0;r;){for(a++,n=r,s=0,t=0;t<l&&(s++,n=n.nextZ);t++);for(u=l;s>0||u>0&&n;)0===s?(i=n,n=n.nextZ,u--):0!==u&&n?r.z<=n.z?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,u--):(i=r,r=r.nextZ,s--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,l*=2}while(a>1);return e}function g(e,t,r,n,i){return e=32767*(e-r)/i,t=32767*(t-n)/i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function w(e){var t=e,r=e;do t.x<r.x&&(r=t),t=t.next;while(t!==e);return r}function v(e,t,r,n,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(n-s)-(r-a)*(t-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function y(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!T(e,t)&&x(e,t)&&x(t,e)&&A(e,t)}function _(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function E(e,t){return e.x===t.x&&e.y===t.y}function b(e,t,r,n){return!!(E(e,t)&&E(r,n)||E(e,n)&&E(r,t))||_(e,t,r)>0!=_(e,t,n)>0&&_(r,n,e)>0!=_(r,n,t)>0}function T(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&b(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function x(e,t){return _(e.prev,e,e.next)<0?_(e,t,e.next)>=0&&_(e,e.prev,t)>=0:_(e,t,e.prev)<0||_(e,e.next,t)<0}function A(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do r.y>o!=r.next.y>o&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}function S(e,t){var r=new R(e.i,e.x,e.y),n=new R(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function O(e,t,r,n){var i=new R(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function I(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function R(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P(e,t,r,n){for(var i=0,o=t,a=r-n;o<r;o+=n)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}e.exports=r,r.deviation=function(e,t,r,n){var i=t&&t.length,o=i?t[0]*r:e.length,a=Math.abs(P(e,0,o,r));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*r,c=s<u-1?t[s+1]*r:e.length;a-=Math.abs(P(e,l,c,r))}var h=0;for(s=0;s<n.length;s+=3){var f=n[s]*r,d=n[s+1]*r,p=n[s+2]*r;h+=Math.abs((e[f]-e[p])*(e[d+1]-e[f+1])-(e[f]-e[d])*(e[p+1]-e[f+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},r.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)r.vertices.push(e[i][o][a]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r}},function(e,t){var r=function(e){void 0==e&&(e=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,e.constructor==Array?this.init_by_array(e,e.length):this.init_seed(e)};r.prototype.init_seed=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++){var e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0}},r.prototype.init_by_array=function(e,t){var r,n,i;for(this.init_seed(19650218),r=1,n=0,i=this.N>t?this.N:t;i;i--){var o=this.mt[r-1]^this.mt[r-1]>>>30;this.mt[r]=(this.mt[r]^(1664525*((4294901760&o)>>>16)<<16)+1664525*(65535&o))+e[n]+n,this.mt[r]>>>=0,r++,n++,r>=this.N&&(this.mt[0]=this.mt[this.N-1],r=1),n>=t&&(n=0)}for(i=this.N-1;i;i--){var o=this.mt[r-1]^this.mt[r-1]>>>30;this.mt[r]=(this.mt[r]^(1566083941*((4294901760&o)>>>16)<<16)+1566083941*(65535&o))-r,this.mt[r]>>>=0,r++,r>=this.N&&(this.mt[0]=this.mt[this.N-1],r=1)}this.mt[0]=2147483648},r.prototype.random_int=function(){var e,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var r;for(this.mti==this.N+1&&this.init_seed(5489),r=0;r<this.N-this.M;r++)e=this.mt[r]&this.UPPER_MASK|this.mt[r+1]&this.LOWER_MASK,this.mt[r]=this.mt[r+this.M]^e>>>1^t[1&e];for(;r<this.N-1;r++)e=this.mt[r]&this.UPPER_MASK|this.mt[r+1]&this.LOWER_MASK,this.mt[r]=this.mt[r+(this.M-this.N)]^e>>>1^t[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^t[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,e^=e>>>18,e>>>0},r.prototype.random_int31=function(){return this.random_int()>>>1},r.prototype.random_incl=function(){return this.random_int()*(1/4294967295)},r.prototype.random=function(){return this.random_int()*(1/4294967296)},r.prototype.random_excl=function(){return(this.random_int()+.5)*(1/4294967296)},r.prototype.random_long=function(){var e=this.random_int()>>>5,t=this.random_int()>>>6;return(67108864*e+t)*(1/9007199254740992)},e.exports=r},function(e,t,r){!function(e){function r(){var e=arguments[0],t=r.cache;return t[e]&&t.hasOwnProperty(e)||(t[e]=r.parse(e)),r.format.call(null,t[e],arguments)}function n(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function i(e,t){return Array(t+1).join(e)}var o={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};r.format=function(e,t){var a,s,u,l,c,h,f,d=1,p=e.length,m="",g=[],w=!0,v="";for(s=0;s<p;s++)if(m=n(e[s]),"string"===m)g[g.length]=e[s];else if("array"===m){if(l=e[s],l[2])for(a=t[d],u=0;u<l[2].length;u++){if(!a.hasOwnProperty(l[2][u]))throw new Error(r("[sprintf] property '%s' does not exist",l[2][u]));a=a[l[2][u]]}else a=l[1]?t[l[1]]:t[d++];if("function"==n(a)&&(a=a()),o.not_string.test(l[8])&&o.not_json.test(l[8])&&"number"!=n(a)&&isNaN(a))throw new TypeError(r("[sprintf] expecting number but found %s",n(a)));switch(o.number.test(l[8])&&(w=a>=0),l[8]){case"b":a=a.toString(2);break;case"c":a=String.fromCharCode(a);break;case"d":case"i":a=parseInt(a,10);break;case"j":a=JSON.stringify(a,null,l[6]?parseInt(l[6]):0);break;case"e":a=l[7]?a.toExponential(l[7]):a.toExponential();break;case"f":a=l[7]?parseFloat(a).toFixed(l[7]):parseFloat(a);break;case"g":a=l[7]?parseFloat(a).toPrecision(l[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=String(a))&&l[7]?a.substring(0,l[7]):a;break;case"u":a>>>=0;break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}o.json.test(l[8])?g[g.length]=a:(!o.number.test(l[8])||w&&!l[3]?v="":(v=w?"+":"-",a=a.toString().replace(o.sign,"")),h=l[4]?"0"===l[4]?"0":l[4].charAt(1):" ",f=l[6]-(v+a).length,c=l[6]&&f>0?i(h,f):"",g[g.length]=l[5]?v+a+c:"0"===h?v+c+a:c+v+a)}return g.join("")},r.cache={},r.parse=function(e){for(var t=e,r=[],n=[],i=0;t;){if(null!==(r=o.text.exec(t)))n[n.length]=r[0];else if(null!==(r=o.modulo.exec(t)))n[n.length]="%";else{if(null===(r=o.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(r[2]){i|=1;var a=[],s=r[2],u=[];if(null===(u=o.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a[a.length]=u[1];""!==(s=s.substring(u[0].length));)if(null!==(u=o.key_access.exec(s)))a[a.length]=u[1];else{if(null===(u=o.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");a[a.length]=u[1]}r[2]=a}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n[n.length]=r}t=t.substring(r[0].length)}return n};var a=function(e,t,n){return n=(t||[]).slice(0),n.splice(0,0,e),r.apply(null,n)};t.sprintf=r,t.vsprintf=a}("undefined"==typeof window?this:window)},function(e,t,r){var n,i;(function(r){var o=o||function(){var e=[];return{getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){var r=e.indexOf(t);r!==-1&&e.splice(r,1)},update:function(t,r){if(0===e.length)return!1;var n=0;for(t=void 0!==t?t:o.now();n<e.length;)e[n].update(t)||r?n++:e.splice(n,1);return!0}}}();!function(){void 0===this.window&&void 0!==this.process?o.now=function(){var e=r.hrtime();return 1e3*e[0]+e[1]/1e3}:void 0!==this.window&&void 0!==window.performance&&void 0!==window.performance.now?o.now=window.performance.now.bind(window.performance):void 0!==Date.now?o.now=Date.now:o.now=function(){return(new Date).getTime()}}(),o.Tween=function(e){var t=e,r={},n={},i={},a=1e3,s=0,u=!1,l=!1,c=!1,h=0,f=null,d=o.Easing.Linear.None,p=o.Interpolation.Linear,m=[],g=null,w=!1,v=null,y=null,_=null;for(var E in e)r[E]=parseFloat(e[E],10);this.to=function(e,t){return void 0!==t&&(a=t),n=e,this},this.start=function(e){o.add(this),l=!0,w=!1,f=void 0!==e?e:o.now(),f+=h;for(var a in n){if(n[a]instanceof Array){if(0===n[a].length)continue;n[a]=[t[a]].concat(n[a])}void 0!==r[a]&&(r[a]=t[a],r[a]instanceof Array==0&&(r[a]*=1),i[a]=r[a]||0)}return this},this.stop=function(){return l?(o.remove(this),l=!1,null!==_&&_.call(t),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var e=0,t=m.length;e<t;e++)m[e].stop()},this.delay=function(e){return h=e,this},this.repeat=function(e){return s=e,this},this.yoyo=function(e){return u=e,this},this.easing=function(e){return d=e,this},this.interpolation=function(e){return p=e,this},this.chain=function(){return m=arguments,this},this.onStart=function(e){return g=e,this},this.onUpdate=function(e){return v=e,this},this.onComplete=function(e){return y=e,this},this.onStop=function(e){return _=e,this},this.update=function(e){var o,l,_;if(e<f)return!0;w===!1&&(null!==g&&g.call(t),w=!0),l=(e-f)/a,l=l>1?1:l,_=d(l);for(o in n)if(void 0!==r[o]){var E=r[o]||0,b=n[o];b instanceof Array?t[o]=p(b,_):("string"==typeof b&&(b="+"===b.charAt(0)||"-"===b.charAt(0)?E+parseFloat(b,10):parseFloat(b,10)),"number"==typeof b&&(t[o]=E+(b-E)*_))}if(null!==v&&v.call(t,_),1===l){if(s>0){isFinite(s)&&s--;for(o in i){if("string"==typeof n[o]&&(i[o]=i[o]+parseFloat(n[o],10)),u){var T=i[o];i[o]=n[o],n[o]=T}r[o]=i[o]}return u&&(c=!c),f=e+h,!0}null!==y&&y.call(t);for(var x=0,A=m.length;x<A;x++)m[x].start(f+a);return!1}return!0}},o.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-o.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*o.Easing.Bounce.In(2*e):.5*o.Easing.Bounce.Out(2*e-1)+.5}}},o.Interpolation={Linear:function(e,t){var r=e.length-1,n=r*t,i=Math.floor(n),a=o.Interpolation.Utils.Linear;return t<0?a(e[0],e[1],n):t>1?a(e[r],e[r-1],r-n):a(e[i],e[i+1>r?r:i+1],n-i)},Bezier:function(e,t){for(var r=0,n=e.length-1,i=Math.pow,a=o.Interpolation.Utils.Bernstein,s=0;s<=n;s++)r+=i(1-t,n-s)*i(t,s)*e[s]*a(n,s);return r},CatmullRom:function(e,t){var r=e.length-1,n=r*t,i=Math.floor(n),a=o.Interpolation.Utils.CatmullRom;return e[0]===e[r]?(t<0&&(i=Math.floor(n=r*(1+t))),a(e[(i-1+r)%r],e[i],e[(i+1)%r],e[(i+2)%r],n-i)):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-n)-e[0]):t>1?e[r]-(a(e[r],e[r],e[r-1],e[r-1],n-r)-e[r]):a(e[i?i-1:0],e[i],e[r<i+1?r:i+1],e[r<i+2?r:i+2],n-i)},Utils:{Linear:function(e,t,r){return(t-e)*r+e},Bernstein:function(e,t){var r=o.Interpolation.Utils.Factorial;return r(e)/r(t)/r(e-t)},Factorial:function(){var e=[1];return function(t){var r=1;if(e[t])return e[t];for(var n=t;n>1;n--)r*=n;return e[t]=r,r}}(),CatmullRom:function(e,t,r,n,i){var o=.5*(r-e),a=.5*(n-t),s=i*i,u=i*s;return(2*t-2*r+o+a)*u+(-3*t+3*r-2*o-a)*s+o*i+t}}},function(r){n=[],i=function(){return o}.apply(t,n),!(void 0!==i&&(e.exports=i))}(this)}).call(t,r(126))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},,function(e,t,r){"use strict";function n(e,t){var r=e.extensionsUsed;o(r)||(r=[],e.extensionsUsed=r),r.indexOf(t)<0&&r.push(t)}var i=r(79),o=i.defined;e.exports=n}]);