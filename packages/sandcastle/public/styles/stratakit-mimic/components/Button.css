@layer itwinui.components {
  /*---------------------------------------------------------------------------------------------
 * Copyright (c) Bentley Systems, Incorporated. All rights reserved.
 * See LICENSE.md in the project root for license terms and full copyright notice.
 *--------------------------------------------------------------------------------------------*/
  .stratakit-mimic-button {
    --âœ¨color--default: var(--stratakit-color-text-neutral-primary);
    --âœ¨gap: var(--stratakit-space-x1);
    --âœ¨height: 1.5rem;
    --âœ¨padding-inline: var(--stratakit-space-x3);
    --âœ¨padding-block: var(--stratakit-space-x1);

    --âœ¨shadow-border: 0px 0px 0px 1px var(--ğŸ¥button-border-color) inset;

    --âœ¨glow--bg-hover: var(--stratakit-color-glow-hue)
      var(--stratakit-color-bg-glow-base-hover-\%);
    --âœ¨glow--bg-press: var(--stratakit-color-glow-hue)
      var(--stratakit-color-bg-glow-base-pressed-\%);

    --âœ¨border--active: var(--stratakit-color-border-accent-strong);
    --âœ¨bg--active: var(--stratakit-color-bg-glow-on-surface-accent-pressed);

    /* #region Variant: solid */
    --âœ¨bg--solid-neutral-default: var(--stratakit-color-bg-neutral-base);
    --âœ¨bg--solid-accent-default: var(--stratakit-color-bg-accent-base);
    --âœ¨bg--solid-hover: color-mix(
      in oklch,
      var(--ğŸ¥button-bg--solid-default) 100%,
      var(--âœ¨glow--bg-hover)
    );
    --âœ¨bg--solid-pressed: color-mix(
      in oklch,
      var(--ğŸ¥button-bg--solid-default) 100%,
      var(--âœ¨glow--bg-press)
    );
    --âœ¨bg--solid-disabled: var(--stratakit-color-bg-glow-on-surface-disabled);

    --âœ¨shadow--solid:
      var(--stratakit-shadow-button-base-inset), var(--âœ¨shadow-border),
      var(--stratakit-shadow-button-base-drop);

    --âœ¨border--solid-neutral-default: var(
      --stratakit-color-border-shadow-base
    );
    --âœ¨border--solid-neutral-hover: color-mix(
      in oklch,
      var(--âœ¨border--solid-neutral-default) 100%,
      var(--stratakit-color-glow-hue)
        var(--stratakit-color-border-glow-base-hover-\%)
    );
    --âœ¨border--solid-neutral-pressed: color-mix(
      in oklch,
      var(--âœ¨border--solid-neutral-default) 100%,
      var(--stratakit-color-glow-hue)
        var(--stratakit-color-border-glow-base-pressed-\%)
    );
    --âœ¨border--solid-neutral-disabled: transparent;

    --âœ¨border--solid-accent-default: var(
      --stratakit-color-border-shadow-strong
    );
    --âœ¨border--solid-accent-hover: color-mix(
      in oklch,
      var(--âœ¨border--solid-accent-default) 100%,
      var(--stratakit-color-glow-hue)
        var(--stratakit-color-border-glow-strong-hover-\%)
    );
    --âœ¨border--solid-accent-pressed: color-mix(
      in oklch,
      var(--âœ¨border--solid-accent-default) 100%,
      var(--stratakit-color-glow-hue)
        var(--stratakit-color-border-glow-strong-pressed-\%)
    );
    --âœ¨border--solid-accent-disabled: transparent;
    /* #endregion */

    /* #region Variant: outline */
    --âœ¨bg--outline-default: transparent;
    --âœ¨bg--outline-hover: var(
      --stratakit-color-bg-glow-on-surface-neutral-hover
    );
    --âœ¨bg--outline-pressed: var(
      --stratakit-color-bg-glow-on-surface-neutral-pressed
    );
    --âœ¨bg--outline-disabled: transparent;
    --âœ¨border--outline-default: var(--stratakit-color-border-neutral-base);
    --âœ¨border--outline-hover: color-mix(
      in oklch,
      var(--âœ¨border--outline-default) 100%,
      var(--stratakit-color-glow-hue)
        var(--stratakit-color-border-glow-base-hover-\%)
    );
    --âœ¨border--outline-pressed: color-mix(
      in oklch,
      var(--âœ¨border--outline-default) 100%,
      var(--stratakit-color-glow-hue)
        var(--stratakit-color-border-glow-base-pressed-\%)
    );
    --âœ¨border--outline-disabled: var(
      --stratakit-color-border-glow-on-surface-disabled
    );

    --âœ¨bg--outline-accent-default: transparent;
    --âœ¨bg--outline-accent-hover: var(
      --stratakit-color-bg-glow-on-surface-accent-hover
    );
    --âœ¨bg--outline-accent-pressed: var(
      --stratakit-color-bg-glow-on-surface-accent-pressed
    );
    --âœ¨bg--outline-accent-disabled: transparent;

    --âœ¨color--outline-accent-default: var(
      --stratakit-color-text-accent-strong
    );
    --âœ¨color--outline-accent-hover: color-mix(
      in oklch,
      var(--âœ¨color--outline-accent-default) 100%,
      var(--stratakit-color-glow-hue)
        var(--stratakit-color-text-glow-strong-hover-\%)
    );
    --âœ¨color--outline-accent-pressed: color-mix(
      in oklch,
      var(--âœ¨color--outline-accent-default) 100%,
      var(--stratakit-color-glow-hue)
        var(--stratakit-color-text-glow-strong-pressed-\%)
    );

    --âœ¨icon--outline-accent-default: var(--stratakit-color-icon-accent-strong);
    --âœ¨icon--outline-accent-hover: color-mix(
      in oklch,
      var(--âœ¨icon--outline-accent-default) 100%,
      var(--stratakit-color-glow-hue)
        var(--stratakit-color-icon-glow-strong-hover-\%)
    );
    --âœ¨icon--outline-accent-pressed: color-mix(
      in oklch,
      var(--âœ¨icon--outline-accent-default) 100%,
      var(--stratakit-color-glow-hue)
        var(--stratakit-color-icon-glow-strong-pressed-\%)
    );

    --âœ¨border--outline-accent-default: var(
      --stratakit-color-border-accent-base
    );
    --âœ¨border--outline-accent-hover: color-mix(
      in oklch,
      var(--âœ¨border--outline-accent-default) 100%,
      var(--stratakit-color-glow-hue)
        var(--stratakit-color-border-glow-strong-hover-\%)
    );
    --âœ¨border--outline-accent-pressed: color-mix(
      in oklch,
      var(--âœ¨border--outline-accent-default) 100%,
      var(--stratakit-color-glow-hue)
        var(--stratakit-color-border-glow-strong-pressed-\%)
    );
    --âœ¨border--outline-accent-disabled: var(
      --stratakit-color-border-glow-on-surface-disabled
    );
    /* #endregion */

    /* #region Variant: ghost */
    --âœ¨bg--ghost-default: transparent;
    --âœ¨bg--ghost-hover: var(
      --stratakit-color-bg-glow-on-surface-neutral-hover
    );
    --âœ¨bg--ghost-pressed: var(
      --stratakit-color-bg-glow-on-surface-neutral-pressed
    );
    --âœ¨bg--ghost-disabled: transparent;

    --âœ¨bg--ghost-accent-default: transparent;
    --âœ¨bg--ghost-accent-hover: var(
      --stratakit-color-bg-glow-on-surface-accent-hover
    );
    --âœ¨bg--ghost-accent-pressed: var(
      --stratakit-color-bg-glow-on-surface-accent-pressed
    );
    --âœ¨bg--ghost-accent-disabled: transparent;

    --âœ¨color--ghost-accent-default: var(--stratakit-color-text-accent-strong);
    --âœ¨color--ghost-accent-hover: color-mix(
      in oklch,
      var(--âœ¨color--ghost-accent-default) 100%,
      var(--stratakit-color-glow-hue)
        var(--stratakit-color-text-glow-strong-hover-\%)
    );
    --âœ¨color--ghost-accent-pressed: color-mix(
      in oklch,
      var(--âœ¨color--ghost-accent-default) 100%,
      var(--stratakit-color-glow-hue)
        var(--stratakit-color-text-glow-strong-pressed-\%)
    );
    --âœ¨icon--ghost-accent-default: var(--stratakit-color-icon-accent-strong);
    --âœ¨icon--ghost-accent-hover: color-mix(
      in oklch,
      var(--âœ¨icon--ghost-accent-default) 100%,
      var(--stratakit-color-glow-hue)
        var(--stratakit-color-icon-glow-strong-hover-\%)
    );
    --âœ¨icon--ghost-accent-pressed: color-mix(
      in oklch,
      var(--âœ¨icon--ghost-accent-default) 100%,
      var(--stratakit-color-glow-hue)
        var(--stratakit-color-icon-glow-strong-pressed-\%)
    );
    /* #endregion */

    @layer base {
      text-decoration: none;
      line-height: 1.2;
      user-select: none;
      cursor: pointer;
      font-size: var(--stratakit-font-size-12);
      font-weight: 500;
      border: none;
      position: relative;

      display: inline-flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      gap: var(--âœ¨gap);

      min-block-size: var(--âœ¨height);
      border-radius: 4px;
      padding-inline: var(--ğŸ¥button-padding-inline, var(--âœ¨padding-inline));
      padding-block: var(--âœ¨padding-block);
      --ğŸ¥ghost-inline-offset: var(--âœ¨padding-inline);
      --ğŸ¥ghost-block-offset: var(--âœ¨padding-block);

      background-color: var(--ğŸ¥button-background-color);
      box-shadow: var(--âœ¨shadow-border);
      color: var(--ğŸ¥button-color, var(--âœ¨color--default));
      transition: background-color 150ms ease-out;
      -webkit-tap-highlight-color: var(
        --stratakit-color-bg-glow-on-surface-neutral-pressed
      );
      --ğŸ¥icon-color: var(
          --ğŸŒ€button-state--default,
          var(--stratakit-color-icon-neutral-base)
        )
        var(--ğŸŒ€button-state--hover, var(--stratakit-color-icon-neutral-hover))
        var(
          --ğŸŒ€button-state--pressed,
          var(--stratakit-color-icon-neutral-hover)
        )
        var(--ğŸŒ€button-state--active, var(--stratakit-color-icon-accent-strong));
    }

    @layer modifiers {
      &:where([data-kiwi-variant="solid"]) {
        --ğŸ¥button-background-color: var(
            --ğŸŒ€button-state--default,
            var(--ğŸ¥button-bg--solid-default)
          )
          var(--ğŸŒ€button-state--hover, var(--âœ¨bg--solid-hover))
          var(--ğŸŒ€button-state--pressed, var(--âœ¨bg--solid-pressed))
          var(--ğŸŒ€button-state--active, var(--âœ¨bg--active))
          var(--ğŸŒ€button-state--disabled, var(--âœ¨bg--solid-disabled));
        box-shadow: var(--ğŸŒ€button-state--default, var(--âœ¨shadow--solid))
          var(--ğŸŒ€button-state--hover, var(--âœ¨shadow--solid))
          var(--ğŸŒ€button-state--pressed, var(--âœ¨shadow-border))
          var(--ğŸŒ€button-state--active, var(--âœ¨shadow-border))
          var(--ğŸŒ€button-state--disabled, none);

        &:where([data-kiwi-tone="neutral"]) {
          --ğŸ¥button-bg--solid-default: var(--âœ¨bg--solid-neutral-default);
          --ğŸ¥button-border-color: var(
              --ğŸŒ€button-state--default,
              var(--âœ¨border--solid-neutral-default)
            )
            var(--ğŸŒ€button-state--hover, var(--âœ¨border--solid-neutral-hover))
            var(
              --ğŸŒ€button-state--pressed,
              var(--âœ¨border--solid-neutral-pressed)
            )
            var(
              --ğŸŒ€button-state--disabled,
              var(--âœ¨border--solid-neutral-disabled)
            );
        }

        &:where([data-kiwi-tone="accent"]) {
          --ğŸ¥button-bg--solid-default: var(--âœ¨bg--solid-accent-default);
          --ğŸ¥button-border-color: var(
              --ğŸŒ€button-state--default,
              var(--âœ¨border--solid-accent-default)
            )
            var(--ğŸŒ€button-state--hover, var(--âœ¨border--solid-accent-hover))
            var(
              --ğŸŒ€button-state--pressed,
              var(--âœ¨border--solid-accent-pressed)
            )
            var(
              --ğŸŒ€button-state--disabled,
              var(--âœ¨border--solid-accent-disabled)
            );

          --ğŸ¥button-color: var(--stratakit-color-text-neutral-emphasis);
          --ğŸ¥icon-color: var(--stratakit-color-icon-neutral-emphasis);
          -webkit-tap-highlight-color: var(
            --stratakit-color-bg-glow-on-surface-accent-pressed
          );
        }
      }

      &:where([data-kiwi-variant="outline"]) {
        &:where([data-kiwi-tone="neutral"]) {
          --ğŸ¥button-background-color: var(
              --ğŸŒ€button-state--default,
              var(--âœ¨bg--outline-default)
            )
            var(--ğŸŒ€button-state--hover, var(--âœ¨bg--outline-hover))
            var(--ğŸŒ€button-state--pressed, var(--âœ¨bg--outline-pressed))
            var(--ğŸŒ€button-state--active, var(--âœ¨bg--active))
            var(--ğŸŒ€button-state--disabled, var(--âœ¨bg--outline-disabled));
          --ğŸ¥button-border-color: var(
              --ğŸŒ€button-state--default,
              var(--âœ¨border--outline-default)
            )
            var(--ğŸŒ€button-state--hover, var(--âœ¨border--outline-hover))
            var(--ğŸŒ€button-state--pressed, var(--âœ¨border--outline-pressed))
            var(--ğŸŒ€button-state--disabled, var(--âœ¨border--outline-disabled));
        }

        &:where([data-kiwi-tone="accent"]) {
          --ğŸ¥button-background-color: var(
              --ğŸŒ€button-state--default,
              var(--âœ¨bg--outline-accent-default)
            )
            var(--ğŸŒ€button-state--hover, var(--âœ¨bg--outline-accent-hover))
            var(--ğŸŒ€button-state--pressed, var(--âœ¨bg--outline-accent-pressed))
            var(--ğŸŒ€button-state--active, var(--âœ¨bg--active))
            var(
              --ğŸŒ€button-state--disabled,
              var(--âœ¨bg--outline-accent-disabled)
            );
          --ğŸ¥button-border-color: var(
              --ğŸŒ€button-state--default,
              var(--âœ¨border--outline-accent-default)
            )
            var(--ğŸŒ€button-state--hover, var(--âœ¨border--outline-accent-hover))
            var(
              --ğŸŒ€button-state--pressed,
              var(--âœ¨border--outline-accent-pressed)
            )
            var(
              --ğŸŒ€button-state--disabled,
              var(--âœ¨border--outline-accent-disabled)
            );
          --ğŸ¥button-color: var(
              --ğŸŒ€button-state--default,
              var(--âœ¨color--outline-accent-default)
            )
            var(--ğŸŒ€button-state--hover, var(--âœ¨color--outline-accent-hover))
            var(
              --ğŸŒ€button-state--pressed,
              var(--âœ¨color--outline-accent-pressed)
            );
          --ğŸ¥icon-color: var(
              --ğŸŒ€button-state--default,
              var(--âœ¨icon--outline-accent-default)
            )
            var(--ğŸŒ€button-state--hover, var(--âœ¨icon--outline-accent-hover))
            var(
              --ğŸŒ€button-state--pressed,
              var(--âœ¨icon--outline-accent-pressed)
            );
        }
      }

      &:where([data-kiwi-variant="ghost"]) {
        --ğŸ¥button-border-color: transparent;

        &:where([data-kiwi-tone="neutral"]) {
          --ğŸ¥button-background-color: var(
              --ğŸŒ€button-state--default,
              var(--âœ¨bg--ghost-default)
            )
            var(--ğŸŒ€button-state--hover, var(--âœ¨bg--ghost-hover))
            var(--ğŸŒ€button-state--pressed, var(--âœ¨bg--ghost-pressed))
            var(--ğŸŒ€button-state--active, var(--âœ¨bg--active))
            var(--ğŸŒ€button-state--disabled, var(--âœ¨bg--ghost-disabled));
        }

        &:where([data-kiwi-tone="accent"]) {
          --ğŸ¥button-background-color: var(
              --ğŸŒ€button-state--default,
              var(--âœ¨bg--ghost-accent-default)
            )
            var(--ğŸŒ€button-state--hover, var(--âœ¨bg--ghost-accent-hover))
            var(--ğŸŒ€button-state--pressed, var(--âœ¨bg--ghost-accent-pressed))
            var(--ğŸŒ€button-state--active, var(--âœ¨bg--active))
            var(--ğŸŒ€button-state--disabled, var(--âœ¨bg--ghost-accent-disabled));
          --ğŸ¥button-color: var(
              --ğŸŒ€button-state--default,
              var(--âœ¨color--ghost-accent-default)
            )
            var(--ğŸŒ€button-state--hover, var(--âœ¨color--ghost-accent-hover))
            var(--ğŸŒ€button-state--pressed, var(--âœ¨color--ghost-accent-pressed));
          --ğŸ¥icon-color: var(
              --ğŸŒ€button-state--default,
              var(--âœ¨icon--ghost-accent-default)
            )
            var(--ğŸŒ€button-state--hover, var(--âœ¨icon--ghost-accent-hover))
            var(--ğŸŒ€button-state--pressed, var(--âœ¨icon--ghost-accent-pressed));
        }
      }
    }

    @layer states {
      @media (any-hover: hover) {
        &:where(:hover) {
          --ğŸŒ€button-state: var(--ğŸŒ€button-state--hover);
        }
      }

      /* Reuse hover state when an associated popover is open. */
      &:where([data-has-popover-open]) {
        --ğŸŒ€button-state: var(--ğŸŒ€button-state--hover);
      }

      &:where(:active) {
        --ğŸŒ€button-state: var(--ğŸŒ€button-state--pressed);
      }

      &:where([aria-pressed="true"]) {
        --ğŸŒ€button-state: var(--ğŸŒ€button-state--active);
        --ğŸ¥button-border-color: var(--âœ¨border--active);
      }

      &:where(:disabled, [aria-disabled="true"]) {
        --ğŸŒ€button-state: var(--ğŸŒ€button-state--disabled);
        color: var(--stratakit-color-text-neutral-disabled);
        cursor: not-allowed;
        -webkit-tap-highlight-color: transparent;
        --ğŸ¥icon-color: var(--stratakit-color-icon-neutral-disabled);
      }
    }

    @layer base.ğŸŒ€ {
      /* Cyclic toggles for default/hover/pressed/active/disabled states. See https://kizu.dev/cyclic-toggles/ */
      --ğŸŒ€button-state: var(--ğŸŒ€button-state--default);
      --ğŸŒ€button-state--default: var(--ğŸŒ€button-state,);
      --ğŸŒ€button-state--hover: var(--ğŸŒ€button-state,);
      --ğŸŒ€button-state--pressed: var(--ğŸŒ€button-state,);
      --ğŸŒ€button-state--active: var(--ğŸŒ€button-state,);
      --ğŸŒ€button-state--disabled: var(--ğŸŒ€button-state,);
    }
  }

  @media (forced-colors: active) {
    .stratakit-mimic-button {
      background-color: ButtonFace;
      border: 1px solid ButtonBorder;
      color: ButtonText;

      &:where([aria-pressed="true"]) {
        background-color: SelectedItem;
        color: SelectedItemText;
      }

      &:where(:disabled, [aria-disabled="true"]) {
        border-color: GrayText;
        color: GrayText;
      }
    }
  }
}
