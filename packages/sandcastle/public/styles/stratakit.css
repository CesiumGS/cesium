/*---------------------------------------------------------------------------------------------
 * Copyright (c) Bentley Systems, Incorporated. All rights reserved.
 * See LICENSE.md in the project root for license terms and full copyright notice.
 *--------------------------------------------------------------------------------------------*/
.ğŸ¥-button {
  --âœ¨color--default: var(--stratakit-color-text-neutral-primary);
  --âœ¨gap: 4px;
  --âœ¨height: 1.5rem;
  --âœ¨padding-inline: 12px;
  --âœ¨padding-block: 4px;

  --âœ¨shadow-border: 0px 0px 0px 1px var(--ğŸ¥button-border-color) inset;

  --âœ¨glow--bg-hover: var(--stratakit-color-glow-hue)
    var(--stratakit-color-bg-glow-base-hover-\%);
  --âœ¨glow--bg-press: var(--stratakit-color-glow-hue)
    var(--stratakit-color-bg-glow-base-pressed-\%);

  --âœ¨border--active: var(--stratakit-color-border-accent-strong);
  --âœ¨bg--active: var(--stratakit-color-bg-glow-on-surface-accent-pressed);

  /* #region Variant: solid */
  --âœ¨bg--solid-neutral-default: var(--stratakit-color-bg-neutral-base);
  --âœ¨bg--solid-accent-default: var(--stratakit-color-bg-accent-base);
  --âœ¨bg--solid-hover: color-mix(
    in oklch,
    var(--ğŸ¥button-bg--solid-default) 100%,
    var(--âœ¨glow--bg-hover)
  );
  --âœ¨bg--solid-pressed: color-mix(
    in oklch,
    var(--ğŸ¥button-bg--solid-default) 100%,
    var(--âœ¨glow--bg-press)
  );
  --âœ¨bg--solid-disabled: var(--stratakit-color-bg-glow-on-surface-disabled);

  --âœ¨shadow--solid:
    var(--stratakit-shadow-button-base-inset), var(--âœ¨shadow-border),
    var(--stratakit-shadow-button-base-drop);

  --âœ¨border--solid-neutral-default: var(--stratakit-color-border-shadow-base);
  --âœ¨border--solid-neutral-hover: color-mix(
    in oklch,
    var(--âœ¨border--solid-neutral-default) 100%,
    var(--stratakit-color-glow-hue)
      var(--stratakit-color-border-glow-base-hover-\%)
  );
  --âœ¨border--solid-neutral-pressed: color-mix(
    in oklch,
    var(--âœ¨border--solid-neutral-default) 100%,
    var(--stratakit-color-glow-hue)
      var(--stratakit-color-border-glow-base-pressed-\%)
  );
  --âœ¨border--solid-neutral-disabled: transparent;

  --âœ¨border--solid-accent-default: var(--stratakit-color-border-shadow-strong);
  --âœ¨border--solid-accent-hover: color-mix(
    in oklch,
    var(--âœ¨border--solid-accent-default) 100%,
    var(--stratakit-color-glow-hue)
      var(--stratakit-color-border-glow-strong-hover-\%)
  );
  --âœ¨border--solid-accent-pressed: color-mix(
    in oklch,
    var(--âœ¨border--solid-accent-default) 100%,
    var(--stratakit-color-glow-hue)
      var(--stratakit-color-border-glow-strong-pressed-\%)
  );
  --âœ¨border--solid-accent-disabled: transparent;
  /* #endregion */

  /* #region Variant: outline */
  --âœ¨bg--outline-default: transparent;
  --âœ¨bg--outline-hover: color-mix(
    in oklch,
    var(--âœ¨bg--outline-default) 100%,
    var(--âœ¨glow--bg-hover)
  );
  --âœ¨bg--outline-pressed: color-mix(
    in oklch,
    var(--âœ¨bg--outline-default) 100%,
    var(--âœ¨glow--bg-press)
  );
  --âœ¨bg--outline-disabled: transparent;
  --âœ¨border--outline-default: var(--stratakit-color-border-neutral-base);
  --âœ¨border--outline-hover: color-mix(
    in oklch,
    var(--âœ¨border--outline-default) 100%,
    var(--stratakit-color-glow-hue)
      var(--stratakit-color-border-glow-base-hover-\%)
  );
  --âœ¨border--outline-pressed: color-mix(
    in oklch,
    var(--âœ¨border--outline-default) 100%,
    var(--stratakit-color-glow-hue)
      var(--stratakit-color-border-glow-base-pressed-\%)
  );
  --âœ¨border--outline-disabled: var(
    --stratakit-color-border-glow-on-surface-disabled
  );

  --âœ¨bg--outline-accent-default: transparent;
  --âœ¨bg--outline-accent-hover: var(
    --stratakit-color-bg-glow-on-surface-accent-hover
  );
  --âœ¨bg--outline-accent-pressed: var(
    --stratakit-color-bg-glow-on-surface-accent-pressed
  );
  --âœ¨bg--outline-accent-disabled: transparent;

  --âœ¨color--outline-accent-default: var(--stratakit-color-text-accent-strong);
  --âœ¨color--outline-accent-hover: color-mix(
    in oklch,
    var(--âœ¨color--outline-accent-default) 100%,
    var(--stratakit-color-glow-hue)
      var(--stratakit-color-text-glow-strong-hover-\%)
  );
  --âœ¨color--outline-accent-pressed: color-mix(
    in oklch,
    var(--âœ¨color--outline-accent-default) 100%,
    var(--stratakit-color-glow-hue)
      var(--stratakit-color-text-glow-strong-pressed-\%)
  );

  --âœ¨icon--outline-accent-default: var(--stratakit-color-icon-accent-strong);
  --âœ¨icon--outline-accent-hover: color-mix(
    in oklch,
    var(--âœ¨icon--outline-accent-default) 100%,
    var(--stratakit-color-glow-hue)
      var(--stratakit-color-icon-glow-strong-hover-\%)
  );
  --âœ¨icon--outline-accent-pressed: color-mix(
    in oklch,
    var(--âœ¨icon--outline-accent-default) 100%,
    var(--stratakit-color-glow-hue)
      var(--stratakit-color-icon-glow-strong-pressed-\%)
  );

  --âœ¨border--outline-accent-default: var(--stratakit-color-border-accent-base);
  --âœ¨border--outline-accent-hover: color-mix(
    in oklch,
    var(--âœ¨border--outline-accent-default) 100%,
    var(--stratakit-color-glow-hue)
      var(--stratakit-color-border-glow-strong-hover-\%)
  );
  --âœ¨border--outline-accent-pressed: color-mix(
    in oklch,
    var(--âœ¨border--outline-accent-default) 100%,
    var(--stratakit-color-glow-hue)
      var(--stratakit-color-border-glow-strong-pressed-\%)
  );
  --âœ¨border--outline-accent-disabled: var(
    --stratakit-color-border-glow-on-surface-disabled
  );
  /* #endregion */

  /* #region Variant: ghost */
  --âœ¨bg--ghost-default: transparent;
  --âœ¨bg--ghost-hover: color-mix(
    in oklch,
    var(--âœ¨bg--ghost-default) 100%,
    var(--âœ¨glow--bg-hover)
  );
  --âœ¨bg--ghost-pressed: color-mix(
    in oklch,
    var(--âœ¨bg--ghost-default) 100%,
    var(--âœ¨glow--bg-press)
  );
  --âœ¨bg--ghost-disabled: transparent;

  --âœ¨bg--ghost-accent-default: transparent;
  --âœ¨bg--ghost-accent-hover: var(
    --stratakit-color-bg-glow-on-surface-accent-hover
  );
  --âœ¨bg--ghost-accent-pressed: var(
    --stratakit-color-bg-glow-on-surface-accent-pressed
  );
  --âœ¨bg--ghost-accent-disabled: transparent;

  --âœ¨color--ghost-accent-default: var(--stratakit-color-text-accent-strong);
  --âœ¨color--ghost-accent-hover: color-mix(
    in oklch,
    var(--âœ¨color--ghost-accent-default) 100%,
    var(--stratakit-color-glow-hue)
      var(--stratakit-color-text-glow-strong-hover-\%)
  );
  --âœ¨color--ghost-accent-pressed: color-mix(
    in oklch,
    var(--âœ¨color--ghost-accent-default) 100%,
    var(--stratakit-color-glow-hue)
      var(--stratakit-color-text-glow-strong-pressed-\%)
  );
  --âœ¨icon--ghost-accent-default: var(--stratakit-color-icon-accent-strong);
  --âœ¨icon--ghost-accent-hover: color-mix(
    in oklch,
    var(--âœ¨icon--ghost-accent-default) 100%,
    var(--stratakit-color-glow-hue)
      var(--stratakit-color-icon-glow-strong-hover-\%)
  );
  --âœ¨icon--ghost-accent-pressed: color-mix(
    in oklch,
    var(--âœ¨icon--ghost-accent-default) 100%,
    var(--stratakit-color-glow-hue)
      var(--stratakit-color-icon-glow-strong-pressed-\%)
  );
  /* #endregion */

  @layer base {
    text-decoration: none;
    line-height: 1.2;
    user-select: none;
    cursor: pointer;
    font-size: var(--stratakit-font-size-12);
    font-weight: 500;
    border: none;
    position: relative;

    display: inline-flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    gap: var(--âœ¨gap);

    min-block-size: var(--âœ¨height);
    border-radius: 4px;
    padding-inline: var(--ğŸ¥button-padding-inline, var(--âœ¨padding-inline));
    padding-block: var(--âœ¨padding-block);
    --ğŸ¥ghost-inline-offset: var(--âœ¨padding-inline);
    --ğŸ¥ghost-block-offset: var(--âœ¨padding-block);

    background-color: var(--ğŸ¥button-background-color);
    box-shadow: var(--âœ¨shadow-border);
    color: var(--ğŸ¥button-color, var(--âœ¨color--default));
    transition: background-color 150ms ease-out;
    -webkit-tap-highlight-color: var(
      --stratakit-color-bg-glow-on-surface-neutral-pressed
    );
    --ğŸ¥icon-color: var(
        --ğŸŒ€button-state--default,
        var(--stratakit-color-icon-neutral-base)
      )
      var(--ğŸŒ€button-state--hover, var(--stratakit-color-icon-neutral-hover))
      var(--ğŸŒ€button-state--pressed, var(--stratakit-color-icon-neutral-hover))
      var(--ğŸŒ€button-state--active, var(--stratakit-color-icon-accent-strong));

    @media (forced-colors: active) {
      background-color: ButtonFace;
      border: 1px solid ButtonBorder;
      color: ButtonText;
    }
  }

  @layer modifiers {
    &:where([data-kiwi-variant="solid"]) {
      --ğŸ¥button-background-color: var(
          --ğŸŒ€button-state--default,
          var(--ğŸ¥button-bg--solid-default)
        )
        var(--ğŸŒ€button-state--hover, var(--âœ¨bg--solid-hover))
        var(--ğŸŒ€button-state--pressed, var(--âœ¨bg--solid-pressed))
        var(--ğŸŒ€button-state--active, var(--âœ¨bg--active))
        var(--ğŸŒ€button-state--disabled, var(--âœ¨bg--solid-disabled));
      box-shadow: var(--ğŸŒ€button-state--default, var(--âœ¨shadow--solid))
        var(--ğŸŒ€button-state--hover, var(--âœ¨shadow--solid))
        var(--ğŸŒ€button-state--pressed, var(--âœ¨shadow-border))
        var(--ğŸŒ€button-state--active, var(--âœ¨shadow-border))
        var(--ğŸŒ€button-state--disabled, none);

      &:where([data-kiwi-tone="neutral"]) {
        --ğŸ¥button-bg--solid-default: var(--âœ¨bg--solid-neutral-default);
        --ğŸ¥button-border-color: var(
            --ğŸŒ€button-state--default,
            var(--âœ¨border--solid-neutral-default)
          )
          var(--ğŸŒ€button-state--hover, var(--âœ¨border--solid-neutral-hover))
          var(--ğŸŒ€button-state--pressed, var(--âœ¨border--solid-neutral-pressed))
          var(
            --ğŸŒ€button-state--disabled,
            var(--âœ¨border--solid-neutral-disabled)
          );
      }

      &:where([data-kiwi-tone="accent"]) {
        --ğŸ¥button-bg--solid-default: var(--âœ¨bg--solid-accent-default);
        --ğŸ¥button-border-color: var(
            --ğŸŒ€button-state--default,
            var(--âœ¨border--solid-accent-default)
          )
          var(--ğŸŒ€button-state--hover, var(--âœ¨border--solid-accent-hover))
          var(--ğŸŒ€button-state--pressed, var(--âœ¨border--solid-accent-pressed))
          var(
            --ğŸŒ€button-state--disabled,
            var(--âœ¨border--solid-accent-disabled)
          );

        --ğŸ¥button-color: var(--stratakit-color-text-neutral-emphasis);
        --ğŸ¥icon-color: var(--stratakit-color-icon-neutral-emphasis);
        -webkit-tap-highlight-color: var(
          --stratakit-color-bg-glow-on-surface-accent-pressed
        );
      }
    }

    &:where([data-kiwi-variant="outline"]) {
      &:where([data-kiwi-tone="neutral"]) {
        --ğŸ¥button-background-color: var(
            --ğŸŒ€button-state--default,
            var(--âœ¨bg--outline-default)
          )
          var(--ğŸŒ€button-state--hover, var(--âœ¨bg--outline-hover))
          var(--ğŸŒ€button-state--pressed, var(--âœ¨bg--outline-pressed))
          var(--ğŸŒ€button-state--active, var(--âœ¨bg--active))
          var(--ğŸŒ€button-state--disabled, var(--âœ¨bg--outline-disabled));
        --ğŸ¥button-border-color: var(
            --ğŸŒ€button-state--default,
            var(--âœ¨border--outline-default)
          )
          var(--ğŸŒ€button-state--hover, var(--âœ¨border--outline-hover))
          var(--ğŸŒ€button-state--pressed, var(--âœ¨border--outline-pressed))
          var(--ğŸŒ€button-state--disabled, var(--âœ¨border--outline-disabled));
      }

      &:where([data-kiwi-tone="accent"]) {
        --ğŸ¥button-background-color: var(
            --ğŸŒ€button-state--default,
            var(--âœ¨bg--outline-accent-default)
          )
          var(--ğŸŒ€button-state--hover, var(--âœ¨bg--outline-accent-hover))
          var(--ğŸŒ€button-state--pressed, var(--âœ¨bg--outline-accent-pressed))
          var(--ğŸŒ€button-state--active, var(--âœ¨bg--active))
          var(--ğŸŒ€button-state--disabled, var(--âœ¨bg--outline-accent-disabled));
        --ğŸ¥button-border-color: var(
            --ğŸŒ€button-state--default,
            var(--âœ¨border--outline-accent-default)
          )
          var(--ğŸŒ€button-state--hover, var(--âœ¨border--outline-accent-hover))
          var(
            --ğŸŒ€button-state--pressed,
            var(--âœ¨border--outline-accent-pressed)
          )
          var(
            --ğŸŒ€button-state--disabled,
            var(--âœ¨border--outline-accent-disabled)
          );
        --ğŸ¥button-color: var(
            --ğŸŒ€button-state--default,
            var(--âœ¨color--outline-accent-default)
          )
          var(--ğŸŒ€button-state--hover, var(--âœ¨color--outline-accent-hover))
          var(--ğŸŒ€button-state--pressed, var(--âœ¨color--outline-accent-pressed));
        --ğŸ¥icon-color: var(
            --ğŸŒ€button-state--default,
            var(--âœ¨icon--outline-accent-default)
          )
          var(--ğŸŒ€button-state--hover, var(--âœ¨icon--outline-accent-hover))
          var(--ğŸŒ€button-state--pressed, var(--âœ¨icon--outline-accent-pressed));
      }
    }

    &:where([data-kiwi-variant="ghost"]) {
      --ğŸ¥button-border-color: transparent;

      &:where([data-kiwi-tone="neutral"]) {
        --ğŸ¥button-background-color: var(
            --ğŸŒ€button-state--default,
            var(--âœ¨bg--ghost-default)
          )
          var(--ğŸŒ€button-state--hover, var(--âœ¨bg--ghost-hover))
          var(--ğŸŒ€button-state--pressed, var(--âœ¨bg--ghost-pressed))
          var(--ğŸŒ€button-state--active, var(--âœ¨bg--active))
          var(--ğŸŒ€button-state--disabled, var(--âœ¨bg--ghost-disabled));
      }

      &:where([data-kiwi-tone="accent"]) {
        --ğŸ¥button-background-color: var(
            --ğŸŒ€button-state--default,
            var(--âœ¨bg--ghost-accent-default)
          )
          var(--ğŸŒ€button-state--hover, var(--âœ¨bg--ghost-accent-hover))
          var(--ğŸŒ€button-state--pressed, var(--âœ¨bg--ghost-accent-pressed))
          var(--ğŸŒ€button-state--active, var(--âœ¨bg--active))
          var(--ğŸŒ€button-state--disabled, var(--âœ¨bg--ghost-accent-disabled));
        --ğŸ¥button-color: var(
            --ğŸŒ€button-state--default,
            var(--âœ¨color--ghost-accent-default)
          )
          var(--ğŸŒ€button-state--hover, var(--âœ¨color--ghost-accent-hover))
          var(--ğŸŒ€button-state--pressed, var(--âœ¨color--ghost-accent-pressed));
        --ğŸ¥icon-color: var(
            --ğŸŒ€button-state--default,
            var(--âœ¨icon--ghost-accent-default)
          )
          var(--ğŸŒ€button-state--hover, var(--âœ¨icon--ghost-accent-hover))
          var(--ğŸŒ€button-state--pressed, var(--âœ¨icon--ghost-accent-pressed));
      }
    }
  }

  @layer states {
    @media (any-hover: hover) {
      &:where(:hover) {
        --ğŸŒ€button-state: var(--ğŸŒ€button-state--hover);
      }
    }

    /* Reuse hover state when an associated popover is open. */
    &:where([data-has-popover-open]) {
      --ğŸŒ€button-state: var(--ğŸŒ€button-state--hover);
    }

    &:where(:active) {
      --ğŸŒ€button-state: var(--ğŸŒ€button-state--pressed);
    }

    &:where([aria-pressed="true"]) {
      --ğŸŒ€button-state: var(--ğŸŒ€button-state--active);
      --ğŸ¥button-border-color: var(--âœ¨border--active);

      @media (forced-colors: active) {
        background-color: SelectedItem;
        color: SelectedItemText;
      }
    }

    &:where(:disabled, [aria-disabled="true"]) {
      --ğŸŒ€button-state: var(--ğŸŒ€button-state--disabled);
      color: var(--stratakit-color-text-neutral-disabled);
      cursor: not-allowed;
      -webkit-tap-highlight-color: transparent;
      --ğŸ¥icon-color: var(--stratakit-color-icon-neutral-disabled);

      @media (forced-colors: active) {
        border-color: GrayText;
        color: GrayText;
      }
    }
  }

  @layer base.ğŸŒ€ {
    /* Cyclic toggles for default/hover/pressed/active/disabled states. See https://kizu.dev/cyclic-toggles/ */
    --ğŸŒ€button-state: var(--ğŸŒ€button-state--default);
    --ğŸŒ€button-state--default: var(--ğŸŒ€button-state,);
    --ğŸŒ€button-state--hover: var(--ğŸŒ€button-state,);
    --ğŸŒ€button-state--pressed: var(--ğŸŒ€button-state,);
    --ğŸŒ€button-state--active: var(--ğŸŒ€button-state,);
    --ğŸŒ€button-state--disabled: var(--ğŸŒ€button-state,);
  }
}

/*---------------------------------------------------------------------------------------------
 * Copyright (c) Bentley Systems, Incorporated. All rights reserved.
 * See LICENSE.md in the project root for license terms and full copyright notice.
 *--------------------------------------------------------------------------------------------*/
.ğŸ¥-checkbox {
  --âœ¨size: 1rem;

  --âœ¨shadow-border: 0px 0px 0px 1px var(--ğŸ¥checkbox-border-color) inset;

  --âœ¨glow--bg-hover: var(--stratakit-color-glow-hue)
    var(--stratakit-color-bg-glow-base-hover-\%);
  --âœ¨glow--bg-press: var(--stratakit-color-glow-hue)
    var(--stratakit-color-bg-glow-base-pressed-\%);

  --âœ¨bg--default: var(--stratakit-color-bg-neutral-base);
  --âœ¨bg--hover: color-mix(
    in oklch,
    var(--âœ¨bg--default) 100%,
    var(--âœ¨glow--bg-hover)
  );
  --âœ¨bg--checked: var(--stratakit-color-bg-accent-base);
  --âœ¨bg--checked-hover: color-mix(
    in oklch,
    var(--âœ¨bg--checked) 100%,
    var(--âœ¨glow--bg-press)
  );
  --âœ¨bg--disabled: var(--stratakit-color-bg-glow-on-surface-disabled);

  --âœ¨border--default: var(--stratakit-color-border-shadow-base);
  --âœ¨border--hover: color-mix(
    in oklch,
    var(--âœ¨border--default) 100%,
    var(--stratakit-color-glow-hue)
      var(--stratakit-color-border-glow-base-hover-\%)
  );
  --âœ¨border--checked: var(--stratakit-color-border-shadow-strong);
  --âœ¨border--checked-hover: color-mix(
    in oklch,
    var(--âœ¨border--checked) 100%,
    var(--stratakit-color-glow-hue)
      var(--stratakit-color-border-glow-base-pressed-\%)
  );
  --âœ¨border--disabled: transparent;

  @layer base {
    --ğŸ¥checkbox-color-svg: var(--stratakit-color-icon-neutral-emphasis);
    --ğŸ¥checkbox-border-radius: 4px;

    --ğŸ¥checkbox-unchecked-svg: url('data:image/svg+xml;utf8,<svg viewBox="0 0 16 16"></svg>');
    --ğŸ¥checkbox-checkmark-svg: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M11.2 5.6 6.8 10l-2-2"/></svg>');
    --ğŸ¥checkbox-indeterminate-svg: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 8h6.5"/></svg>');

    appearance: none;
    inline-size: var(--âœ¨size);
    block-size: var(--âœ¨size);
    cursor: pointer;

    background-color: var(
        --ğŸŒ€checkbox-visual-state--default,
        var(--âœ¨bg--default)
      )
      var(--ğŸŒ€checkbox-visual-state--hover, var(--âœ¨bg--hover))
      var(--ğŸŒ€checkbox-visual-state--checked, var(--âœ¨bg--checked))
      var(--ğŸŒ€checkbox-visual-state--checked-hover, var(--âœ¨bg--checked-hover))
      var(--ğŸŒ€checkbox-visual-state--disabled, var(--âœ¨bg--disabled));
    border-radius: var(--ğŸ¥checkbox-border-radius);
    color: var(--ğŸŒ€checkbox-aria-state--unchecked, transparent)
      var(--ğŸŒ€checkbox-aria-state--checked, var(--ğŸ¥checkbox-color-svg))
      var(--ğŸŒ€checkbox-aria-state--indeterminate, var(--ğŸ¥checkbox-color-svg));
    transition: all 150ms ease-out;
    transition-property:
      background-color, border-color, box-shadow, --ğŸ¥checkbox-border-color;
    position: relative;
    box-shadow:
      var(--stratakit-shadow-button-base-inset), var(--âœ¨shadow-border),
      var(--stratakit-shadow-button-base-drop);
    -webkit-tap-highlight-color: var(
      --stratakit-color-bg-glow-on-surface-accent-pressed
    );

    --ğŸ¥checkbox-border-color: var(
        --ğŸŒ€checkbox-visual-state--default,
        var(--âœ¨border--default)
      )
      var(--ğŸŒ€checkbox-visual-state--hover, var(--âœ¨border--hover))
      var(--ğŸŒ€checkbox-visual-state--checked, var(--âœ¨border--checked))
      var(
        --ğŸŒ€checkbox-visual-state--checked-hover,
        var(--âœ¨border--checked-hover)
      )
      var(--ğŸŒ€checkbox-visual-state--disabled, var(--âœ¨border--disabled));
    --ğŸ¥checkbox-mask-image: var(
        --ğŸŒ€checkbox-aria-state--unchecked,
        var(--ğŸ¥checkbox-unchecked-svg)
      )
      var(--ğŸŒ€checkbox-aria-state--checked, var(--ğŸ¥checkbox-checkmark-svg))
      var(
        --ğŸŒ€checkbox-aria-state--indeterminate,
        var(--ğŸ¥checkbox-indeterminate-svg)
      );

    &::before,
    &::after {
      content: "";
      position: absolute;
      inset: 0px;
    }

    /* This pseudo-element increases tap target size to 24x24 */
    &::before {
      inset: calc((var(--âœ¨size) - 24px) / 2);
    }

    /* This pseudo-element adds the actual checkmark SVG via --ğŸ¥checkbox-mask-image */
    &::after {
      background-color: currentColor;
      mask-image: var(--ğŸ¥checkbox-mask-image, initial);
      mask-repeat: no-repeat;
      mask-position: center;
    }
  }

  @layer states {
    @media (any-hover: hover) {
      &:where(:hover) {
        --ğŸŒ€checkbox-visual-state: var(--ğŸŒ€checkbox-visual-state--hover);
      }
    }

    &:where(:checked, [aria-checked="true"]) {
      --ğŸŒ€checkbox-visual-state: var(--ğŸŒ€checkbox-visual-state--checked);
      --ğŸŒ€checkbox-aria-state: var(--ğŸŒ€checkbox-aria-state--checked);

      @media (any-hover: hover) {
        &:where(:hover) {
          --ğŸŒ€checkbox-visual-state: var(
            --ğŸŒ€checkbox-visual-state--checked-hover
          );
        }
      }
    }

    &:where(:indeterminate, [aria-checked="mixed"]) {
      --ğŸŒ€checkbox-visual-state: var(--ğŸŒ€checkbox-visual-state--checked);
      --ğŸŒ€checkbox-aria-state: var(--ğŸŒ€checkbox-aria-state--indeterminate);
    }

    &:where(:disabled, [aria-disabled="true"]) {
      --ğŸŒ€checkbox-visual-state: var(--ğŸŒ€checkbox-visual-state--disabled);
      --ğŸ¥checkbox-color-svg: var(--stratakit-color-icon-neutral-disabled);
      cursor: not-allowed;
      box-shadow: none;
      -webkit-tap-highlight-color: transparent;
    }
  }

  @layer base.ğŸŒ€ {
    /* Cyclic toggles for default/hover/checked/checked+hover/disabled states. See https://kizu.dev/cyclic-toggles/ */
    --ğŸŒ€checkbox-visual-state: var(--ğŸŒ€checkbox-visual-state--default);
    --ğŸŒ€checkbox-visual-state--default: var(--ğŸŒ€checkbox-visual-state,);
    --ğŸŒ€checkbox-visual-state--hover: var(--ğŸŒ€checkbox-visual-state,);
    --ğŸŒ€checkbox-visual-state--checked: var(--ğŸŒ€checkbox-visual-state,);
    --ğŸŒ€checkbox-visual-state--checked-hover: var(--ğŸŒ€checkbox-visual-state,);
    --ğŸŒ€checkbox-visual-state--disabled: var(--ğŸŒ€checkbox-visual-state,);

    /* Cyclic toggles for unchecked/checked/indeterminate states. */
    --ğŸŒ€checkbox-aria-state: var(--ğŸŒ€checkbox-aria-state--unchecked);
    --ğŸŒ€checkbox-aria-state--unchecked: var(--ğŸŒ€checkbox-aria-state,);
    --ğŸŒ€checkbox-aria-state--checked: var(--ğŸŒ€checkbox-aria-state,);
    --ğŸŒ€checkbox-aria-state--indeterminate: var(--ğŸŒ€checkbox-aria-state,);
  }
}

@media (forced-colors: active) {
  .ğŸ¥-checkbox {
    border: 1px solid CanvasText;

    &:where(
      :checked,
      [type="checkbox"]:indeterminate,
      [aria-checked="true"],
      [aria-checked="mixed"]
    ) {
      background-color: SelectedItem;

      &::after {
        background-color: SelectedItemText;
      }
    }

    &:where(:disabled, [aria-disabled="true"]) {
      background-color: Canvas;
      border-color: GrayText;

      &::after {
        background-color: GrayText;
      }
    }
  }
}

/*---------------------------------------------------------------------------------------------
 * Copyright (c) Bentley Systems, Incorporated. All rights reserved.
 * See LICENSE.md in the project root for license terms and full copyright notice.
 *--------------------------------------------------------------------------------------------*/
.ğŸ¥-field {
  --âœ¨layout-inline-label-first: [label-start] auto [label-end control-start]
    auto [control-end];
  --âœ¨layout-inline-control-first: [control-start] auto [control-end
    label-start] auto [label-end];
  --âœ¨layout-stacked: [label-start control-start] auto [label-end control-end];

  @layer base {
    display: grid;
    gap: 4px; /* space/x1 */
    align-items: center;
    justify-content: start;

    /* Default layout */
    grid-template-columns: var(--âœ¨layout-inline-label-first);

    /* By default align the descriptions with the label */
    --ğŸ¥field-description-column: label-start / label-end;

    /* With checkable fields, when the label is not first, switch to control-first layout */
    &:where(
      [data-kiwi-control-type="checkable"][data-kiwi-label-placement="after"]
    ) {
      grid-template-columns: var(--âœ¨layout-inline-control-first);
    }

    &:where([data-kiwi-control-type="textlike"]) {
      /* Descriptions should be aligned with the control for text and combobox controls */
      --ğŸ¥field-description-column: control-start / control-end;

      /* Align labels with the control text (when inline) */
      align-items: baseline;

      /* Default to stacked layout unless inline has been specified */
      &:where(:not([data-kiwi-layout="inline"])) {
        grid-template-columns: var(--âœ¨layout-stacked);
      }
    }

    :where(.ğŸ¥-description) {
      grid-column: var(--ğŸ¥field-description-column);
    }
  }
}

/*---------------------------------------------------------------------------------------------
 * Copyright (c) Bentley Systems, Incorporated. All rights reserved.
 * See LICENSE.md in the project root for license terms and full copyright notice.
 *--------------------------------------------------------------------------------------------*/
.ğŸ¥-label {
  @layer base {
    color: var(--stratakit-color-text-neutral-secondary);
    cursor: default;
    font-size: var(--stratakit-font-size-12);

    &:is(label) {
      cursor: pointer;
      -webkit-tap-highlight-color: var(
        --stratakit-color-bg-glow-on-surface-neutral-pressed
      );
    }
  }

  @layer states {
    &:has(+ :where(:disabled, [aria-disabled="true"])) {
      color: var(--stratakit-color-text-neutral-disabled);

      &:is(label) {
        cursor: not-allowed;
        -webkit-tap-highlight-color: transparent;
      }
    }
  }
}

/*---------------------------------------------------------------------------------------------
 * Copyright (c) Bentley Systems, Incorporated. All rights reserved.
 * See LICENSE.md in the project root for license terms and full copyright notice.
 *--------------------------------------------------------------------------------------------*/
.ğŸ¥-select-root {
  @layer base {
    &:where(:has(select.ğŸ¥-select), [data-kiwi-has-select="true"]) {
      display: inline-grid;
      align-items: center;
      isolation: isolate;

      > * {
        grid-area: 1 / 1 / -1 / -1;
      }
    }
  }
}

.ğŸ¥-select:is(.ğŸ¥-button) {
  --âœ¨padding-inline-start: 8px;
  --âœ¨padding-inline-end: calc(
    4px + 16px + 4px
  ); /* (gap) + (arrow size) + (padding-inline - disclosure arrow offset) */

  @layer base {
    min-inline-size: calc(
      var(--âœ¨padding-inline-start) + 1ch + var(--âœ¨padding-inline-end)
    );
    text-overflow: ellipsis;

    &:where(select:not([multiple])) {
      appearance: none;
      --ğŸ¥button-padding-inline: var(--âœ¨padding-inline-start)
        var(--âœ¨padding-inline-end);
      --ğŸ¥ghost-inline-offset: var(--âœ¨padding-inline-start);

      > option {
        background-color: var(--stratakit-color-bg-neutral-base);
      }
    }
  }
}

.ğŸ¥-select-arrow:is(.ğŸ¥-disclosure-arrow) {
  @layer base {
    justify-self: end;
    margin-inline-end: 4px; /* (padding - disclosure offset) */
    pointer-events: none;
    z-index: 1; /* should be above the button */

    --ğŸ¥icon-color: var(
        --ğŸŒ€select-arrow-state--default,
        var(--stratakit-color-icon-neutral-base)
      )
      var(
        --ğŸŒ€select-arrow-state--hover,
        var(--stratakit-color-icon-neutral-hover)
      )
      var(
        --ğŸŒ€select-arrow-state--disabled,
        var(--stratakit-color-icon-neutral-disabled)
      );
  }

  @layer states {
    @media (any-hover: hover) {
      :where(.ğŸ¥-select:hover) + & {
        --ğŸŒ€select-arrow-state: var(--ğŸŒ€select-arrow-state--hover);
      }
    }

    :where(.ğŸ¥-select:disabled) + & {
      --ğŸŒ€select-arrow-state: var(--ğŸŒ€select-arrow-state--disabled);
    }
  }

  @layer base.ğŸŒ€ {
    --ğŸŒ€select-arrow-state: var(--ğŸŒ€select-arrow-state--default);
    --ğŸŒ€select-arrow-state--default: var(--ğŸŒ€select-arrow-state,);
    --ğŸŒ€select-arrow-state--hover: var(--ğŸŒ€select-arrow-state,);
    --ğŸŒ€select-arrow-state--disabled: var(--ğŸŒ€select-arrow-state,);
  }
}
